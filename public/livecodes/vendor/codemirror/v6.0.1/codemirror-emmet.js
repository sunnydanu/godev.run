import{keymap as Na}from"@codemirror/view";import{EditorView as Me,Decoration as X,showTooltip as hu,ViewPlugin as un,keymap as on}from"@codemirror/view";import{Facet as du,EditorState as gu,StateEffect as We,StateField as Re,EditorSelection as w}from"@codemirror/state";import{htmlLanguage as V,html as gt}from"@codemirror/lang-html";import{cssLanguage as N,css as bt}from"@codemirror/lang-css";import{pickedCompletion as sn,completionStatus as _e,snippet as ln}from"@codemirror/autocomplete";import{syntaxTree as $,language as bu,syntaxHighlighting as vu,defaultHighlightStyle as yu}from"@codemirror/language";import{undo as xu}from"@codemirror/commands";var au=Object.defineProperty,fu=Object.defineProperties,cu=Object.getOwnPropertyDescriptors,dt=Object.getOwnPropertySymbols,pu=Object.prototype.hasOwnProperty,mu=Object.prototype.propertyIsEnumerable,Fe=(e,t,n)=>t in e?au(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))pu.call(t,n)&&Fe(e,n,t[n]);if(dt)for(var n of dt(t))mu.call(t,n)&&Fe(e,n,t[n]);return e},I=(e,t)=>fu(e,cu(t)),Be=(e,t,n)=>(Fe(e,typeof t!="symbol"?t+"":t,n),n);function A(e){return e>47&&e<58}function fe(e,t,n){return t=t||65,n=n||90,e&=-33,e>=t&&e<=n}function an(e){return A(e)||ce(e)}function ce(e){return e===95||fe(e)}function wu(e){return e===32||e===9||e===160}function He(e){return wu(e)||e===10||e===13}function Ue(e){return e===39||e===34}var ee=class e{constructor(t,n,r){r==null&&typeof t=="string"&&(r=t.length),this.string=t,this.pos=this.start=n||0,this.end=r||0}eof(){return this.pos>=this.end}limit(t,n){return new e(this.string,t,n)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(t){let n=this.peek(),r=typeof t=="function"?t(n):n===t;return r&&this.next(),r}eatWhile(t){let n=this.pos;for(;!this.eof()&&this.eat(t););return this.pos!==n}backUp(t){this.pos-=t||1}current(){return this.substring(this.start,this.pos)}substring(t,n){return this.string.slice(t,n)}error(t,n=this.pos){return new Z(`${t} at ${n+1}`,n,this.string)}},Z=class extends Error{constructor(t,n,r){super(t),this.pos=n,this.string=r}};function Cu(e){return{tokens:e,start:0,pos:0,size:e.length}}function q(e){return e.tokens[e.pos]}function Ze(e){return e.tokens[e.pos++]}function M(e,t=e.start,n=e.pos){return e.tokens.slice(t,n)}function S(e){return e.pos<e.size}function m(e,t){let n=q(e);return n&&t(n)?(e.pos++,!0):!1}function Qe(e,t,n=q(e)){n&&n.start!=null&&(t+=` at ${n.start}`);let r=new Error(t);return r.pos=n&&n.start,r}function $u(e,t={}){let n=Cu(e),r=fn(n,t);if(S(n))throw Qe(n,"Unexpected character");return r}function fn(e,t){let n={type:"TokenGroup",elements:[]},r=n,u,i=[];for(;S(e)&&(u=Au(e,t)||ku(e,t));)if(r.elements.push(u),m(e,Vu))i.push(r),r=u;else{if(m(e,qu))continue;if(m(e,wt))do i.length&&(r=i.pop());while(m(e,wt))}return n}function ku(e,t){if(m(e,Pu)){let n=fn(e,t),r=Ze(e);return v(r,"group",!1)&&(n.repeat=Nu(e)),n}}function Au(e,t){let n,r={type:"TokenElement",name:void 0,attributes:void 0,value:void 0,repeat:void 0,selfClose:!1,elements:[]};for(Tu(e,t)&&(r.name=M(e));S(e);)if(e.start=e.pos,!r.repeat&&!we(r)&&m(e,ne))r.repeat=e.tokens[e.pos-1];else if(!r.value&&cn(e))r.value=pn(e);else if(n=vt(e,"id",t)||vt(e,"class",t)||Su(e))r.attributes?r.attributes=r.attributes.concat(n):r.attributes=Array.isArray(n)?n.slice():[n];else{!we(r)&&m(e,Mu)&&(r.selfClose=!0,!r.repeat&&m(e,ne)&&(r.repeat=e.tokens[e.pos-1]));break}return we(r)?void 0:r}function Su(e){if(m(e,Ou)){let t=[],n;for(;S(e);)if(n=Eu(e))t.push(n);else{if(m(e,ju))break;if(!m(e,mn))throw Qe(e,`Unexpected "${q(e).type}" token`)}return t}}function vt(e,t,n){if(O(q(e),t)){e.pos++;let r={name:[zu(t)]};return n.jsx&&cn(e)?(r.value=pn(e),r.expression=!0):r.value=Ie(e)?M(e):void 0,r}}function Eu(e){if(yt(e))return{value:M(e)};if(Ie(e,!0))return{name:M(e),value:m(e,Fu)&&(yt(e)||Ie(e,!0))?M(e):void 0}}function Nu(e){return ne(q(e))?e.tokens[e.pos++]:void 0}function yt(e){let t=e.pos,n=q(e);if(te(n)){for(e.pos++;S(e);)if(te(Ze(e),n.single))return e.start=t,!0;throw Qe(e,"Unclosed quote",n)}return!1}function Ie(e,t){let n=e.pos,r={attribute:0,expression:0,group:0};for(;S(e);){let u=q(e);if(r.expression)v(u,"expression")&&(r[u.context]+=u.open?1:-1);else{if(te(u)||O(u)||mn(u)||ne(u))break;if(v(u)){if(!t)break;if(u.open)r[u.context]++;else if(r[u.context])r[u.context]--;else break}}e.pos++}return n!==e.pos?(e.start=n,!0):!1}function Tu(e,t){let n=e.pos;if(t.jsx&&m(e,xt))for(;S(e);){let{pos:r}=e;if(!m(e,Du)||!m(e,xt)){e.pos=r;break}}for(;S(e)&&m(e,Iu););return e.pos!==n?(e.start=n,!0):!1}function cn(e){let t=e.pos;if(m(e,Lu)){let n=0;for(;S(e);){let r=Ze(e);if(v(r,"expression"))if(r.open)n++;else if(n)n--;else break}return e.start=t,!0}return!1}function pn(e){let t=e.start,n=e.pos;return v(e.tokens[t],"expression",!0)&&t++,v(e.tokens[n-1],"expression",!1)&&n--,M(e,t,n)}function v(e,t,n){return!!(e&&e.type==="Bracket"&&(!t||e.context===t)&&(n==null||e.open===n))}function O(e,t){return!!(e&&e.type==="Operator"&&(!t||e.operator===t))}function te(e,t){return!!(e&&e.type==="Quote"&&(t==null||e.single===t))}function mn(e){return!!(e&&e.type==="WhiteSpace")}function Fu(e){return O(e,"equal")}function ne(e){return!!(e&&e.type==="Repeater")}function Bu(e){return e.type==="Literal"}function xt(e){if(Bu(e)){let t=e.value.charCodeAt(0);return t>=65&&t<=90}return!1}function Iu(e){return e.type==="Literal"||e.type==="RepeaterNumber"||e.type==="RepeaterPlaceholder"}function Du(e){return O(e,"class")}function Ou(e){return v(e,"attribute",!0)}function ju(e){return v(e,"attribute",!1)}function Lu(e){return v(e,"expression",!0)}function Pu(e){return v(e,"group",!0)}function zu(e){return{type:"Literal",value:e}}function we(e){return!e.name&&!e.value&&!e.attributes}function Vu(e){return O(e,"child")}function qu(e){return O(e,"sibling")}function wt(e){return O(e,"climb")}function Mu(e){return O(e,"close")}function Wu(e){return e.eat(92)?(e.start=e.pos,e.eof()||e.pos++,!0):!1}function Ru(e){let t=new ee(e),n=[],r={group:0,attribute:0,expression:0,quote:0},u=0,i;for(;!t.eof();)if(u=t.peek(),i=_u(t,r),i)n.push(i),i.type==="Quote"?r.quote=u===r.quote?0:u:i.type==="Bracket"&&(r[i.context]+=i.open?1:-1);else throw t.error("Unexpected character");return n}function _u(e,t){return Ku(e,t)||Ju(e)||Xu(e)||Yu(e)||Uu(e)||Hu(e,t)||Gu(e)||Zu(e)||Qu(e)}function Hu(e,t){let n=e.pos,r="";for(;!e.eof();){if(Wu(e)){r+=e.current();continue}let u=e.peek();if(u===t.quote||u===36||ei(u,t)||t.expression&&u===125||!t.quote&&!t.expression&&(!t.attribute&&!ui(u)||ti(u,t)||ni(u,t)||Ue(u)||hn(u)))break;r+=e.string[e.pos++]}if(n!==e.pos)return e.start=n,{type:"Literal",value:r,start:n,end:e.pos}}function Uu(e){let t=e.pos;if(e.eatWhile(He))return{type:"WhiteSpace",start:t,end:e.pos,value:e.substring(t,e.pos)}}function Zu(e){let t=e.peek();if(Ue(t))return{type:"Quote",single:t===39,start:e.pos++,end:e.pos}}function Qu(e){let t=e.peek(),n=hn(t);if(n)return{type:"Bracket",open:ri(t),context:n,start:e.pos++,end:e.pos}}function Gu(e){let t=dn(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function Yu(e){let t=e.pos;if(e.eat(42)){e.start=e.pos;let n=1,r=!1;return e.eatWhile(A)?n=Number(e.current()):r=!0,{type:"Repeater",count:n,value:0,implicit:r,start:t,end:e.pos}}}function Ju(e){let t=e.pos;if(e.eat(36)&&e.eat(35))return{type:"RepeaterPlaceholder",value:void 0,start:t,end:e.pos};e.pos=t}function Xu(e){let t=e.pos;if(e.eatWhile(36)){let n=e.pos-t,r=!1,u=1,i=0;if(e.eat(64)){for(;e.eat(94);)i++;r=e.eat(45),e.start=e.pos,e.eatWhile(A)&&(u=Number(e.current()))}return e.start=t,{type:"RepeaterNumber",size:n,reverse:r,base:u,parent:i,start:t,end:e.pos}}}function Ku(e,t){let n=e.pos;if((t.expression||t.attribute)&&e.eat(36)&&e.eat(123)){e.start=e.pos;let r,u="";if(e.eatWhile(A)?(r=Number(e.current()),u=e.eat(58)?Ct(e):""):fe(e.peek())&&(u=Ct(e)),e.eat(125))return{type:"Field",index:r,name:u,start:n,end:e.pos};throw e.error("Expecting }")}e.pos=n}function Ct(e){let t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function ei(e,t){let n=dn(e);return!n||t.quote||t.expression?!1:!t.attribute||n==="equal"}function ti(e,t){return He(e)&&!t.expression}function ni(e,t){return e===42&&!t.attribute&&!t.expression}function hn(e){if(e===40||e===41)return"group";if(e===91||e===93)return"attribute";if(e===123||e===125)return"expression"}function dn(e){return e===62&&"child"||e===43&&"sibling"||e===94&&"climb"||e===46&&"class"||e===35&&"id"||e===47&&"close"||e===61&&"equal"||void 0}function ri(e){return e===123||e===91||e===40}function ui(e){return an(e)||e===45||e===58||e===33}var ii={child:">",class:".",climb:"^",id:"#",equal:"=",close:"/",sibling:"+"},$t={Literal(e){return e.value},Quote(e){return e.single?"'":'"'},Bracket(e){return e.context==="attribute"?e.open?"[":"]":e.context==="expression"?e.open?"{":"}":e.open?"(":"}"},Operator(e){return ii[e.operator]},Field(e,t){return e.index!=null?e.name?`\${${e.index}:${e.name}}`:`\${${e.index}`:e.name?t.getVariable(e.name):""},RepeaterPlaceholder(e,t){let n;for(let r=t.repeaters.length-1;r>=0;r--)if(t.repeaters[r].implicit){n=t.repeaters[r];break}return t.inserted=!0,t.getText(n&&n.value)},RepeaterNumber(e,t){let n=1,r=t.repeaters.length-1,u=t.repeaters[r];if(u&&(n=e.reverse?e.base+u.count-u.value-1:e.base+u.value,e.parent)){let o=Math.max(0,r-e.parent);if(o!==r){let s=t.repeaters[o];n+=u.count*s.value}}let i=String(n);for(;i.length<e.size;)i="0"+i;return i},WhiteSpace(e){return e.value}};function gn(e,t){if(!$t[e.type])throw new Error(`Unknown token ${e.type}`);return $t[e.type](e,t)}var oi=/^((https?:|ftp:|file:)?\/\/|(www|ftp)\.)[^ ]*$/,si=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,5}$/;function li(e,t={}){let n=!1,r;t.text&&(Array.isArray(t.text)?r=t.text.filter(i=>i.trim()):r=t.text);let u={type:"Abbreviation",children:De(e,{inserted:!1,repeaters:[],text:t.text,cleanText:r,repeatGuard:t.maxRepeat||Number.POSITIVE_INFINITY,getText(i){var o;n=!0;let s;if(Array.isArray(t.text)){if(i!==void 0&&i>=0&&i<r.length)return r[i];s=i!==void 0?t.text[i]:t.text.join(`
`)}else s=(o=t.text)!==null&&o!==void 0?o:"";return s},getVariable(i){let o=t.variables&&t.variables[i];return o??i}})};if(t.text!=null&&!n){let i=Ge(_(u.children));if(i){let o=Array.isArray(t.text)?t.text.join(`
`):t.text;wn(i,o),i.name==="a"&&t.href&&fi(i,o)}}return u}function bn(e,t){let n=[];if(e.repeat){let r=e.repeat,u=Object.assign({},r);u.count=u.implicit&&Array.isArray(t.text)?t.cleanText.length:u.count||1;let i;t.repeaters.push(u);for(let o=0;o<u.count;o++){if(u.value=o,e.repeat=u,i=At(e)?De(e,t):kt(e,t),u.implicit&&!t.inserted){let s=_(i),l=s&&Ge(s);l&&wn(l,t.getText(u.value))}if(n=n.concat(i),--t.repeatGuard<=0)break}t.repeaters.pop(),e.repeat=r,u.implicit&&(t.inserted=!0)}else n=n.concat(At(e)?De(e,t):kt(e,t));return n}function kt(e,t){let n=[],r={type:"AbbreviationNode",name:e.name&&vn(e.name,t),value:e.value&&yn(e.value,t),attributes:void 0,children:n,repeat:e.repeat&&Object.assign({},e.repeat),selfClosing:e.selfClose},u=[r];for(let i of e.elements)n=n.concat(bn(i,t));if(e.attributes){r.attributes=[];for(let i of e.attributes)r.attributes.push(ai(i,t))}return!r.name&&!r.attributes&&r.value&&!r.value.some(xn)?u=u.concat(n):r.children=n,u}function De(e,t){let n=[];for(let r of e.elements)n=n.concat(bn(r,t));return e.repeat&&(n=ci(n,e.repeat)),n}function ai(e,t){let n=!1,r=!1,u=e.expression?"expression":"raw",i,o=e.name&&vn(e.name,t);if(o&&o[0]==="!"&&(n=!0),o&&o[o.length-1]==="."&&(r=!0),e.value){let s=e.value.slice();if(te(s[0])){let l=s.shift();s.length&&_(s).type===l.type&&s.pop(),u=l.single?"singleQuote":"doubleQuote"}else v(s[0],"expression",!0)&&(u="expression",s.shift(),v(_(s),"expression",!1)&&s.pop());i=yn(s,t)}return{name:r||n?o.slice(n?1:0,r?-1:void 0):o,value:i,boolean:r,implied:n,valueType:u}}function vn(e,t){let n="";for(let r=0;r<e.length;r++)n+=gn(e[r],t);return n}function yn(e,t){let n=[],r="";for(let u=0,i;u<e.length;u++)i=e[u],xn(i)?(r&&(n.push(r),r=""),n.push(i)):r+=gn(i,t);return r&&n.push(r),n}function At(e){return e.type==="TokenGroup"}function xn(e){return typeof e=="object"&&e.type==="Field"&&e.index!=null}function _(e){return e[e.length-1]}function Ge(e){return e.children.length?Ge(_(e.children)):e}function wn(e,t){e.value?typeof _(e.value)=="string"?e.value[e.value.length-1]+=t:e.value.push(t):e.value=[t]}function fi(e,t){var n;let r="";oi.test(t)?(r=t,!/\w+:/.test(r)&&!r.startsWith("//")&&(r=`http://${r}`)):si.test(t)&&(r=`mailto:${t}`);let u=(n=e.attributes)===null||n===void 0?void 0:n.find(i=>i.name==="href");u?u.value||(u.value=[r]):e.attributes=[{name:"href",value:[r],valueType:"doubleQuote"}]}function ci(e,t){for(let n of e)n.repeat||(n.repeat=Object.assign({},t));return e}function Ye(e,t){try{let n=typeof e=="string"?Ru(e):e;return li($u(n,t),t)}catch(n){throw n instanceof Z&&typeof e=="string"&&(n.message+=`
${e}
${"-".repeat(n.pos)}^`),n}}function pi(e,t){let n=0,r,u=new ee(e),i=[];for(;!u.eof();){if(r=mi(u,n===0&&!t),!r)throw u.error("Unexpected character");if(r.type==="Bracket"&&(!n&&r.open&&Ni(u,i),n+=r.open?1:-1,n<0))throw u.error("Unexpected bracket",r.start);i.push(r),Ei(r)&&(r=Cn(u))&&i.push(r)}return i}function mi(e,t){return hi(e)||gi(e)||vi(e)||bi(e)||xi(e)||Cn(e)||yi(e)||di(e,t)}function hi(e){let t=e.pos;if(e.eat(36)&&e.eat(123)){e.start=e.pos;let n,r="";if(e.eatWhile(A)?(n=Number(e.current()),r=e.eat(58)?St(e):""):fe(e.peek())&&(r=St(e)),e.eat(125))return{type:"Field",index:n,name:r,start:t,end:e.pos};throw e.error("Expecting }")}e.pos=t}function St(e){let t=[];for(e.start=e.pos;!e.eof();)if(e.eat(123))t.push(e.pos);else if(e.eat(125)){if(!t.length){e.pos--;break}t.pop()}else e.pos++;if(t.length)throw e.pos=t.pop(),e.error("Expecting }");return e.current()}function di(e,t){let n=e.pos;if(e.eat(Ci)?e.eatWhile(n?Et:$e):e.eat(ce)?e.eatWhile(t?$e:Et):(e.eat(46),e.eatWhile($e)),n!==e.pos)return e.start=n,Je(e,e.start=n)}function Je(e,t=e.start,n=e.pos){return{type:"Literal",value:e.substring(t,n),start:t,end:n}}function gi(e){let t=e.pos;if(wi(e)){e.start=t;let n=e.current();return e.start=e.pos,e.eat(37)||e.eatWhile(ce),{type:"NumberValue",value:Number(n),rawValue:n,unit:e.current(),start:t,end:e.pos}}}function bi(e){let t=e.peek(),n=e.pos,r=!1;if(Ue(t)){for(e.pos++;!e.eof();)if(e.eat(t)){r=!0;break}else e.pos++;return e.start=n,{type:"StringValue",value:e.substring(n+1,e.pos-(r?1:0)),quote:t===39?"single":"double",start:n,end:e.pos}}}function vi(e){let t=e.pos;if(e.eat(35)){let n=e.pos,r="",u="";if(e.eatWhile(ki)?(r=e.substring(n,e.pos),u=Ce(e)):e.eat(116)?(r="0",u=Ce(e)||"0"):u=Ce(e),r||u||e.eof()){let{r:i,g:o,b:s,a:l}=Si(r,u);return{type:"ColorValue",r:i,g:o,b:s,a:l,raw:e.substring(t+1,e.pos),start:t,end:e.pos}}else return Je(e,t)}e.pos=t}function Ce(e){let t=e.pos;return e.eat(46)?(e.start=t,e.eatWhile(A)?e.current():"1"):""}function yi(e){let t=e.pos;if(e.eatWhile(He))return{type:"WhiteSpace",start:t,end:e.pos}}function xi(e){let t=e.peek();if(Ai(t))return{type:"Bracket",open:t===40,start:e.pos++,end:e.pos}}function Cn(e){let t=$i(e.peek());if(t)return{type:"Operator",operator:t,start:e.pos++,end:e.pos}}function wi(e){let t=e.pos;e.eat(45);let n=e.pos,r=e.eatWhile(A),u=e.pos;if(e.eat(46)){let i=e.eatWhile(A);!r&&!i&&(e.pos=u)}return e.pos===n&&(e.pos=t),e.pos!==t}function Ci(e){return e===64||e===36}function $i(e){return e===43&&"+"||e===33&&"!"||e===44&&","||e===58&&":"||e===45&&"-"||void 0}function ki(e){return A(e)||fe(e,65,70)}function Et(e){return an(e)||e===45}function Ai(e){return e===40||e===41}function $e(e){return ce(e)||e===37||e===47}function Si(e,t){let n="0",r="0",u="0",i=Number(t!=null&&t!==""?t:1);if(e==="t")i=0;else switch(e.length){case 0:break;case 1:n=r=u=e+e;break;case 2:n=r=u=e;break;case 3:n=e[0]+e[0],r=e[1]+e[1],u=e[2]+e[2];break;default:e+=e,n=e.slice(0,2),r=e.slice(2,4),u=e.slice(4,6)}return{r:parseInt(n,16),g:parseInt(r,16),b:parseInt(u,16),a:i}}function Ei(e){return e.type==="ColorValue"||e.type==="NumberValue"&&!e.unit}function Ni(e,t){let n=0,r=0;for(;t.length;){let u=Ti(t);if(u.type==="Literal"||u.type==="NumberValue")n=u.start,r||(r=u.end),t.pop();else break}n!==r&&t.push(Je(e,n,r))}function Ti(e){return e[e.length-1]}function Fi(e){return{tokens:e,start:0,pos:0,size:e.length}}function pe(e){return e.tokens[e.pos]}function me(e){return e.pos<e.size}function k(e,t){return t(pe(e))?(e.pos++,!0):!1}function $n(e,t,n=pe(e)){n&&n.start!=null&&(t+=` at ${n.start}`);let r=new Error(t);return r.pos=n&&n.start,r}function Bi(e,t={}){let n=Fi(e),r=[],u;for(;me(n);)if(u=Ii(n,t))r.push(u);else if(!k(n,Li))throw $n(n,"Unexpected token");return r}function Ii(e,t){let n,r=!1,u,i=[],o=pe(e),s=!!t.value;for(!s&&Xe(o)&&!qi(e)&&(e.pos++,n=o.value,k(e,En)),s&&k(e,Ke);me(e);)if(k(e,zi))r=!0;else if(u=kn(e,s))i.push(u);else if(!k(e,Pi))break;if(n||i.length||r)return{name:n,value:i,important:r}}function kn(e,t){let n=[],r,u;for(;me(e);)if(r=pe(e),Vi(r))e.pos++,Xe(r)&&(u=Di(e))?n.push({type:"FunctionCall",name:r.value,arguments:u}):n.push(r);else if(En(r)||t&&Ke(r))e.pos++;else break;return n.length?{type:"CSSValue",value:n}:void 0}function Di(e){let t=e.pos;if(k(e,Oi)){let n=[],r;for(;me(e)&&!k(e,ji);)if(r=kn(e,!0))n.push(r);else if(!k(e,Ke)&&!k(e,Sn))throw $n(e,"Unexpected token");return e.start=t,n}}function Xe(e){return e&&e.type==="Literal"}function An(e,t){return e&&e.type==="Bracket"&&(t==null||e.open===t)}function Oi(e){return An(e,!0)}function ji(e){return An(e,!1)}function Ke(e){return e&&e.type==="WhiteSpace"}function Q(e,t){return e&&e.type==="Operator"&&(!t||e.operator===t)}function Li(e){return Q(e,"+")}function Sn(e){return Q(e,",")}function Pi(e){return Sn(e)}function zi(e){return Q(e,"!")}function Vi(e){return e.type==="StringValue"||e.type==="ColorValue"||e.type==="NumberValue"||e.type==="Literal"||e.type==="Field"}function En(e){return Q(e,":")||Q(e,"-")}function qi(e){let t=e.tokens[e.pos],n=e.tokens[e.pos+1];return t&&n&&Xe(t)&&n.type==="Bracket"}function Nn(e,t){try{let n=typeof e=="string"?pi(e,t&&t.value):e;return Bi(n,t)}catch(n){throw n instanceof Z&&typeof e=="string"&&(n.message+=`
${e}
${"-".repeat(n.pos)}^`),n}}function Mi(e,t){if(!e.attributes)return;let n=[],r={};for(let u of e.attributes)if(u.name){let i=u.name;if(i in r){let o=r[i];i==="class"?o.value=Wi(o.value,u.value," "):Ri(o,u,t)}else n.push(r[i]=Object.assign({},u))}else n.push(u);e.attributes=n}function Wi(e,t,n){if(e&&t){e.length&&n&&Nt(e,n);for(let u of t)Nt(e,u);return e}let r=e||t;return r&&r.slice()}function Ri(e,t,n){return e.name=t.name,n.options["output.reverseAttributes"]||(e.value=t.value),e.implied||(e.implied=t.implied),e.boolean||(e.boolean=t.boolean),e.valueType!=="expression"&&(e.valueType=t.valueType),e}function Nt(e,t){let n=e.length-1;typeof e[n]=="string"&&typeof t=="string"?e[n]+=t:e.push(t)}function _i(e,t,n){let r=[e],u=i=>{t(i,r,n),r.push(i),i.children.forEach(u),r.pop()};e.children.forEach(u)}function Hi(e){let t;for(;e.children.length;)t=e,e=e.children[e.children.length-1];return{parent:t,node:e}}function Tn(e){return e.type==="AbbreviationNode"}function Ui(e,t){let n=[],r=t.options["output.reverseAttributes"],u=i=>{let o=i.name&&t.snippets[i.name];if(!o||n.includes(o))return null;let s=Ye(o,t);n.push(o),re(s,u),n.pop();for(let l of s.children){if(i.attributes){let a=l.attributes||[],f=i.attributes||[];l.attributes=r?f.concat(a):a.concat(f)}Zi(i,l)}return s};return re(e,u),e}function re(e,t,n){let r=[];for(let u of e.children){let i=t(u);if(i){r=r.concat(i.children);let o=Hi(i);Tn(o.node)&&(o.node.children=o.node.children.concat(re(u,t)))}else r.push(u),u.children=re(u,t)}return e.children=r}function Zi(e,t){e.selfClosing&&(t.selfClosing=!0),e.value!=null&&(t.value=e.value),e.repeat&&(t.repeat=e.repeat)}function Fn(e,t=0){return{options:e,value:"",level:t,offset:0,line:0,column:0}}function p(e,t){let n=e.options["output.text"];Dn(e,n(t,e.offset,e.line,e.column))}function c(e,t){let n=Ji(t);for(let r=0,u=n.length-1;r<=u;r++)p(e,n[r]),r!==u&&C(e,!0)}function C(e,t){let n=e.options["output.baseIndent"],r=e.options["output.newline"];p(e,r+n),e.line++,e.column=n.length,t&&Qi(e,t===!0?e.level:t)}function Qi(e,t=e.level){let n=e.options["output.indent"];p(e,n.repeat(Math.max(t,0)))}function et(e,t,n){let r=e.options["output.field"];Dn(e,r(t,n,e.offset,e.line,e.column))}function Gi(e,t){return On(e,t.options["output.tagCase"])}function Bn(e,t){return On(e,t.options["output.attributeCase"])}function ue(e,t,n){return e.valueType==="expression"?n?"{":"}":t.options["output.attributeQuotes"]==="single"?"'":'"'}function In(e,t){return e.boolean||t.options["output.booleanAttributes"].includes((e.name||"").toLowerCase())}function Yi(e){switch(e.options["output.selfClosingStyle"]){case"xhtml":return" /";case"xml":return"/";default:return""}}function W(e,t){return typeof e=="string"?t.options.inlineElements.includes(e.toLowerCase()):e.name?W(e.name,t):!!(e.value&&!e.attributes)}function Ji(e){return e.split(/\r\n|\r|\n/g)}function Dn(e,t){e.value+=t,e.offset+=t.length,e.column+=t.length}function On(e,t){return t?t==="upper"?e.toUpperCase():e.toLowerCase():e}var Xi={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};function Ki(e,t,n){!e.name&&e.attributes&&jn(e,t,n)}function jn(e,t,n){let r=to(t),u=n.context?n.context.name:"",i=eo(r?r.name:u);e.name=Xi[i]||(W(i,n)?"span":"div")}function eo(e){return(e||"").toLowerCase()}function to(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Tn(n))return n}}var no={common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},ro={common:["\u0434\u0430\u043B\u0435\u043A\u043E-\u0434\u0430\u043B\u0435\u043A\u043E","\u0437\u0430","\u0441\u043B\u043E\u0432\u0435\u0441\u043D\u044B\u043C\u0438","\u0433\u043E\u0440\u0430\u043C\u0438","\u0432 \u0441\u0442\u0440\u0430\u043D\u0435","\u0433\u043B\u0430\u0441\u043D\u044B\u0445","\u0438 \u0441\u043E\u0433\u043B\u0430\u0441\u043D\u044B\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044B\u0431\u043D\u044B\u0435","\u0442\u0435\u043A\u0441\u0442\u044B"],words:["\u0432\u0434\u0430\u043B\u0438","\u043E\u0442 \u0432\u0441\u0435\u0445","\u043E\u043D\u0438","\u0431\u0443\u043A\u0432\u0435\u043D\u043D\u044B\u0445","\u0434\u043E\u043C\u0430\u0445","\u043D\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043C\u0430\u043D\u0442\u0438\u043A\u0430","\u0431\u043E\u043B\u044C\u0448\u043E\u0433\u043E","\u044F\u0437\u044B\u043A\u043E\u0432\u043E\u0433\u043E","\u043E\u043A\u0435\u0430\u043D\u0430","\u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043A","\u0434\u0430\u043B\u044C","\u0436\u0443\u0440\u0447\u0438\u0442","\u043F\u043E \u0432\u0441\u0435\u0439","\u043E\u0431\u0435\u0441\u043F\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043C\u0438","\u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u043C\u0438","\u043F\u0440\u0430\u0432\u0438\u043B\u0430\u043C\u0438","\u044D\u0442\u0430","\u043F\u0430\u0440\u0430\u0434\u0438\u0433\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0430\u044F","\u0441\u0442\u0440\u0430\u043D\u0430","\u043A\u043E\u0442\u043E\u0440\u043E\u0439","\u0436\u0430\u0440\u0435\u043D\u043D\u044B\u0435","\u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u044F","\u0437\u0430\u043B\u0435\u0442\u0430\u044E\u0442","\u043F\u0440\u044F\u043C\u043E","\u0440\u043E\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043C\u043E\u0433\u0443\u0449\u0430\u044F","\u043F\u0443\u043D\u043A\u0442\u0443\u0430\u0446\u0438\u044F","\u043D\u0435","\u0438\u043C\u0435\u0435\u0442","\u0432\u043B\u0430\u0441\u0442\u0438","\u043D\u0430\u0434","\u0440\u044B\u0431\u043D\u044B\u043C\u0438","\u0442\u0435\u043A\u0441\u0442\u0430\u043C\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043C\u0438","\u0431\u0435\u0437\u043E\u0440\u0444\u043E\u0433\u0440\u0430\u0444\u0438\u0447\u043D\u044B\u0439","\u043E\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043D\u0438","\u043E\u0434\u043D\u0430\u0436\u0434\u044B","\u043E\u0434\u043D\u0430","\u043C\u0430\u043B\u0435\u043D\u044C\u043A\u0430\u044F","\u0441\u0442\u0440\u043E\u0447\u043A\u0430","\u0440\u044B\u0431\u043D\u043E\u0433\u043E","\u0442\u0435\u043A\u0441\u0442\u0430","\u0438\u043C\u0435\u043D\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043B\u0430","\u0432\u044B\u0439\u0442\u0438","\u0431\u043E\u043B\u044C\u0448\u043E\u0439","\u043C\u0438\u0440","\u0433\u0440\u0430\u043C\u043C\u0430\u0442\u0438\u043A\u0438","\u0432\u0435\u043B\u0438\u043A\u0438\u0439","\u043E\u043A\u0441\u043C\u043E\u043A\u0441","\u043F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0436\u0434\u0430\u043B","\u043E","\u0437\u043B\u044B\u0445","\u0437\u0430\u043F\u044F\u0442\u044B\u0445","\u0434\u0438\u043A\u0438\u0445","\u0437\u043D\u0430\u043A\u0430\u0445","\u0432\u043E\u043F\u0440\u043E\u0441\u0430","\u043A\u043E\u0432\u0430\u0440\u043D\u044B\u0445","\u0442\u043E\u0447\u043A\u0430\u0445","\u0437\u0430\u043F\u044F\u0442\u043E\u0439","\u043D\u043E","\u0442\u0435\u043A\u0441\u0442","\u0434\u0430\u043B","\u0441\u0431\u0438\u0442\u044C","\u0441\u0435\u0431\u044F","\u0442\u043E\u043B\u043A\u0443","\u043E\u043D","\u0441\u043E\u0431\u0440\u0430\u043B","\u0441\u0435\u043C\u044C","\u0441\u0432\u043E\u0438\u0445","\u0437\u0430\u0433\u043B\u0430\u0432\u043D\u044B\u0445","\u0431\u0443\u043A\u0432","\u043F\u043E\u0434\u043F\u043E\u044F\u0441\u0430\u043B","\u0438\u043D\u0438\u0446\u0438\u0430\u043B","\u0437\u0430","\u043F\u043E\u044F\u0441","\u043F\u0443\u0441\u0442\u0438\u043B\u0441\u044F","\u0434\u043E\u0440\u043E\u0433\u0443","\u0432\u0437\u043E\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044C","\u043F\u0435\u0440\u0432\u0443\u044E","\u0432\u0435\u0440\u0448\u0438\u043D\u0443","\u043A\u0443\u0440\u0441\u0438\u0432\u043D\u044B\u0445","\u0433\u043E\u0440","\u0431\u0440\u043E\u0441\u0438\u043B","\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439","\u0432\u0437\u0433\u043B\u044F\u0434","\u043D\u0430\u0437\u0430\u0434","\u0441\u0438\u043B\u0443\u044D\u0442","\u0441\u0432\u043E\u0435\u0433\u043E","\u0440\u043E\u0434\u043D\u043E\u0433\u043E","\u0433\u043E\u0440\u043E\u0434\u0430","\u0431\u0443\u043A\u0432\u043E\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","\u0434\u0435\u0440\u0435\u0432\u043D\u0438","\u0430\u043B\u0444\u0430\u0432\u0438\u0442","\u043F\u043E\u0434\u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A","\u0441\u0432\u043E\u0435\u0433\u043E","\u043F\u0435\u0440\u0435\u0443\u043B\u043A\u0430","\u0433\u0440\u0443\u0441\u0442\u043D\u044B\u0439","\u0440\u0435\u0442\u043E\u0440\u0438\u0447\u0435\u0441\u043A\u0438\u0439","\u0432\u043E\u043F\u0440\u043E\u0441","\u0441\u043A\u0430\u0442\u0438\u043B\u0441\u044F","\u0435\u0433\u043E","\u0449\u0435\u043A\u0435","\u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u043B","\u0441\u0432\u043E\u0439","\u043F\u0443\u0442\u044C","\u0434\u043E\u0440\u043E\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043B","\u0440\u0443\u043A\u043E\u043F\u0438\u0441\u044C","\u043E\u043D\u0430","\u043F\u0440\u0435\u0434\u0443\u043F\u0440\u0435\u0434\u0438\u043B\u0430","\u043C\u043E\u0435\u0439","\u0432\u0441\u0435","\u043F\u0435\u0440\u0435\u043F\u0438\u0441\u044B\u0432\u0430\u0435\u0442\u0441\u044F","\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E","\u0440\u0430\u0437","\u0435\u0434\u0438\u043D\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0435","\u0447\u0442\u043E","\u043C\u0435\u043D\u044F","\u043E\u0441\u0442\u0430\u043B\u043E\u0441\u044C","\u044D\u0442\u043E","\u043F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0430","\u0432\u043E\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044F","\u0442\u044B","\u043B\u0443\u0447\u0448\u0435","\u0441\u0432\u043E\u044E","\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u0443\u044E","\u0441\u0442\u0440\u0430\u043D\u0443","\u043F\u043E\u0441\u043B\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044C","\u0440\u0443\u043A\u043E\u043F\u0438\u0441\u0438","\u043D\u0430\u0448","\u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u043B","\u0441\u0432\u043E\u0439","\u043F\u0443\u0442\u044C","\u0432\u0441\u043A\u043E\u0440\u0435","\u0435\u043C\u0443","\u043F\u043E\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043B\u0441\u044F","\u043A\u043E\u0432\u0430\u0440\u043D\u044B\u0439","\u0441\u043E\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B\u044C","\u0440\u0435\u043A\u043B\u0430\u043C\u043D\u044B\u0445","\u0442\u0435\u043A\u0441\u0442\u043E\u0432","\u043D\u0430\u043F\u043E\u0438\u0432\u0448\u0438\u0439","\u044F\u0437\u044B\u043A\u043E\u043C","\u0440\u0435\u0447\u044C\u044E","\u0437\u0430\u043C\u0430\u043D\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043E\u0435","\u0430\u0433\u0435\u043D\u0442\u0441\u0442\u0432\u043E","\u043A\u043E\u0442\u043E\u0440\u043E\u0435","\u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043B\u043E","\u0441\u043D\u043E\u0432\u0430","\u0441\u043D\u043E\u0432\u0430","\u0441\u0432\u043E\u0438\u0445","\u043F\u0440\u043E\u0435\u043A\u0442\u0430\u0445","\u0435\u0441\u043B\u0438","\u043F\u0435\u0440\u0435\u043F\u0438\u0441\u0430\u043B\u0438","\u0442\u043E","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043C","\u0434\u043E","\u0441\u0438\u0445","\u043F\u043E\u0440"]},uo={common:["mujer","uno","dolor","m\xE1s","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pa\xF1o","suntuoso","molde","namibia","planeador","mirar","dem\xE1s","oficinista","excepci\xF3n","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cu\xF3rum","dign\xEDsimo","facilismo","letra","nihilista","expedici\xF3n","alma","alveolar","aparte","le\xF3n","animal","como","paria","belleza","modo","natividad","justo","ataque","s\xE9quito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunci\xF3n","incidente","marejada","placenta","amanecer","fuga","previsor","presentaci\xF3n","lejos","necesariamente","sospechoso","adiposidad","quind\xEDo","p\xF3cima","voluble","d\xE9bito","sinti\xF3","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","m\xEDnima","mayores","repugnante","dulce","obcecado","monta\xF1a","enigma","total","delet\xE9reo","d\xE9cima","c\xE1bala","fotograf\xEDa","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magn\xEDfico","distinci\xF3n","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crep\xFAsculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abad\xEDa","analfabeto","remo","fugacidad","oficio","en","alm\xE1cigo","vos","pan","represi\xF3n","n\xFAmeros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patr\xF3n","expl\xEDcito","paloma","s\xEDndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","ap\xE9ndice","arquitecto","columna","yugo","computador","mula","a","prop\xF3sito","fantas\xEDa","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},Tt={ru:ro,sp:uo,latin:no},io=/^lorem([a-z]*)(\d*)(-\d*)?$/i;function oo(e,t,n){let r;if(e.name&&(r=e.name.match(io))){let u=Tt[r[1]]||Tt.latin,i=r[2]?Math.max(1,Number(r[2])):30,o=r[3]?Math.max(i,Number(r[3].slice(1))):i,s=B(i,o),l=e.repeat||co(t);e.name=e.attributes=void 0,e.value=[fo(u,s,!l||l.value===0)],e.repeat&&t.length>1&&jn(e,t,n)}}function B(e,t){return Math.floor(Math.random()*(t-e)+e)}function so(e,t){let n=e.length,r=Math.min(n,t),u=[];for(;u.length<r;){let i=e[B(0,n)];u.includes(i)||u.push(i)}return u}function lo(e){return e[B(0,e.length-1)]}function Ft(e,t){return e.length&&(e=[ao(e[0])].concat(e.slice(1))),e.join(" ")+(t||lo("?!..."))}function ao(e){return e[0].toUpperCase()+e.slice(1)}function Bt(e){if(e.length<2)return e;e=e.slice();let t=e.length,n=/,$/,r=0;t>3&&t<=6?r=B(0,1):t>6&&t<=12?r=B(0,2):r=B(1,4);for(let u=0,i;u<r;u++)i=B(0,t-2),n.test(e[i])||(e[i]+=",");return e}function fo(e,t,n){let r=[],u=0,i;for(n&&e.common&&(i=e.common.slice(0,t),u+=i.length,r.push(Ft(Bt(i),".")));u<t;)i=so(e.words,Math.min(B(2,30),t-u)),u+=i.length,r.push(Ft(Bt(i)));return r.join(" ")}function co(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(n.type==="AbbreviationNode"&&n.repeat)return n.repeat}}function po(e){e.attributes&&e.attributes.forEach(mo)}function mo(e){e.name==="class"?e.name="className":e.name==="for"&&(e.name="htmlFor")}function ho(e){bo(e.name)&&e.attributes&&(e.children.length||e.value)&&(e.attributes=e.attributes.filter(go))}function go(e){return e.name!=="select"}function bo(e){return e==="xsl:variable"||e==="xsl:with-param"}var Ln=/^(-+)([a-z0-9]+[a-z0-9-]*)/i,Pn=/^(_+)([a-z0-9]+[a-z0-9-_]*)/i,vo=e=>/^[a-z]\-/i.test(e),yo=e=>/^[a-z]/i.test(e);function xo(e,t,n){wo(e),Co(e,t,n)}function wo(e){let t=tt(e),n=[];for(let r of t.classNames){let u=r.indexOf("_");u>0&&!r.startsWith("-")?(n.push(r.slice(0,u)),n.push(r.slice(u))):n.push(r)}n.length&&(t.classNames=n.filter(Mn),t.block=Vn(t.classNames),qn(e,t.classNames.join(" ")))}function Co(e,t,n){let r=tt(e),u=[],{options:i}=n,o=t.slice(1).concat(e);for(let l of r.classNames){let a="",f,x=l;(f=l.match(Ln))&&(a=It(o,f[1].length,n.context)+i["bem.element"]+f[2],u.push(a),l=l.slice(f[0].length)),(f=l.match(Pn))&&(a||(a=It(o,f[1].length),u.push(a)),u.push(`${a}${i["bem.modifier"]}${f[2]}`),l=l.slice(f[0].length)),l===x&&u.push(x)}let s=u.filter(Mn);s.length&&qn(e,s.join(" "))}function tt(e){if(!e._bem){let t="";if(e.attributes){for(let n of e.attributes)if(n.name==="class"&&n.value){t=ko(n.value);break}}e._bem=zn(t)}return e._bem}function $o(e){return e._bem||(e._bem=zn(e.attributes&&e.attributes.class||"")),e._bem}function zn(e){let t=e?e.split(/\s+/):[];return{classNames:t,block:Vn(t)}}function It(e,t=0,n){let u=Math.max(e.length-t,0);do{let i=e[u];if(i){let o=tt(i);if(o.block)return o.block}}while(0<u--);if(n){let i=$o(n);if(i.block)return i.block}return""}function Vn(e){return Dt(e,vo)||Dt(e,yo)||void 0}function Dt(e,t){for(let n of e){if(Ln.test(n)||Pn.test(n))break;if(t(n))return n}}function qn(e,t){for(let n of e.attributes)if(n.name==="class"){n.value=[t];break}}function ko(e){let t="";for(let n of e)t+=typeof n=="string"?n:n.name;return t}function Mn(e,t,n){return!!e&&n.indexOf(e)===t}function Wn(e,t,n){let r=(i,o,s)=>{let{parent:l,current:a}=n;n.parent=a,n.current=i,t(i,o,s,n,u),n.current=a,n.parent=l},u=(i,o,s)=>{n.ancestors.push(n.current),r(i,o,s),n.ancestors.pop()};e.children.forEach(r)}function Rn(e){return{current:null,parent:void 0,ancestors:[],config:e,field:1,out:Fn(e.options)}}var he=[{type:"Field",index:0,name:""}];function z(e){return e?!e.name&&!e.attributes:!1}function Ot(e,t){return e?W(e,t):!1}function _n(e){return typeof e=="object"&&e.type==="Field"}function b(e,t){let{out:n}=t,r=-1;for(let u of e)typeof u=="string"?c(n,u):(et(n,t.field+u.index,u.name),u.index>r&&(r=u.index));r!==-1&&(t.field+=r+1)}function Ao(e){let t=[],n=[];for(let r of e)if(typeof r=="string"){let u=r.split(/\r\n?|\n/g);for(n.push(u.shift()||"");u.length;)t.push(n),n=[u.shift()||""]}else n.push(r);return n.length&&t.push(n),t}function Hn(e){return!e.implied||e.valueType!=="raw"||!!e.value&&e.value.length>0}function jt(e){let t=[],n={pos:0,text:e},r,u=n.pos,i=n.pos;for(;n.pos<n.text.length;)i=n.pos,(r=So(n))?(u!==n.pos&&t.push(e.slice(u,i)),t.push(r),u=n.pos):n.pos++;return u!==n.pos&&t.push(e.slice(u)),t}function So(e){if(ke(e)===91){let t=++e.pos,n=t,r=t,u=1;for(;e.pos<e.text.length;){let i=ke(e);if(Un(i)){for(n=e.pos;Eo(ke(e));)e.pos++;r=e.pos}else{if(i===91)u++;else if(i===93&&--u===0)return{before:e.text.slice(t,n),after:e.text.slice(r,e.pos++),name:e.text.slice(n,r)};e.pos++}}}}function ke(e,t=e.pos){return e.text.charCodeAt(t)}function Un(e){return e>=65&&e<=90}function Eo(e){return Un(e)||e>47&&e<58||e===95||e===45}function No(e){let{options:t}=e;return{enabled:t["comment.enabled"],trigger:t["comment.trigger"],before:t["comment.before"]?jt(t["comment.before"]):void 0,after:t["comment.after"]?jt(t["comment.after"]):void 0}}function To(e,t){Zn(e,t)&&t.comment.before&&Qn(e,t.comment.before,t)}function Fo(e,t){Zn(e,t)&&t.comment.after&&Qn(e,t.comment.after,t)}function Zn(e,t){let{comment:n}=t;if(!n.enabled||!n.trigger||!e.name||!e.attributes)return!1;for(let r of e.attributes)if(r.name&&n.trigger.includes(r.name))return!0;return!1}function Qn(e,t,n){let r={},{out:u}=n;for(let i of e.attributes)i.name&&i.value&&(r[i.name.toUpperCase()]=i.value);for(let i of t)typeof i=="string"?c(u,i):r[i.name]&&(c(u,i.before),b(r[i.name],n),c(u,i.after))}var Bo=/^<([\w\-:]+)[\s>]/;function Gn(e,t){let n=Rn(t);return n.comment=No(t),Wn(e,Io,n),n.out.value}function Io(e,t,n,r,u){let{out:i,config:o}=r,s=Yn(e,t,n,r),l=Oo(r);if(i.level+=l,s&&C(i,!0),e.name){let a=Gi(e.name,o);if(To(e,r),c(i,`<${a}`),e.attributes)for(let f of e.attributes)Hn(f)&&Do(f,r);if(e.selfClosing&&!e.children.length&&!e.value)c(i,`${Yi(o)}>`);else{if(c(i,">"),!Lt(e,r,u)){if(e.value){let f=e.value.some(Jn)||jo(e.value,o);f&&C(r.out,++i.level),b(e.value,r),f&&C(r.out,--i.level)}if(e.children.forEach(u),!e.value&&!e.children.length){let f=o.options["output.formatLeafNode"]||o.options["output.formatForce"].includes(e.name);f&&C(r.out,++i.level),b(he,r),f&&C(r.out,--i.level)}}c(i,`</${a}>`),Fo(e,r)}}else!Lt(e,r,u)&&e.value&&(b(e.value,r),e.children.forEach(u));if(s&&t===n.length-1&&r.parent){let a=z(r.parent)?0:1;C(i,i.level-a)}i.level-=l}function Do(e,t){let{out:n,config:r}=t;if(e.name){let u=Bn(e.name,r),i=ue(e,r,!0),o=ue(e,r),s=e.value;In(e,r)&&!s?r.options["output.compactBoolean"]||(s=[u]):s||(s=he),c(n," "+u),s?(c(n,"="+i),b(s,t),c(n,o)):r.options["output.selfClosingStyle"]!=="html"&&c(n,"="+i+o)}}function Lt(e,t,n){if(e.value&&e.children.length){let r=e.value.findIndex(_n);if(r!==-1){b(e.value.slice(0,r),t);let u=t.out.line,i=r+1;return e.children.forEach(n),t.out.line!==u&&typeof e.value[i]=="string"&&c(t.out,e.value[i++].trimLeft()),b(e.value.slice(i),t),!0}}return!1}function Yn(e,t,n,r){let{config:u,parent:i}=r;if(!u.options["output.format"]||t===0&&!i||i&&z(i)&&n.length===1)return!1;if(z(e)&&(z(n[t-1])||z(n[t+1])||e.value.some(Jn)||e.value.some(_n)&&e.children.length))return!0;if(W(e,u)){if(t===0){for(let o=0;o<n.length;o++)if(!W(n[o],u))return!0}else if(!W(n[t-1],u))return!0;if(u.options["output.inlineBreak"]){let o=1,s=t,l=t;for(;Ot(n[--s],u);)o++;for(;Ot(n[++l],u);)o++;if(o>=u.options["output.inlineBreak"])return!0}for(let o=0,s=e.children.length;o<s;o++)if(Yn(e.children[o],o,e.children,r))return!0;return!1}return!0}function Oo(e){let{config:t,parent:n}=e;return!n||z(n)||n.name&&t.options["output.formatSkip"].includes(n.name)?0:1}function Jn(e){return typeof e=="string"&&/\r|\n/.test(e)}function jo(e,t){if(e.length&&typeof e[0]=="string"){let n=Bo.exec(e[0]);if(n?.length&&!t.options.inlineElements.includes(n[1].toLowerCase()))return!0}return!1}function nt(e,t,n){let r=Rn(t);return r.options=n||{},Wn(e,Lo,r),r.out.value}function Lo(e,t,n,r,u){let{out:i,options:o}=r,{primary:s,secondary:l}=Po(e),a=r.parent?1:0;i.level+=a,Ro(e,t,n,r)&&C(i,!0),e.name&&(e.name!=="div"||!s.length)&&c(i,(o.beforeName||"")+e.name+(o.afterName||"")),zo(s,r),Vo(l.filter(Hn),r),e.selfClosing&&!e.value&&!e.children.length?r.options.selfClose&&c(i,r.options.selfClose):(qo(e,r),e.children.forEach(u)),i.level-=a}function Po(e){let t=[],n=[];if(e.attributes)for(let r of e.attributes)Mo(r)?t.push(r):n.push(r);return{primary:t,secondary:n}}function zo(e,t){for(let n of e)if(n.value)if(n.name==="class"){c(t.out,".");let r=n.value.map(u=>typeof u=="string"?u.replace(/\s+/g,"."):u);b(r,t)}else c(t.out,"#"),b(n.value,t)}function Vo(e,t){if(e.length){let{out:n,config:r,options:u}=t;u.beforeAttribute&&c(n,u.beforeAttribute);for(let i=0;i<e.length;i++){let o=e[i];c(n,Bn(o.name||"",r)),In(o,r)&&!o.value?!r.options["output.compactBoolean"]&&u.booleanValue&&c(n,"="+u.booleanValue):(c(n,"="+ue(o,r,!0)),b(o.value||he,t),c(n,ue(o,r))),i!==e.length-1&&u.glueAttribute&&c(n,u.glueAttribute)}u.afterAttribute&&c(n,u.afterAttribute)}}function qo(e,t){if(!e.value&&e.children.length)return;let n=e.value||he,r=Ao(n),{out:u,options:i}=t;if(r.length===1)(e.name||e.attributes)&&p(u," "),b(n,t);else{let o=[],s=0;for(let l of r){let a=Wo(l);o.push(a),a>s&&(s=a)}u.level++;for(let l=0;l<r.length;l++)C(u,!0),i.beforeTextLine&&p(u,i.beforeTextLine),b(r[l],t),i.afterTextLine&&(p(u," ".repeat(s-o[l])),p(u,i.afterTextLine));u.level--}}function Mo(e){return e.name==="class"||e.name==="id"}function Wo(e){let t=0;for(let n of e)t+=typeof n=="string"?n.length:n.name.length;return t}function Ro(e,t,n,r){return!r.parent&&t===0?!1:!z(e)}function _o(e,t){return nt(e,t,{beforeName:"%",beforeAttribute:"(",afterAttribute:")",glueAttribute:" ",afterTextLine:" |",booleanValue:"true",selfClose:"/"})}function Ho(e,t){return nt(e,t,{beforeAttribute:" ",glueAttribute:" ",beforeTextLine:"| ",selfClose:"/"})}function Uo(e,t){return nt(e,t,{beforeAttribute:"(",afterAttribute:")",glueAttribute:", ",beforeTextLine:"| ",selfClose:t.options["output.selfClosingStyle"]==="xml"?"/":""})}var Zo={html:Gn,haml:_o,slim:Ho,pug:Uo};function Qo(e,t){let n;if(typeof e=="string"){let r=t;t.options["jsx.enabled"]&&(r=Object.assign(Object.assign({},r),{jsx:!0})),t.options["markup.href"]&&(r=Object.assign(Object.assign({},r),{href:!0})),e=Ye(e,r),n=t.text,t.text=void 0}return e=Ui(e,t),_i(e,Yo,t),t.text=n??t.text,e}function Go(e,t){return(Zo[t.syntax]||Gn)(e,t)}function Yo(e,t,n){Ki(e,t,n),Mi(e,n),oo(e,t,n),n.syntax==="xsl"&&ho(e),n.options["jsx.enabled"]&&po(e),n.options["bem.enabled"]&&xo(e,t,n)}var Jo=/^([a-z-]+)(?:\s*:\s*([^\n\r;]+?);*)?$/,Xo={value:!0};function Ko(e,t){let n=t.match(Jo);if(n){let r={},u=n[2]?n[2].split("|").map(ns):[];for(let i of u)for(let o of i)us(o,r);return{type:"Property",key:e,property:n[1],value:u,keywords:r,dependencies:[]}}return{type:"Raw",key:e,value:t}}function es(e){e=e.slice().sort(ts);let t=[],n;for(let r of e.filter(rs)){for(;t.length;){if(n=t[t.length-1],r.property.startsWith(n.property)&&r.property.charCodeAt(n.property.length)===45){n.dependencies.push(r),t.push(r);break}t.pop()}t.length||t.push(r)}return e}function ts(e,t){return e.key===t.key?0:e.key<t.key?-1:1}function ns(e){return Nn(e.trim(),Xo)[0].value}function rs(e){return e.type==="Property"}function us(e,t){for(let n of e.value)if(n.type==="Literal")t[n.value]=n;else if(n.type==="FunctionCall")t[n.name]=n;else if(n.type==="Field"){let r=n.name.trim();r&&(t[r]={type:"Literal",value:r})}}function is(e,t,n=!1){if(e=e.toLowerCase(),t=t.toLowerCase(),e===t)return 1;if(!e||!t||e.charCodeAt(0)!==t.charCodeAt(0))return 0;let r=e.length,u=t.length;if(!n&&r>u)return 0;let i=Math.min(r,u),o=Math.max(r,u),s=1,l=1,a=o,f=0,x=0,j=!1,F=!1;for(;s<r;){for(f=e.charCodeAt(s),j=!1,F=!1;l<u;){if(x=t.charCodeAt(l),f===x){j=!0,a+=o-(F?s:l);break}F=x===45,l++}if(!j){if(!n)return 0;break}s++}let xe=s/o,Y=o-i,lu=Pt(o)-Pt(Y);return a*xe/lu}function Pt(e){return e*(e+1)/2}function Xn(e,t){return!e.r&&!e.g&&!e.b&&!e.a?"transparent":e.a===1?os(e,t):ss(e)}function os(e,t){let n=t&&Ae(e.r)&&Ae(e.g)&&Ae(e.b)?ls:as;return"#"+n(e.r)+n(e.g)+n(e.b)}function ss(e){let t=[e.r,e.g,e.b];return e.a!==1&&t.push(Kn(e.a,8)),`${t.length===3?"rgb":"rgba"}(${t.join(", ")})`}function Kn(e,t=4){return e.toFixed(t).replace(/\.?0+$/,"")}function Ae(e){return!(e%17)}function ls(e){return(e>>4).toString(16)}function as(e){return fs(e.toString(16),2)}function fs(e,t){for(;e.length<t;)e="0"+e;return e}function cs(e,t){var n;let r=Fn(t.options),u=t.options["output.format"];((n=t.context)===null||n===void 0?void 0:n.name)==="@@section"&&(e=e.filter(i=>i.snippet));for(let i=0;i<e.length;i++)u&&i!==0&&C(r,!0),ps(e[i],r,t);return r.value}function ps(e,t,n){let r=n.options["stylesheet.json"];if(e.name){let u=r?ds(e.name):e.name;c(t,u+n.options["stylesheet.between"]),e.value.length?ms(e,t,n):et(t,0,""),r?p(t,","):(zt(e,t,!0),p(t,n.options["stylesheet.after"]))}else{for(let u of e.value)for(let i of u.value)tr(i,t,n);zt(e,t,e.value.length>0)}}function ms(e,t,n){let r=n.options["stylesheet.json"],u=r?hs(e):null;if(u&&(!u.unit||u.unit==="px"))p(t,String(u.value));else{let i=gs(n);r&&p(t,i);for(let o=0;o<e.value.length;o++)o!==0&&p(t,", "),er(e.value[o],t,n);r&&p(t,i)}}function zt(e,t,n){e.important&&(n&&p(t," "),p(t,"!important"))}function er(e,t,n){for(let r=0,u=-1;r<e.value.length;r++){let i=e.value[r];r!==0&&(i.type!=="Field"||i.start!==u)&&p(t," "),tr(i,t,n),u=i.end}}function tr(e,t,n){if(e.type==="ColorValue")p(t,Xn(e,n.options["stylesheet.shortHex"]));else if(e.type==="Literal")c(t,e.value);else if(e.type==="NumberValue")c(t,Kn(e.value,4)+e.unit);else if(e.type==="StringValue"){let r=e.quote==="double"?'"':"'";c(t,r+e.value+r)}else if(e.type==="Field")et(t,e.index,e.name);else if(e.type==="FunctionCall"){p(t,e.name+"(");for(let r=0;r<e.arguments.length;r++)r&&p(t,", "),er(e.arguments[r],t,n);p(t,")")}}function hs(e){if(e.value.length===1){let t=e.value[0];if(t.value.length===1&&t.value[0].type==="NumberValue")return t.value[0]}}function ds(e){return e.replace(/\-(\w)/g,(t,n)=>n.toUpperCase())}function gs(e){return e.options["stylesheet.jsonDoubleQuotes"]?'"':"'"}var Vt="lg";function bs(e,t){var n;let r=((n=t.cache)===null||n===void 0?void 0:n.stylesheetSnippets)||vs(t.snippets);t.cache&&(t.cache.stylesheetSnippets=r),typeof e=="string"&&(e=Nn(e,{value:ir(t)}));let u=Ss(r,t);for(let i of e)ys(i,u,t);return e}function vs(e){let t=[];for(let n of Object.keys(e))t.push(Ko(n,e[n]));return es(t)}function ys(e,t,n){if(!xs(e,n)){let r=n.options["stylesheet.fuzzySearchMinScore"];if(ir(n)){let u=n.context.name,i=t.find(o=>o.type==="Property"&&o.property===u);nr(e,n,i,r),e.snippet=i}else if(e.name){let u=K(e.name,t,r,!0);e.snippet=u,u&&(u.type==="Property"?ws(e,u,n):Cs(e,u))}}return(e.name||n.context)&&As(e,n),e}function xs(e,t){let n=null,r=e.value.length===1?e.value[0]:null;if(r&&r.value.length===1){let u=r.value[0];u.type==="FunctionCall"&&u.name===Vt&&(n=u)}return n||e.name===Vt?(n?n=Object.assign(Object.assign({},n),{name:"linear-gradient"}):n={type:"FunctionCall",name:"linear-gradient",arguments:[ie(P(0,""))]},t.context||(e.name="background-image"),e.value=[ie(n)],!0):!1}function ws(e,t,n){let r=e.name,u=ks(r,t.key);if(u){if(e.value.length)return e;let i=Oe(u,n,t);if(!i)return e;e.value.push(ie(i))}if(e.name=t.property,e.value.length)nr(e,n,t);else if(t.value.length){let i=t.value[0];e.value=t.value.length===1||i.some(rr)?i:i.map(o=>ur(o,n))}return e}function nr(e,t,n,r){for(let u of e.value){let i=[];for(let o of u.value)if(o.type==="Literal")i.push(Oe(o.value,t,n,r)||o);else if(o.type==="FunctionCall"){let s=Oe(o.name,t,n,r);s&&s.type==="FunctionCall"?i.push(Object.assign(Object.assign({},s),{arguments:o.arguments.concat(s.arguments.slice(o.arguments.length))})):i.push(o)}else i.push(o);u.value=i}}function Cs(e,t){let n=0,r,u=/\$\{(\d+)(:[^}]+)?\}/g,i=e.value[0],o=[];for(;r=u.exec(t.value);)n!==r.index&&o.push(R(t.value.slice(n,r.index))),n=r.index+r[0].length,i&&i.value.length?o.push(i.value.shift()):o.push(P(Number(r[1]),r[2]?r[2].slice(1):""));let s=t.value.slice(n);return s&&o.push(R(s)),e.name=void 0,e.value=[ie(...o)],e}function K(e,t,n=0,r=!1){let u=null,i=0;for(let o of t){let s=is(e,$s(o),r);if(s===1)return o;s&&s>=i&&(i=s,u=o)}return i>=n?u:null}function $s(e){return typeof e=="string"?e:e.key}function ks(e,t){for(let n=0,r=0;n<e.length;n++){if(r=t.indexOf(e[n],r),r===-1)return e.slice(n);r++}return""}function Oe(e,t,n,r){let u;if(n){if(u=K(e,Object.keys(n.keywords),r))return n.keywords[u];for(let i of n.dependencies)if(u=K(e,Object.keys(i.keywords),r))return i.keywords[u]}return(u=K(e,t.options["stylesheet.keywords"],r))?R(u):null}function As(e,t){let n=t.options["stylesheet.unitAliases"],r=t.options["stylesheet.unitless"];for(let u of e.value)for(let i of u.value)i.type==="NumberValue"&&(i.unit?i.unit=n[i.unit]||i.unit:i.value!==0&&!r.includes(e.name)&&(i.unit=i.rawValue.includes(".")?t.options["stylesheet.floatUnit"]:t.options["stylesheet.intUnit"]))}function ie(...e){return{type:"CSSValue",value:e}}function R(e){return{type:"Literal",value:e}}function P(e,t){return{type:"Field",index:e,name:t}}function rr(e){for(let t of e.value)if(t.type==="Field"||t.type==="FunctionCall"&&t.arguments.some(rr))return!0;return!1}function ur(e,t,n={index:1}){let r=[];for(let u of e.value)switch(u.type){case"ColorValue":r.push(P(n.index++,Xn(u,t.options["stylesheet.shortHex"])));break;case"Literal":r.push(P(n.index++,u.value));break;case"NumberValue":r.push(P(n.index++,`${u.value}${u.unit}`));break;case"StringValue":let i=u.quote==="single"?"'":'"';r.push(P(n.index++,i+u.value+i));break;case"FunctionCall":r.push(P(n.index++,u.name),R("("));for(let o=0,s=u.arguments.length;o<s;o++)r=r.concat(ur(u.arguments[o],t,n).value),o!==s-1&&r.push(R(", "));r.push(R(")"));break;default:r.push(u)}return Object.assign(Object.assign({},e),{value:r})}function ir(e){return e.context?e.context.name==="@@value"||!e.context.name.startsWith("@@"):!1}function Ss(e,t){if(t.context){if(t.context.name==="@@section")return e.filter(n=>n.type==="Raw");if(t.context.name==="@@property")return e.filter(n=>n.type==="Property")}return e}var Es={a:"a[href]","a:blank":"a[href='http://${0}' target='_blank' rel='noopener noreferrer']","a:link":"a[href='http://${0}']","a:mail":"a[href='mailto:${0}']","a:tel":"a[href='tel:+${0}']",abbr:"abbr[title]","acr|acronym":"acronym[title]",base:"base[href]/",basefont:"basefont/",br:"br/",frame:"frame/",hr:"hr/",bdo:"bdo[dir]","bdo:r":"bdo[dir=rtl]","bdo:l":"bdo[dir=ltr]",col:"col/",link:"link[rel=stylesheet href]/","link:css":"link[href='${1:style}.css']","link:print":"link[href='${1:print}.css' media=print]","link:favicon":"link[rel='shortcut icon' type=image/x-icon href='${1:favicon.ico}']","link:mf|link:manifest":"link[rel='manifest' href='${1:manifest.json}']","link:touch":"link[rel=apple-touch-icon href='${1:favicon.png}']","link:rss":"link[rel=alternate type=application/rss+xml title=RSS href='${1:rss.xml}']","link:atom":"link[rel=alternate type=application/atom+xml title=Atom href='${1:atom.xml}']","link:im|link:import":"link[rel=import href='${1:component}.html']",meta:"meta/","meta:utf":"meta[http-equiv=Content-Type content='text/html;charset=UTF-8']","meta:vp":"meta[name=viewport content='width=${1:device-width}, initial-scale=${2:1.0}']","meta:compat":"meta[http-equiv=X-UA-Compatible content='${1:IE=7}']","meta:edge":"meta:compat[content='${1:ie=edge}']","meta:redirect":"meta[http-equiv=refresh content='0; url=${1:http://example.com}']","meta:kw":"meta[name=keywords content]","meta:desc":"meta[name=description content]",style:"style",script:"script","script:src":"script[src]",img:"img[src alt]/","img:s|img:srcset":"img[srcset src alt]","img:z|img:sizes":"img[sizes srcset src alt]",picture:"picture","src|source":"source/","src:sc|source:src":"source[src type]","src:s|source:srcset":"source[srcset]","src:t|source:type":"source[srcset type='${1:image/}']","src:z|source:sizes":"source[sizes srcset]","src:m|source:media":"source[media='(${1:min-width: })' srcset]","src:mt|source:media:type":"source:media[type='${2:image/}']","src:mz|source:media:sizes":"source:media[sizes srcset]","src:zt|source:sizes:type":"source[sizes srcset type='${1:image/}']",iframe:"iframe[src frameborder=0]",embed:"embed[src type]/",object:"object[data type]",param:"param[name value]/",map:"map[name]",area:"area[shape coords href alt]/","area:d":"area[shape=default]","area:c":"area[shape=circle]","area:r":"area[shape=rect]","area:p":"area[shape=poly]",form:"form[action]","form:get":"form[method=get]","form:post":"form[method=post]",label:"label[for]",input:"input[type=${1:text}]/",inp:"input[name=${1} id=${1}]","input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp[type=text]","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":"input[type=submit value]","input:i|input:image":"input[type=image src alt]","input:b|input:btn|input:button":"input[type=button value]","input:reset":"input:button[type=reset]",isindex:"isindex/",select:"select[name=${1} id=${1}]","select:d|select:disabled":"select[disabled.]","opt|option":"option[value]",textarea:"textarea[name=${1} id=${1} cols=${2:30} rows=${3:10}]",marquee:"marquee[behavior direction]","menu:c|menu:context":"menu[type=context]","menu:t|menu:toolbar":"menu[type=toolbar]",video:"video[src]",audio:"audio[src]","html:xml":"html[xmlns=http://www.w3.org/1999/xhtml]",keygen:"keygen/",command:"command/","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",sum:"summary",cmd:"command","ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","!!!":"{<!DOCTYPE html>}",doc:"html[lang=${lang}]>(head>meta[charset=${charset}]+meta[http-equiv='X-UA-Compatible'][content='IE=edge']+meta:vp+title{${1:Document}})+body","!|html:5":"!!!+doc",c:"{<!-- ${0} -->}","cc:ie":"{<!--[if IE]>${0}<![endif]-->}","cc:noie":"{<!--[if !IE]><!-->${0}<!--<![endif]-->}"},Ns={"@f":`@font-face {
	font-family: \${1};
	src: url(\${2});
}`,"@ff":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@i|@import":"@import url(${0});","@kf":"@keyframes ${1:identifier} {\n	${2}\n}","@m|@media":"@media ${1:screen} {\n	${0}\n}",ac:"align-content:start|end|flex-start|flex-end|center|space-between|space-around|stretch|space-evenly",ai:"align-items:start|end|flex-start|flex-end|center|baseline|stretch",anim:"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode}",animdel:"animation-delay:time",animdir:"animation-direction:normal|reverse|alternate|alternate-reverse",animdur:"animation-duration:${1:0}s",animfm:"animation-fill-mode:both|forwards|backwards",animic:"animation-iteration-count:1|infinite",animn:"animation-name",animps:"animation-play-state:running|paused",animtf:"animation-timing-function:linear|ease|ease-in|ease-out|ease-in-out|cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1})",ap:"appearance:none",as:"align-self:start|end|auto|flex-start|flex-end|center|baseline|stretch",b:"bottom",bd:"border:${1:1px} ${2:solid} ${3:#000}",bdb:"border-bottom:${1:1px} ${2:solid} ${3:#000}",bdbc:"border-bottom-color:${1:#000}",bdbi:"border-bottom-image:url(${0})",bdbk:"border-break:close",bdbli:"border-bottom-left-image:url(${0})|continue",bdblrs:"border-bottom-left-radius",bdbri:"border-bottom-right-image:url(${0})|continue",bdbrrs:"border-bottom-right-radius",bdbs:"border-bottom-style",bdbw:"border-bottom-width",bdc:"border-color:${1:#000}",bdci:"border-corner-image:url(${0})|continue",bdcl:"border-collapse:collapse|separate",bdf:"border-fit:repeat|clip|scale|stretch|overwrite|overflow|space",bdi:"border-image:url(${0})",bdl:"border-left:${1:1px} ${2:solid} ${3:#000}",bdlc:"border-left-color:${1:#000}",bdlen:"border-length",bdli:"border-left-image:url(${0})",bdls:"border-left-style",bdlw:"border-left-width",bdr:"border-right:${1:1px} ${2:solid} ${3:#000}",bdrc:"border-right-color:${1:#000}",bdri:"border-right-image:url(${0})",bdrs:"border-radius",bdrst:"border-right-style",bdrw:"border-right-width",bds:"border-style:none|hidden|dotted|dashed|solid|double|dot-dash|dot-dot-dash|wave|groove|ridge|inset|outset",bdsp:"border-spacing",bdt:"border-top:${1:1px} ${2:solid} ${3:#000}",bdtc:"border-top-color:${1:#000}",bdti:"border-top-image:url(${0})",bdtli:"border-top-left-image:url(${0})|continue",bdtlrs:"border-top-left-radius",bdtri:"border-top-right-image:url(${0})|continue",bdtrrs:"border-top-right-radius",bdts:"border-top-style",bdtw:"border-top-width",bdw:"border-width",bfv:"backface-visibility:hidden|visible",bg:"background:${1:#000}",bga:"background-attachment:fixed|scroll",bgbk:"background-break:bounding-box|each-box|continuous",bgc:"background-color:#${1:fff}",bgcp:"background-clip:padding-box|border-box|content-box|no-clip",bgi:"background-image:url(${0})",bgo:"background-origin:padding-box|border-box|content-box",bgp:"background-position:${1:0} ${2:0}",bgpx:"background-position-x",bgpy:"background-position-y",bgr:"background-repeat:no-repeat|repeat-x|repeat-y|space|round",bgsz:"background-size:contain|cover",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:#000}|none",bxsz:"box-sizing:border-box|content-box|border-box",c:"color:${1:#000}",cr:"color:rgb(${1:0}, ${2:0}, ${3:0})",cra:"color:rgba(${1:0}, ${2:0}, ${3:0}, ${4:.5})",cl:"clear:both|left|right|none",cm:"/* ${0} */",cnt:"content:'${0}'|normal|open-quote|no-open-quote|close-quote|no-close-quote|attr(${0})|counter(${0})|counters(${0})",coi:"counter-increment",colm:"columns",colmc:"column-count",colmf:"column-fill",colmg:"column-gap",colmr:"column-rule",colmrc:"column-rule-color",colmrs:"column-rule-style",colmrw:"column-rule-width",colms:"column-span",colmw:"column-width",cor:"counter-reset",cp:"clip:auto|rect(${1:top} ${2:right} ${3:bottom} ${4:left})",cps:"caption-side:top|bottom",cur:"cursor:pointer|auto|default|crosshair|hand|help|move|pointer|text",d:"display:block|none|flex|inline-flex|inline|inline-block|grid|inline-grid|subgrid|list-item|run-in|compact|table|inline-table|table-caption|table-column|table-column-group|table-header-group|table-footer-group|table-row|table-row-group|table-cell|ruby|ruby-base|ruby-base-group|ruby-text|ruby-text-group",ec:"empty-cells:show|hide",f:"font:${1:1em} ${2:sans-serif}",fd:"font-display:auto|block|swap|fallback|optional",fef:"font-effect:none|engrave|emboss|outline",fem:"font-emphasize",femp:"font-emphasize-position:before|after",fems:"font-emphasize-style:none|accent|dot|circle|disc",ff:"font-family:serif|sans-serif|cursive|fantasy|monospace",fft:'font-family:"Times New Roman", Times, Baskerville, Georgia, serif',ffa:'font-family:Arial, "Helvetica Neue", Helvetica, sans-serif',ffv:"font-family:Verdana, Geneva, sans-serif",fl:"float:left|right|none",fs:"font-style:italic|normal|oblique",fsm:"font-smoothing:antialiased|subpixel-antialiased|none",fst:"font-stretch:normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",fv:"font-variant:normal|small-caps",fvs:"font-variation-settings:normal|inherit|initial|unset",fw:"font-weight:normal|bold|bolder|lighter",fx:"flex",fxb:"flex-basis:fill|max-content|min-content|fit-content|content",fxd:"flex-direction:row|row-reverse|column|column-reverse",fxf:"flex-flow",fxg:"flex-grow",fxsh:"flex-shrink",fxw:"flex-wrap:nowrap|wrap|wrap-reverse",fsz:"font-size",fsza:"font-size-adjust",gtc:"grid-template-columns:repeat(${0})|minmax()",gtr:"grid-template-rows:repeat(${0})|minmax()",gta:"grid-template-areas",gt:"grid-template",gg:"grid-gap",gcg:"grid-column-gap",grg:"grid-row-gap",gac:"grid-auto-columns:auto|minmax()",gar:"grid-auto-rows:auto|minmax()",gaf:"grid-auto-flow:row|column|dense|inherit|initial|unset",gd:"grid",gc:"grid-column",gcs:"grid-column-start",gce:"grid-column-end",gr:"grid-row",grs:"grid-row-start",gre:"grid-row-end",ga:"grid-area",h:"height",jc:"justify-content:start|end|stretch|flex-start|flex-end|center|space-between|space-around|space-evenly",ji:"justify-items:start|end|center|stretch",js:"justify-self:start|end|center|stretch",l:"left",lg:"background-image:linear-gradient(${1})",lh:"line-height",lis:"list-style",lisi:"list-style-image",lisp:"list-style-position:inside|outside",list:"list-style-type:disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman",lts:"letter-spacing:normal",m:"margin",mah:"max-height",mar:"max-resolution",maw:"max-width",mb:"margin-bottom",mih:"min-height",mir:"min-resolution",miw:"min-width",ml:"margin-left",mr:"margin-right",mt:"margin-top",ol:"outline",olc:"outline-color:${1:#000}|invert",olo:"outline-offset",ols:"outline-style:none|dotted|dashed|solid|double|groove|ridge|inset|outset",olw:"outline-width|thin|medium|thick","op|opa":"opacity",ord:"order",ori:"orientation:landscape|portrait",orp:"orphans",ov:"overflow:hidden|visible|hidden|scroll|auto",ovs:"overflow-style:scrollbar|auto|scrollbar|panner|move|marquee",ovx:"overflow-x:hidden|visible|hidden|scroll|auto",ovy:"overflow-y:hidden|visible|hidden|scroll|auto",p:"padding",pb:"padding-bottom",pgba:"page-break-after:auto|always|left|right",pgbb:"page-break-before:auto|always|left|right",pgbi:"page-break-inside:auto|avoid",pl:"padding-left",pos:"position:relative|absolute|relative|fixed|static",pr:"padding-right",pt:"padding-top",q:"quotes",qen:"quotes:'\\201C' '\\201D' '\\2018' '\\2019'",qru:"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C'",r:"right",rsz:"resize:none|both|horizontal|vertical",t:"top",ta:"text-align:left|center|right|justify",tal:"text-align-last:left|center|right",tbl:"table-layout:fixed",td:"text-decoration:none|underline|overline|line-through",te:"text-emphasis:none|accent|dot|circle|disc|before|after",th:"text-height:auto|font-size|text-size|max-size",ti:"text-indent",tj:"text-justify:auto|inter-word|inter-ideograph|inter-cluster|distribute|kashida|tibetan",to:"text-outline:${1:0} ${2:0} ${3:#000}",tov:"text-overflow:ellipsis|clip",tr:"text-replace",trf:"transform:${1}|skewX(${1:angle})|skewY(${1:angle})|scale(${1:x}, ${2:y})|scaleX(${1:x})|scaleY(${1:y})|scaleZ(${1:z})|scale3d(${1:x}, ${2:y}, ${3:z})|rotate(${1:angle})|rotateX(${1:angle})|rotateY(${1:angle})|rotateZ(${1:angle})|translate(${1:x}, ${2:y})|translateX(${1:x})|translateY(${1:y})|translateZ(${1:z})|translate3d(${1:tx}, ${2:ty}, ${3:tz})",trfo:"transform-origin",trfs:"transform-style:preserve-3d",trs:"transition:${1:prop} ${2:time}",trsde:"transition-delay:${1:time}",trsdu:"transition-duration:${1:time}",trsp:"transition-property:${1:prop}",trstf:"transition-timing-function:${1:fn}",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000}",tt:"text-transform:uppercase|lowercase|capitalize|none",tw:"text-wrap:none|normal|unrestricted|suppress",us:"user-select:none",v:"visibility:hidden|visible|collapse",va:"vertical-align:top|super|text-top|middle|baseline|bottom|text-bottom|sub",w:"width",whs:"white-space:nowrap|pre|pre-wrap|pre-line|normal",whsc:"white-space-collapse:normal|keep-all|loose|break-strict|break-all",wid:"widows",wm:"writing-mode:lr-tb|lr-tb|lr-bt|rl-tb|rl-bt|tb-rl|tb-lr|bt-lr|bt-rl",wob:"word-break:normal|keep-all|break-all",wos:"word-spacing",wow:"word-wrap:none|unrestricted|suppress|break-word|normal",z:"z-index",zom:"zoom:1"},Ts={"tm|tmatch":"xsl:template[match mode]","tn|tname":"xsl:template[name]",call:"xsl:call-template[name]",ap:"xsl:apply-templates[select mode]",api:"xsl:apply-imports",imp:"xsl:import[href]",inc:"xsl:include[href]",ch:"xsl:choose","wh|xsl:when":"xsl:when[test]",ot:"xsl:otherwise",if:"xsl:if[test]",par:"xsl:param[name]",pare:"xsl:param[name select]",var:"xsl:variable[name]",vare:"xsl:variable[name select]",wp:"xsl:with-param[name select]",key:"xsl:key[name match use]",elem:"xsl:element[name]",attr:"xsl:attribute[name]",attrs:"xsl:attribute-set[name]",cp:"xsl:copy[select]",co:"xsl:copy-of[select]",val:"xsl:value-of[select]","for|each":"xsl:for-each[select]",tex:"xsl:text",com:"xsl:comment",msg:"xsl:message[terminate=no]",fall:"xsl:fallback",num:"xsl:number[value]",nam:"namespace-alias[stylesheet-prefix result-prefix]",pres:"xsl:preserve-space[elements]",strip:"xsl:strip-space[elements]",proc:"xsl:processing-instruction[name]",sort:"xsl:sort[select order]",choose:"xsl:choose>xsl:when+xsl:otherwise",xsl:`!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{
|}`,"!!!":'{<?xml version="1.0" encoding="UTF-8"?>}'},Fs={"!!!":"{doctype html}"},Bs={lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:`
`},Is={markup:"html",stylesheet:"css"},Ds={inlineElements:["a","abbr","acronym","applet","b","basefont","bdo","big","br","button","cite","code","del","dfn","em","font","i","iframe","img","input","ins","kbd","label","map","object","q","s","samp","select","small","span","strike","strong","sub","sup","textarea","tt","u","var"],"output.indent":"	","output.baseIndent":"","output.newline":`
`,"output.tagCase":"","output.attributeCase":"","output.attributeQuotes":"double","output.format":!0,"output.formatLeafNode":!1,"output.formatSkip":["html"],"output.formatForce":["body"],"output.inlineBreak":3,"output.compactBoolean":!1,"output.booleanAttributes":["contenteditable","seamless","async","autofocus","autoplay","checked","controls","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","novalidate","readonly","required","reversed","selected","typemustmatch"],"output.reverseAttributes":!1,"output.selfClosingStyle":"html","output.field":(e,t)=>t,"output.text":e=>e,"markup.href":!0,"comment.enabled":!1,"comment.trigger":["id","class"],"comment.before":"","comment.after":`
<!-- /[#ID][.CLASS] -->`,"bem.enabled":!1,"bem.element":"__","bem.modifier":"_","jsx.enabled":!1,"stylesheet.keywords":["auto","inherit","unset","none"],"stylesheet.unitless":["z-index","line-height","opacity","font-weight","zoom","flex","flex-grow","flex-shrink"],"stylesheet.shortHex":!0,"stylesheet.between":": ","stylesheet.after":";","stylesheet.intUnit":"px","stylesheet.floatUnit":"em","stylesheet.unitAliases":{e:"em",p:"%",x:"ex",r:"rem"},"stylesheet.json":!1,"stylesheet.jsonDoubleQuotes":!1,"stylesheet.fuzzySearchMinScore":0},or={type:"markup",syntax:"html",variables:Bs,snippets:{},options:Ds},qt={markup:{snippets:J(Es)},xhtml:{options:{"output.selfClosingStyle":"xhtml"}},xml:{options:{"output.selfClosingStyle":"xml"}},xsl:{snippets:J(Ts),options:{"output.selfClosingStyle":"xml"}},jsx:{options:{"jsx.enabled":!0}},pug:{snippets:J(Fs)},stylesheet:{snippets:J(Ns)},sass:{options:{"stylesheet.after":""}},stylus:{options:{"stylesheet.between":" ","stylesheet.after":""}}};function J(e){let t={};return Object.keys(e).forEach(n=>{for(let r of n.split("|"))t[r]=e[n]}),t}function sr(e={},t={}){let n=e.type||"markup",r=e.syntax||Is[n];return Object.assign(Object.assign(Object.assign({},or),e),{type:n,syntax:r,variables:Se(n,r,"variables",e,t),snippets:Se(n,r,"snippets",e,t),options:Se(n,r,"options",e,t)})}function Se(e,t,n,r,u={}){let i=qt[e],o=u[e],s=qt[t],l=u[t];return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},or[n]),i&&i[n]),s&&s[n]),o&&o[n]),l&&l[n]),r[n])}function lr(e,t=0){return{text:e,start:t,pos:e.length}}function T(e){return e.pos===e.start}function G(e,t=0){return e.text.charCodeAt(e.pos-1+t)}function Mt(e){if(!T(e))return e.text.charCodeAt(--e.pos)}function g(e,t){if(T(e))return!1;let n=typeof t=="function"?t(G(e)):t===G(e);return n&&e.pos--,!!n}function ar(e,t){let n=e.pos;for(;g(e,t););return e.pos<n}function rt(e){return e===39||e===34}function Os(e){let t=e.pos,n=Mt(e);if(rt(n)){for(;!T(e);)if(Mt(e)===n&&G(e)!==92)return!0}return e.pos=t,!1}var fr={91:93,40:41,123:125};function js(e){let t=e.pos;if(!g(e,62))return!1;let n=!1;for(g(e,47);!T(e);){if(ar(e,je),oe(e)){if(g(e,47)){n=g(e,60);break}else if(g(e,60)){n=!0;break}else{if(g(e,je))continue;if(g(e,61)){if(oe(e))continue;break}else if(cr(e)){n=!0;break}}break}if(!Ls(e))break}return e.pos=t,n}function Ls(e){return Ps(e)||cr(e)}function Ps(e){let t=e.pos;return Os(e)&&g(e,61)&&oe(e)?!0:(e.pos=t,!1)}function cr(e){let t=e.pos,n=[];for(;!T(e);){let r=G(e);if(Rs(r))n.push(r);else if(Ws(r)){if(n.pop()!==fr[r])break}else if(!Ms(r))break;e.pos--}return t!==e.pos&&g(e,61)&&oe(e)?!0:(e.pos=t,!1)}function oe(e){return ar(e,zs)}function zs(e){return e===58||e===45||Vs(e)||qs(e)}function Vs(e){return e&=-33,e>=65&&e<=90}function qs(e){return e>47&&e<58}function je(e){return e===32||e===9}function Ms(e){return!isNaN(e)&&e!==61&&!je(e)&&!rt(e)}function Ws(e){return e===123||e===40||e===91}function Rs(e){return e===125||e===41||e===93}var pr=e=>e.charCodeAt(0),_s="#.*:$-_!@%^+>/".split("").map(pr),Hs={type:"markup",lookAhead:!0,prefix:""};function Us(e,t=e.length,n={}){let r=Object.assign(Object.assign({},Hs),n);t=Math.min(e.length,Math.max(0,t??e.length)),r.lookAhead&&(t=Zs(e,t,r));let u,i=Qs(e,t,r.prefix||"");if(i===-1)return;let o=lr(e,i);o.pos=t;let s=[];for(;!T(o);){if(u=G(o),s.includes(125)){if(u===125){s.push(u),o.pos--;continue}if(u!==123){o.pos--;continue}}if(mr(u,r.type))s.push(u);else if(Js(u,r.type)){if(s.pop()!==fr[u])break}else if(s.includes(93)||s.includes(125)){o.pos--;continue}else if(js(o)||!Ys(u))break;o.pos--}if(!s.length&&o.pos!==t){let l=e.slice(o.pos,t).replace(/^[*+>^]+/,"");return{abbreviation:l,location:t-l.length,start:n.prefix?i-n.prefix.length:t-l.length,end:t}}}function Zs(e,t,n){for(rt(e.charCodeAt(t))&&t++;mr(e.charCodeAt(t),n.type);)t++;return t}function Qs(e,t,n){if(!n)return 0;let r=lr(e),u=n.split("").map(pr);r.pos=t;let i;for(;!T(r);)if(!(Wt(r,93,91)||Wt(r,125,123))){if(i=r.pos,Gs(r,u))return i;r.pos--}return-1}function Wt(e,t,n){let r=e.pos;if(g(e,t))for(;!T(e);){if(g(e,n))return!0;e.pos--}return e.pos=r,!1}function Gs(e,t){let n=e.pos,r=!1;for(let u=t.length-1;u>=0&&!T(e)&&g(e,t[u]);u--)r=u===0;return r||(e.pos=n),r}function Ys(e){return e>64&&e<91||e>96&&e<123||e>47&&e<58||_s.includes(e)}function Js(e,t){return e===40||t==="markup"&&(e===91||e===123)}function mr(e,t){return e===41||t==="markup"&&(e===93||e===125)}function Xs(e,t){let n=sr(t);return n.type==="stylesheet"?el(e,n):Ks(e,n)}function Ks(e,t){return Go(Qo(e,t),t)}function el(e,t){return cs(bs(e,t),t)}var Rt=String.fromCodePoint(65520),tl=String.fromCodePoint(65521);function de(e,t){let n=h(e,t),r=0,u=n.length;for(;r<u&&D(n[r]);)r++;for(;u>r&&D(n[u-1]);)u--;return{from:t.from+r,to:t.from+u}}function hr(e){return e.selection.main.from}function h(e,t){return e.doc.sliceString(t.from,t.to)}function y(e,t){return t>=e.from&&t<=e.to}function dr(e){var t;return{from:e.from,to:((t=e.nextSibling)==null?void 0:t.name)===";"?e.nextSibling.to:e.to}}function se(e){return e==='"'||e==="'"}function gr(e,t){let{from:n,to:r}=t,u=h(e,t);return se(u[0])&&n++,se(u[u.length-1])&&r--,{from:n,to:r}}function Le(e,t){let n={};for(let r of t.getChildren("Attribute")){let u=r.getChild("AttributeName");if(u){let i=h(e,u),o=r.getChild("AttributeValue");n[i]=o?h(e,gr(e,o)):null}}return n}function D(e){return/^[\s\n\r]+$/.test(e)}function nl(e,t){return e.from===t.from&&e.to===t.to}function br(e,t){return e.from<=t.from&&e.to>=t.to}function ut(e){return e.from===e.to}function it(e){return e.length>0?e[e.length-1]:void 0}function rl(e,t=0){let n=[],r="",u=null,i=0,o=0,s;for(;o<e.length;)s=e.charAt(o++),(s===Rt||s===tl)&&(r+=e.slice(i,o-1),i=o,s===Rt?(u={from:t+r.length,to:t+r.length},n.push(u)):u&&(u=null));return n.length||n.push({from:e.length+t,to:e.length+t}),{ranges:n,snippet:r+e.slice(i)}}var _t={OpenTag:"open",CloseTag:"close",SelfClosingTag:"selfClose"};function ul(e,t){if(N.isActiveAt(e,t))return vr(e,t);if(V.isActiveAt(e,t))return yr(e,t)}function vr(e,t,n){let r={type:"css",ancestors:[],current:null,inline:!1,embedded:n},u=$(e).resolveInner(t,-1),i=[];for(let s=u;s;s=s.parent)if(s.name==="RuleSet"){let l=xr(s);i.push({name:h(e,l),type:"selector",range:s})}else if(s.name==="Declaration"){let{name:l,value:a}=ot(s);a&&y(a,t)&&i.push({name:h(e,a),type:"propertyValue",range:a}),l&&i.push({name:h(e,l),type:"propertyName",range:l})}let o=i.shift();if(o){let s=o.type==="selector"?{from:o.range.from,to:o.range.from+o.name.length}:o.range;y(s,t)?(r.current=o,o.range=s):i.unshift(o)}return r.ancestors=i.reverse(),r}function yr(e,t){let n={type:"html",ancestors:[],current:null},r=$(e).resolveInner(t);for(let u=r;u;u=u?u.parent:null)if(u.name in _t){let i=Ht(e,u);i&&(n.current=I(d({},i),{type:_t[u.name]}),u=u.parent)}else if(u.name==="Element"){let i=u.getChild("OpenTag");if(i){let o=Ht(e,i);o&&n.ancestors.push(o)}}return n.ancestors.reverse(),il(e,t,n),n}function il(e,t,n){var r;if(((r=n.current)==null?void 0:r.type)==="open"){let u=$(e).resolve(n.current.range.from,1);for(;u&&u.name!=="OpenTag";)u=u.parent;if(u)for(let i of u.getChildren("Attribute")){if(i.from>t)break;if(y(i,t)&&ol(e,i)==="style"){let o=i.getChild("AttributeValue");if(o){let s=gr(e,o);y(s,t)&&(n.css=sl(h(e,s),t-s.from,s.from))}}}}}function Ht(e,t){let n=t.getChild("TagName");if(n)return{name:h(e,n).toLowerCase(),range:t}}function xr(e){let t=e.from,n=t;for(let r=e.firstChild;r&&r.name!=="Block";r=r.nextSibling)n=r.to;return{from:t,to:n}}function ot(e){let t,n,r=e.firstChild;return r?.name==="PropertyName"&&(t=r,r=r.nextSibling,r?.name===":"&&(r=r.nextSibling),r&&(n={from:r.from,to:e.lastChild.to})),{name:t,value:n}}function ol(e,t){let n=t.getChild("AttributeName");return n?h(e,n).toLowerCase():""}function sl(e,t,n=0){let r={type:"css",ancestors:[],current:null,inline:!0,embedded:{from:t+n,to:t+n+e.length}},u=ll(e,t);for(let i of u)if(i.value&&y(i.value,t)){r.current={name:e.substring(i.value.from,i.value.to).trim(),type:"propertyValue",range:{from:n+i.value.from,to:n+i.value.to}},r.ancestors.push({name:e.substring(i.name.from,i.name.to).trim(),type:"propertyName",range:{from:n+i.name.from,to:n+i.value.to}});break}else if(y(i.name,t)){let o=i.value?i.value.to:i.name.to;r.current={name:e.substring(i.name.from,i.name.to).trim(),type:"propertyName",range:{from:n+i.name.from,to:n+o}};break}return r}function ll(e,t=e.length){var n;let r=` 	
\r`,u=[],i;for(let o=0;o<e.length;o++){let s=e[o];if(i&&(i.value?i.value.from!==-1&&(i.value.to=o):i.name.to=o),s===";"){if(i=void 0,o>t)break}else s===":"?i&&!i.value&&(i.value={from:-1,to:-1}):i?((n=i.value)==null?void 0:n.from)===-1&&!r.includes(s)&&(i.value.from=i.value.to=o):r.includes(s)||(i={name:{from:o,to:o}},u.push(i))}return i&&(i.value?i.value.to++:i.name.to++),u}var al=["xml","xsl","jsx"],fl=["html","htmlmixed","vue"],wr=["css","scss","less"],cl=["jsx","tsx"],pl=["sass","sss","stylus","postcss"].concat(wr);function ml(e,t){let n=st(e),r,u=typeof t=="number"?ul(e,t):t;return u?.type==="html"&&u.css?(r=!0,n="css",u=u.css):u?.type==="css"&&(n="css"),{type:lt(n),syntax:n,inline:r,context:u}}function st(e){let t=e.facet(bu);return t===N?"css":t===V?"html":""}function lt(e){return e&&pl.includes(e)?"stylesheet":"markup"}function hl(e){return e?al.includes(e):!1}function Cr(e){return e?fl.includes(e)||hl(e):!1}function $r(e){return e?wr.includes(e):!1}function at(e){return e?cl.includes(e):!1}function kr(e,t){let n=it(t.ancestors);if(n){let r=$(e).resolve(n.range.from,1);for(;r&&r.name!=="OpenTag";)r=r.parent;return{name:n.name,attributes:r?Le(e,r):{}}}}function Ar(e){if(e.inline)return{name:"@@property"};let t=it(e.ancestors),n="@@global";return e.current?e.current.type==="propertyValue"&&t?n=t.name:(e.current.type==="selector"||e.current.type==="propertyName")&&!t&&(n="@@section"):t||(n="@@section"),{name:n}}var Sr={};function ge(e,t,n){let r={cache:Sr},u={"output.field":Nr};n&&(Object.assign(r,n),n.options&&Object.assign(u,n.options)),r.options=u;let i=ft(e);return i.config&&(r=sr(r,i.config)),Xs(t,r)}function dl(e,t,n="markup",r){return Us(e,t,d({lookAhead:n!=="stylesheet",type:n},r))}function be(e,t){let n=$(e).resolve(t,1);for(;n&&n.name!=="Element";)n=n.parent;if(n){let r=n.getChild("SelfClosingTag");if(r)return{name:Ut(e,r),attributes:Le(e,r),open:r};let u=n.getChild("OpenTag");if(u){let i=n.getChild("CloseTag"),o={name:Ut(e,u),attributes:Le(e,u),open:u};return i&&(o.close=i),o}}}function Ut(e,t){let n=t.getChild("TagName");return n?h(e,n):""}function Er(e,t){let n=ml(e,t),{context:r}=n,u={type:n.type,syntax:n.syntax||"html",options:le(e,n.inline)};return r&&(r.type==="html"&&r.ancestors.length?u.context=kr(e,r):r.type==="css"&&(u.context=Ar(r))),u}function gl(){Sr={}}var bl={mark:!0,preview:{},previewEnabled:!0,autoRenameTags:!0,markTagPairs:!0,previewOpenTag:!1,attributeQuotes:"double",markupStyle:"html",comments:!1,commentsTemplate:"<!-- /[#ID][.CLASS] -->",bem:!1,completionBoost:99},ve=du.define({combine(e){gl();let t=d({},bl),{preview:n}=t;for(let r of e)Object.assign(t,r),r.preview&&(t.preview=d(d({},n),r.preview));return t}});function ft(e,t){let n=e.facet(ve);return t&&(n=d(d({},n),t)),n}function le(e,t){let n=st(e)||"html",r=ft(e),u={"output.field":Nr,"output.indent":"	","output.format":!t,"output.attributeQuotes":r.attributeQuotes,"stylesheet.shortHex":r.shortHex};return n==="html"&&(u["output.selfClosingStyle"]=r.markupStyle,u["output.compactBoolean"]=r.markupStyle==="html"),Cr(n)&&(r.comments&&(u["comment.enabled"]=!0,r.commentsTemplate&&(u["comment.after"]=r.commentsTemplate)),u["bem.enabled"]=r.bem),u}function Nr(e,t){return t?`\${${e}:${t}}`:`\${${e}}`}function Tr(e){let t=e.text.match(/^\s+/);return t?t[0]:""}function Fr(e,t,n){let r=document.createElement("div");r.className="emmet-preview",t==="error"&&r.classList.add("emmet-preview_error");let u=t==="css"?bt:gt;n&&t in n&&(u=n[t]);let i=new Me({doc:e,extensions:[gu.readOnly.of(!0),vu(yu,{fallback:!0}),t==="css"?bt():gt(),u()],parent:r});return r.update=o=>{let s=i.state.update({changes:{from:0,to:i.state.doc.length,insert:o}});i.dispatch(s)},r}var vl="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjM5MyIgdmlld0JveD0iMCAwIDM5MyAzOTMiIHdpZHRoPSIzOTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9Ijk4LjYwODY5JSIgeDI9IjUwJSIgeTE9IjUwJSIgeTI9IjUwJSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjY2VmYmFkIi8+PHN0b3Agb2Zmc2V0PSIuODM2OTcyNTM1IiBzdG9wLWNvbG9yPSIjY2VmYmFkIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjxwYXRoIGlkPSJiIiBkPSJtMTE2IDQ4IDEwNSA2M3YzNC45ODVsLTc1LTQ0Ljk5OTI4OXY2Ny42NjcyODlsNDkuNSAyOS4zNDctNDkuNSAyOS4zNDZ2NjcuNjY4Mjg5bDc1LTQ1LjAwMDI4OXYzNC45ODZsLTEwNSA2M3ptMTQ1IDg3IDEwNSA2My0xMDUgNjN2LTM0Ljk4Nmw0Ni42OTA0ODEtMjguMDE0LTQ2LjY5MDQ4MS0yOC4wMTR6Ii8+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJtYXRyaXgoLjcwNzEwNjc4IC0uNzA3MTA2NzggLjcwNzEwNjc4IC43MDcxMDY3OCAtODEuMzkyOTY1IDE5Ni41KSI+PGNpcmNsZSBjeD0iMTk2LjUiIGN5PSIxOTYuNSIgZmlsbD0iIzI1MjcyYiIgcj0iMTk2LjUiLz48dXNlIGZpbGw9IiM5MmMxMzEiIHhsaW5rOmhyZWY9IiNiIi8+PHVzZSBmaWxsPSJ1cmwoI2EpIiB4bGluazpocmVmPSIjYiIvPjwvZz48L3N2Zz4=",yl=e=>{let t=e.state.field(E);return t?.type==="abbreviation"&&t.preview?{from:t.range.from,to:t.range.to,filter:!1,update(n,r,u,i){let o=i.state.field(E);return!o||o.type==="error"?null:I(d({},n),{from:o.range.from,to:o.range.to,options:Yt(i.state,o)})},options:Yt(e.state,t)}:null},xl=N.data.of({autocomplete:yl}),Pe="<",wl=X.mark({class:"emmet-tracker"}),ct=We.define(),Br=We.define(),Ir=({state:e,dispatch:t})=>{let n=e.update({effects:[Br.of(null)]});return t(n),!0},E=Re.define({create:()=>null,update(e,t){if(t.annotation(sn))return null;for(let r of t.effects){if(r.is(ct))return null;if(r.is(Br)){let u=t.newSelection.main,i=pt(t.state,u.from);if(i)return mt(t.state,u,{forced:!0,config:i})}}return t.docChanged?Ol(t.state,e,t):e}}),Cl=Re.define({create:Zt,update(e,t){return!t.docChanged&&!t.selection?t.state.field(E)?e:null:Zt(t.state,e)},provide:e=>hu.from(e)});function Zt(e,t){let n=e.field(E);if(n&&!n.inactive&&_e(e)!=="active"){if(n.config.type==="stylesheet")return null;t&&t.tracker.type!==n.type&&(t=null);let{range:r}=n;if(Pl(e,n))return t||{pos:r.from,above:!1,arrow:!1,tracker:n,create(){let u=e.facet(ve).preview,i="",o="";n.type==="error"?(i=n.error.message,o="error"):(i=n.preview,o=n.config.syntax||"html");let s=Fr(i,o,u);return{dom:s,update({state:l}){let a=l.field(E);if(a&&s.update){let f=a.type==="error"?a.error.message:a.preview;s.update(f)}}}}}}return null}var $l=un.fromClass(class{constructor(){Be(this,"decorations"),this.decorations=X.none}update(e){let{state:t}=e,n=t.field(E),r=[];if(n&&!n.inactive){let{range:u}=n;ut(u)||r.push(wl.range(u.from,u.to)),this.decorations=X.set(r,!0)}else this.decorations=X.none}},{decorations:e=>e.decorations});function Dr(e,t){let{from:n,to:r}=t.range,u=ge(e.state,t.abbreviation,t.config),i=ln(u);e.dispatch(e.state.update({effects:ct.of(null)})),i(e,{label:"expand"},n,r)}var kl=e=>{let{state:t}=e;if(_e(t))return!1;let n=t.field(E,!1);return n&&!n.inactive&&y(n.range,hr(t))?(Dr(e,n),!0):!1},Al=({state:e,dispatch:t})=>e.field(E,!1)?(t({effects:ct.of(null)}),!0):!1,Sl=Me.baseTheme({".emmet-tracker":{textDecoration:"underline 1px green"},".emmet-preview":{fontSize:"0.9em"},".emmet-preview_error":{color:"red"},".cm-completionIcon-emmet::after":{content:'" "',background:`url("${vl}") center/contain no-repeat`,display:"inline-block",width:"11px",height:"11px",verticalAlign:"middle"}});function Or(e){return[E,$l,Cl,Sl,xl,e?ve.of(e):[],on.of([{key:"Tab",run:kl},{key:"Escape",run:Al}])]}function El(e,t,n){if(n.length!==1)return null;let r=e.doc.lineAt(t),u=r.text.substring(Math.max(0,t-r.from-1),t-r.from);if(!Gt(u,n,jl(e,t)))return null;let i=pt(e,t);if(!i||i.type==="stylesheet"&&!Gt(u,n,"css"))return null;let o=i.syntax||"html",s=t,l=t+n.length,a=0;return at(o)&&u===Pe&&(a=Pe.length,s-=a),mt(e,{from:s,to:l},{config:i})}function pt(e,t){if(N.isActiveAt(e,t))return Qt(e,t,"css",vr(e,t));let n=st(e);if(Cr(n)){let r=yr(e,t);if(r.css)return Qt(e,t,"css",r.css);if(!r.current)return{syntax:n,type:"markup",context:kr(e,r),options:le(e)}}else return{syntax:n,type:lt(n),options:le(e)}}function Qt(e,t,n,r){if(!r.current||r.current.type==="propertyName"||r.current.type==="propertyValue"||Nl(e,t,r))return{syntax:n,type:"stylesheet",context:Ar(r),options:le(e,r.inline)}}function Nl(e,t,{current:n}){return n?.type==="selector"&&n.range.from===t-1?e.doc.lineAt(n.range.from).text.trim().length===1:!1}function Tl(e,t){return at(t)?e===Pe:$r(t)?e===""||/^[\s>;"\']$/.test(e):e===""||/^[\s>;"\']$/.test(e)}function Fl(e,t){return at(t)?/^[a-zA-Z.#\[\(]$/.test(e):$r(t)?/^[a-zA-Z!@#]$/.test(e):/^[a-zA-Z.#!@\[\(]$/.test(e)}function mt(e,t,n){if(t.from>t.to)return null;let r=h(e,t),{config:u,forced:i}=n;if(n.offset&&(r=r.slice(n.offset)),!r&&!i||jr(r))return null;let o={abbreviation:r,range:t,config:u,forced:!!i,inactive:!1,offset:n.offset||0};try{let s,l=!1;u.type==="markup"&&(s=Ye(r,{jsx:u.syntax==="jsx"}),l=Bl(s));let a=Il(u),f=ge(e,s||r,a);return f?I(d({},o),{type:"abbreviation",simple:l,preview:f}):null}catch(s){return o.forced?I(d({},o),{type:"error",error:s}):null}}function jr(e){return/[\r\n]/.test(e)}function Bl(e){if(e.children.length===1&&!e.children[0].children.length){let t=e.children[0];return!t.name||/^[a-z]/i.test(t.name)}return!e.children.length}function Il(e){return I(d({},e),{options:I(d({},e.options),{"output.field":Dl,"output.indent":"  ","output.baseIndent":""})})}function Dl(e,t){return t}function Ol(e,t,n){return Ll(e)?null:((!t||t.inactive)&&(n.changes.iterChanges((r,u,i,o,s)=>{s.length&&(t=El(e,i,s.toString())||t)}),!t||!t.inactive)||n.changes.iterChanges((r,u,i,o,s)=>{if(!t)return;let{range:l}=t;if(!y(l,r))t.inactive||(t=null);else if(y(l,i)){let a=u-r,f=o-r,x=l.to+f-a;if(x<=l.from||jr(s.toString()))t=null;else{let j=t.inactive?l:{from:l.from,to:x},F=mt(e,j,{config:t.config,forced:t.forced});F?t=F:t=I(d({},t),{inactive:!0})}}}),t)}function jl(e,t){return N.isActiveAt(e,t)?"css":V.isActiveAt(e,t)?"html":""}function Gt(e,t,n){return Tl(e,n)&&Fl(t,n)}function Ll(e){return Array.isArray(e.values)?e.values.some(t=>{var n;return t&&((n=t.constructor)==null?void 0:n.name)==="ActiveSnippet"}):!1}function Pl(e,t){if(_e(e)==="active")return!1;let n=ft(e);if(!n.previewEnabled)return!1;if(Array.isArray(n.previewEnabled)){let{type:r,syntax:u}=t.config;if(!n.previewEnabled.includes(r)&&!n.previewEnabled.includes(u))return!1}return t.type==="error"||(!t.simple||t.forced)&&!!t.abbreviation&&y(t.range,hr(e))}function Yt(e,t,n){let r=e.facet(ve);return[{label:"Emmet abbreviation",type:"emmet",boost:r.completionBoost,tracker:t,previewConfig:r.preview,preview:n?.preview,info:zl,apply:(u,i)=>{u.dispatch({annotations:sn.of(i)}),Dr(u,t)}}]}function zl(e){let{tracker:t,previewConfig:n,preview:r}=e;return r?.update?r.update(t.preview):e.preview=r=Fr(t.preview,t.config.syntax||"html",n),r}var Lr=({state:e,dispatch:t})=>{let n=e.selection.main,r=e.doc.lineAt(n.anchor),u=Er(e,n.anchor),i=dl(r.text,n.anchor-r.from,lt(u.syntax));if(i){let o=r.from+i.start,s=ge(e,i.abbreviation,pt(e,o)||u);return ln(s)({state:e,dispatch:t},{label:"expand"},o,r.from+i.end),!0}return!1},Pr=({state:e,dispatch:t})=>{let n=[],r=!1;for(let u of e.selection.ranges){let i=Vl(e,u.from);if(i){r=!0;let o=i.find(s=>br(s,u)&&!nl(s,u))||u;n.push(w.range(o.from,o.to))}else n.push(u)}if(r){let u=e.update({selection:w.create(n)});return t(u),!0}return!1};function Vl(e,t){if(N.isActiveAt(e,t))return Ml(e,t);if(V.isActiveAt(e,t))return ql(e,t)}function ql(e,t){let n=[],r=$(e).resolveInner(t,-1);for(let u=r;u;u=u.parent)u.name==="Element"&&Wl(u,n);return zr(n,!1)}function Ml(e,t){let n=[],r=$(e).resolveInner(t,-1);for(;r;)Rl(e,r,t,n),r=r.parent;return zr(n,!1)}function Wl(e,t){let n=e.getChild("SelfClosingTag");if(n)t.push(n);else{let r=e.getChild("OpenTag");if(r){let u=e.getChild("CloseTag");u?(t.push({from:r.to,to:u.from}),t.push({from:r.from,to:u.to})):t.push(r)}}}function Rl(e,t,n,r){if(t.name==="Block")r.push(de(e,{from:t.from+1,to:t.to-1}));else if(t.name==="RuleSet")r.push(t);else if(t.name==="Declaration"){let{name:u,value:i}=ot(t);i&&y(i,n)&&r.push(i),u&&y(u,n)&&r.push(u),r.push(dr(t))}}function zr(e,t){let n=[];e=[...e].sort(t?(r,u)=>r.from-u.from||u.to-r.to:(r,u)=>u.from-r.from||r.to-u.to);for(let r of e){let u=it(n);(!u||u.from!==r.from||u.to!==r.to)&&n.push(r)}return n}var Jt=["<!--","-->"],Xt=["/*","*/"],Vr=({state:e,dispatch:t})=>{let n=[];for(let u of e.selection.ranges)N.isActiveAt(e,u.from)?n=n.concat(Hl(e,u.from)):V.isActiveAt(e,u.from)&&(n=n.concat(_l(e,u.from)));if(!n.length)return!1;let r=e.update({changes:n});return t(r),!0};function _l(e,t){let n=[],r=qr(e,t,["Element","Comment"]);return r&&(r.name==="Comment"?n=n.concat(ht(e,r,Jt)):n=n.concat(Mr(e,r,Jt,V))),n}function Hl(e,t){let n=[],r=qr(e,t,["RuleSet","Declaration","Comment"]);return r&&(r.name==="Comment"?n=n.concat(ht(e,r,Xt)):n=n.concat(Mr(e,r,Xt,N))),n}function qr(e,t,n){let r=new Set(n),u=$(e).resolve(t,1);for(;u;){if(r.has(u.name))return u;u=u.parent}}function ht(e,t,n){let r=de(e,{from:t.from+n[0].length,to:t.to-n[1].length});return[{from:t.from,to:r.from},{from:r.to,to:t.to}]}function Mr(e,t,n,r){var u;let{to:i}=t;t.name==="Declaration"&&((u=t.nextSibling)==null?void 0:u.name)===";"&&(i=t.nextSibling.to);let o=[{from:t.from,insert:n[0]+" "},{from:i,insert:" "+n[1]}];if(o=o.concat(Kt(e,t,n,r)),t.name==="RuleSet"){let s=t.getChild("Block");s&&(o=o.concat(Kt(e,s,n,r)))}return o}function Kt(e,t,n,r){let u=[];for(let i of t.getChildren("Comment"))r.isActiveAt(e,i.from)&&(u=u.concat(ht(e,i,n)));return u}function H(e){return e>47&&e<58}function Wr(e){return e===32||e===9||e===160}function Ee(e){return Wr(e)||e===10||e===13}var ze=class e{constructor(t,n,r){r==null&&typeof t=="string"&&(r=t.length),this.string=t,this.pos=this.start=n||0,this.end=r||0}eof(){return this.pos>=this.end}limit(t,n){return new e(this.string,t,n)}peek(){return this.string.charCodeAt(this.pos)}next(){if(this.pos<this.string.length)return this.string.charCodeAt(this.pos++)}eat(t){let n=this.peek(),r=typeof t=="function"?t(n):n===t;return r&&this.next(),r}eatWhile(t){let n=this.pos;for(;!this.eof()&&this.eat(t););return this.pos!==n}backUp(t){this.pos-=t||1}current(){return this.substring(this.start,this.pos)}substring(t,n){return this.string.slice(t,n)}error(t,n=this.pos){return new Ve(`${t} at ${n+1}`,n,this.string)}},Ve=class extends Error{constructor(t,n,r){super(t),this.pos=n,this.string=r}},Ul=ye("null",0);function Zl(e){let t=typeof e=="string"?new ze(e):e,n,r=0,u=21,i=[];for(;!t.eof();)t.eatWhile(Wr),t.start=t.pos,Ql(t)?(u&1||L("Unexpected number",t),i.push(Yl(t.current())),u=10):Hr(t.peek())?(n=t.next(),Rr(n)&&u&16?(_r(n)&&i.push(Jl(n,r)),u=21):(u&2||L("Unexpected operator",t),i.push(Xl(n,r)),u=21)):t.eat(40)?(u&4||L('Unexpected "("',t),r+=10,u=53):t.eat(41)?(r-=10,u&32?i.push(Ul):u&8||L('Unexpected ")"',t),u=14):L("Unknown character",t);(r<0||r>=10)&&L('Unmatched "()"',t);let o=Gl(i);return o===null&&L("Parity",t),o}function Ql(e){let t=e.pos;return e.eat(46)&&e.eatWhile(H)||e.eatWhile(H)&&(!e.eat(46)||e.eatWhile(H))?!0:(e.pos=t,!1)}function Gl(e){let t=[],n=[],r=0;for(let u=0;u<e.length;u++){let i=e[u];if(i.type==="num")n.push(i);else{for(r+=i.type==="op1"?1:2;t.length&&i.priority<=t[t.length-1].priority;)n.push(t.pop());t.push(i)}}return r+1===n.length+t.length?n.concat(t.reverse()):null}function Yl(e,t){return ye("num",parseFloat(e),t)}function Jl(e,t=0){return e===45&&(t+=2),ye("op1",e,t)}function Xl(e,t=0){return e===42?t+=1:(e===47||e===92)&&(t+=2),ye("op2",e,t)}function L(e,t){throw t&&(e+=` at column ${t.pos} of expression`),new Error(e)}function Rr(e){return Kl(e)||_r(e)}function Kl(e){return e===43}function _r(e){return e===45}function Hr(e){return e===43||e===45||e===42||e===47||e===92}function ye(e,t,n=0){return{type:e,value:t,priority:n}}var ea={lookAhead:!0,whitespace:!0};function ta(e,t=e.length,n){let r=Object.assign(Object.assign({},ea),n),u={text:e,pos:t},i;if(r.lookAhead&&Ne(u)===41){u.pos++;let l=e.length;for(;u.pos<l&&(i=Ne(u),!(i!==41&&!(r.whitespace&&Ee(i))));)u.pos++}let o=u.pos,s=0;for(;u.pos>=0;)if(!na(u)){if(i=qe(u),i===41)s++;else if(i===40){if(!s)break;s--}else if(!(r.whitespace&&Ee(i)||Rr(i)||Hr(i)))break;u.pos--}if(u.pos!==o&&!s){for(;Ee(Ne(u));)u.pos++;return[u.pos,o]}return null}function na(e){if(H(qe(e))){e.pos--;let t=!1,n;for(;e.pos>=0;){if(n=qe(e),n===46){if(t)break;t=!0}else if(!H(n))break;e.pos--}return!0}return!1}function qe(e){return e.text.charCodeAt(e.pos-1)}function Ne(e){return e.text.charCodeAt(e.pos)}var ra={45:e=>-e},ua={43:(e,t)=>e+t,45:(e,t)=>e-t,42:(e,t)=>e*t,47:(e,t)=>e/t,92:(e,t)=>Math.floor(e/t)};function ia(e){if(Array.isArray(e)||(e=Zl(e)),!e||!e.length)return null;let t=[],n,r,u;for(let i=0,o=e.length;i<o;i++){let s=e[i];if(s.type==="num")t.push(s.value);else if(s.type==="op2")r=t.pop(),n=t.pop(),u=ua[s.value],t.push(u(n,r));else if(s.type==="op1")n=t.pop(),u=ra[s.value],t.push(u(n));else throw new Error("Invalid expression")}if(t.length>1)throw new Error("Invalid Expression (parity)");return t[0]}var Ur=({state:e,dispatch:t})=>{let n=[],r=[];for(let u of e.selection.ranges){let{from:i,to:o}=u;if(i===o){let s=e.doc.lineAt(u.from),l=ta(s.text,u.from-s.from);l&&(i=l[0]+s.from,o=l[1]+s.from)}if(i!==o)try{let s=ia(e.doc.sliceString(i,o));if(s!==null){let l=s.toFixed(4).replace(/\.?0+$/,"");n.push({from:i,to:o,insert:l}),r.push(w.range(i+l.length,i+l.length))}}catch(s){r.push(u),console.error(s)}}if(n.length){let u=e.update({changes:n,selection:w.create(r)});return t(u),!0}return!1},Zr=({state:e,dispatch:t})=>{let n=e.update({selection:Gr(e,1)});return t(n),!0},Qr=({state:e,dispatch:t})=>{let n=e.update({selection:Gr(e,-1)});return t(n),!0};function Gr(e,t){let n=[];for(let r of e.selection.ranges){let u=oa(e,r.from+t,t);u!=null?n.push(w.cursor(u)):n.push(r)}return w.create(n)}function oa(e,t,n){let r=e.doc.toString(),u=r.length,i=t;for(;i<u&&i>=0;){i+=n;let o=r[i],s=r[i+1],l=r[i-1];if(se(o)&&s===o&&l==="=")return i+1;if(o==="<"&&l===">")return i;if(sa(o)){let a=e.doc.lineAt(i+n);if(!a.length||D(a.text))return a.from+a.text.length}}}function sa(e){return e==="\r"||e===`
`}var Yr=({state:e,dispatch:t})=>{let n=[],r=!1;for(let u of e.selection.ranges){let i=u.from,o=u;if(V.isActiveAt(e,i)){let s=be(e,i);if(s&&s.open&&s.close){r=!0;let{open:l,close:a}=s,f=l.from<=i&&i<l.to?a.from:l.from;o=w.cursor(f)}}n.push(o)}if(r){let u=e.update({selection:w.create(n)});return t(u),!0}return!1},Jr=e=>Kr(e,1),Xr=e=>Kr(e,-1);function Kr({state:e,dispatch:t},n){let r=[];for(let u of e.selection.ranges){let{from:i,to:o}=u;if(i===o){let s=e.doc.lineAt(i),l=la(s.text,i-s.from);l&&(i=s.from+l[0],o=s.from+l[1])}if(i!==o){let s=aa(e.doc.sliceString(i,o),n);r.push({changes:{from:i,to:o,insert:s},selection:w.range(i,i+s.length)})}else r.push({selection:u})}if(r.some(u=>u.changes)){let u=e.update(...r);return t(u),!0}return!1}function la(e,t){let n=!1,r=t,u=t,i,o=e.length;for(;r<o;){if(i=e.charCodeAt(r),en(i)){if(n)break;n=!0}else if(!tn(i))break;r++}for(;u>=0;){if(i=e.charCodeAt(u-1),en(i)){if(n)break;n=!0}else if(!tn(i))break;u--}if(u>0&&e[u-1]==="-"&&u--,u!==r)return[u,r]}function aa(e,t,n=3){let r=parseFloat(e)+t;if(isNaN(r))return e;let u=r<0,i=Math.abs(r).toFixed(n);return i=i.replace(/\.?0+$/,""),(e[0]==="."||e.startsWith("-."))&&i[0]==="0"&&(i=i.slice(1)),(u?"-":"")+i}function en(e){return e===46}function tn(e){return e>47&&e<58}var eu=({state:e,dispatch:t})=>{let n=[];for(let r of e.selection.ranges){let u=be(e,r.from);u?n.push(fa(e,u)):n.push({selection:r})}if(n.some(r=>r.changes)){let r=e.update(...n);return t(r),!0}return!1};function fa(e,{open:t,close:n}){let r=[];if(n){let u=de(e,{from:t.to,to:n.from});if(ut(u))r.push({from:t.from,to:n.to});else{r.push({from:t.from,to:u.from});let i=e.doc.lineAt(t.from),o=e.doc.lineAt(n.to);if(i.number!==o.number){let s=i.number+2,l=nn(e,t.from),a=nn(e,u.from);for(;s<=o.number;){let f=e.doc.line(s);D(f.text.slice(0,a.length))&&r.push({from:f.from,to:f.from+a.length,insert:l}),s++}}r.push({from:u.to,to:n.to})}}else r.push(t);return{changes:r}}function nn(e,t){return Tr(e.doc.lineAt(t))}var tu=e=>ru(e,!1),nu=e=>ru(e,!0),ca=new Set(["OpenTag","CloseTag","SelfClosingTag"]),pa=new Set(["Block","RuleSet","StyleSheet"]),ma=new Set(["RuleSet","Block","StyleSheet","Declaration"]);function ru({state:e,dispatch:t},n){let r=!1,u=[];for(let i of e.selection.ranges){let o=N.isActiveAt(e,i.from)?da(e,i,n):ha(e,i,n);o?(r=!0,u.push(w.range(o.from,o.to))):u.push(i)}if(r){let i=e.update({selection:w.create(u)});return t(i),!0}return!1}function ha(e,t,n){let u=va(e,t).cursor();do if(u.name==="OpenTag"||u.name==="SelfClosingTag"){let i=xa(e,u.node),o=iu(t,i,n);if(o)return o}while(ga(u,n))}function da(e,t,n){let u=ya(e,t).cursor();do{let i=uu(e,u.node),o=iu(t,i,n);if(o)return o}while(ba(u,n))}function ga(e,t){let n=e.name==="Element";return t?e.prev(n):e.next(n)}function ba(e,t){let n=pa.has(e.name);return t?e.prev(n):e.next(n)}function va(e,t){let n=$(e).resolveInner(t.to,1),r=n;for(;r;){if(ca.has(r.name))return r;r=r.parent}return n}function ya(e,t){let n=$(e).resolveInner(t.to,1),r=n.parent;for(;r;){if(ma.has(r.name))return r;r=r.parent}return n}function xa(e,t){let n=[],r=t.firstChild;for(;r;){if(r.name==="TagName")n.push(r);else if(r.name==="Attribute"){n.push(r);let u=r.getChild("AttributeName"),i=wa(e,r);u&&i&&(n.push(u,i),h(e,u).toLowerCase()==="class"&&(n=n.concat(Ca(h(e,i)))))}r=r.nextSibling}return n}function uu(e,t){let n=[];if(t.name==="RuleSet"){let r=xr(t);n.push(r);let u=t.getChild("Block");if(u)for(let i of u.getChildren("Declaration"))n=n.concat(uu(e,i))}else if(t.name==="Declaration"){n.push(dr(t));let{name:r,value:u}=ot(t);r&&n.push(r),u&&n.push(u)}return n}function wa(e,t){let n=t.getChild("AttributeValue");if(n){let{from:r,to:u}=n,i=h(e,n);if(se(i[0])&&(r++,i[0]===i[i.length-1]&&u--),r!==u)return{from:r,to:u}}}function Ca(e,t=0){let n=[],r=e.length,u=0,i=0,o=r;for(;u<r;){o=u;let s=e.charAt(u++);if(D(s)){for(i!==o&&n.push({from:t+i,to:t+o});D(e.charAt(u));)u++;i=u}}return i!==u&&n.push({from:t+i,to:t+u}),n}function iu(e,t,n=!1){n&&(t=t.slice().reverse());let r=!1,u;for(let i of t){if(r)return i;i.from===e.from&&i.to===e.to?r=!0:!u&&(br(i,e)||n&&i.from<=e.from||!n&&i.from>=e.from)&&(u=i)}return r?void 0:u}var ou=({state:e,dispatch:t})=>{let n=[];for(let r of e.selection.ranges){let u=be(e,r.from);if(u){let{open:i,close:o}=u;if(o){let s=D(Te(e,i.to-2))?"/":" /";n.push({from:i.to-1,to:o.to,insert:`${s}>`})}else{let s=`</${u.name}>`,l=i.to,a=i.to;Te(e,i.to-2)==="/"&&(l-=2,D(Te(e,l-1))&&l--,s=">"+s),n.push({from:l,to:a,insert:s})}}}if(n.length){let r=e.update({changes:n});return t(r),!0}return!1};function Te(e,t){return e.doc.sliceString(t,t+1)}var U=We.define(),ae=Re.define({create:()=>null,update(e,t){for(let n of t.effects)n.is(U)&&(e=n.value);return e}}),$a=Me.baseTheme({".emmet-wrap-with-abbreviation":{position:"absolute",top:0,zIndex:2,width:"100%"},".emmet-wrap-with-abbreviation__content":{background:"#fff",margin:"0 auto",padding:"5px",boxSizing:"border-box",width:"100%",maxWidth:"30em",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px",boxShadow:"0 3px 10px rgba(0, 0, 0, 0.3)"},".emmet-wrap-with-abbreviation__content input":{width:"100%",boxSizing:"border-box"}}),ka=({state:e,dispatch:t})=>{if(e.field(ae)===null){let r=e.selection.main,u=be(e,r.from),i=Sa(e,r,u),o=Er(e,i.from);o.text=Ea(e,i);let s=e.update({effects:[U.of({abbreviation:"",range:i,options:o,context:u})]});return t(s),!0}return!1},Aa=un.fromClass(class{constructor(){Be(this,"widget",null),Be(this,"input",null)}update(t){let{state:n,view:r}=t,u=n.field(ae);u?(this.widget||this.createInputPanel(r),this.updateAbbreviation(u.abbreviation)):this.widget&&(this.disposeWidget(),r.focus())}createInputPanel(t){let n=document.createElement("div");n.className="emmet-wrap-with-abbreviation";let r=document.createElement("div");r.className="emmet-wrap-with-abbreviation__content";let u=document.createElement("input");u.placeholder="Enter abbreviation";let i=!1,o=()=>{i&&(xu(t),i=!1)};u.addEventListener("input",()=>{let s=t.state.field(ae);if(s){let l=u.value;o();let a=I(d({},s),{abbreviation:l});if(a.abbreviation){i=!0;let{from:f,to:x}=a.range,j=ge(t.state,a.abbreviation,a.options),{ranges:F,snippet:xe}=rl(j,f),Y=F[0];t.dispatch({effects:[U.of(a)],changes:[{from:f,to:x,insert:xe}],selection:{head:Y.from,anchor:Y.to}})}else t.dispatch({effects:[U.of(a)]})}}),u.addEventListener("keydown",s=>{(s.key==="Escape"||s.key==="Enter")&&(s.key==="Escape"&&o(),s.preventDefault(),t.dispatch({effects:[U.of(null)]}))}),r.append(u),n.append(r),t.dom.append(n),this.widget=n,this.input=u,u.focus()}updateAbbreviation(t){this.input&&this.input.value!==t&&(this.input.value=t)}disposeWidget(){this.widget&&(this.widget.remove(),this.widget=this.input=null)}});function su(e="Ctrl-w"){return[ae,Aa,$a,on.of([{key:e,run:ka}])]}function Sa(e,t,n){if(ut(t)&&n){let{open:r,close:u}=n,i=t.from;if(rn(r,i)||u&&rn(u,i))return{from:r.from,to:u?u.to:r.to};if(u)return de(e,{from:r.to,to:u.from})}return t}function rn(e,t){return e.from<t&&t<e.to}function Ea(e,t){let n=Tr(e.doc.lineAt(t.from));return h(e,t).split(`
`).map(i=>i.startsWith(n)?i.slice(n.length):i)}var Ma=[Or(),su(),Na.of([{key:"Cmd-e",run:Lr},{key:"Cmd-Shift-e",run:Ir},{key:"Cmd-Shift-d",run:Pr},{key:"Ctrl-/",run:Vr},{key:"Ctrl-y",run:Ur},{key:"Ctrl-Alt-ArrowLeft",run:Qr},{key:"Ctrl-Alt-ArrowRight",run:Zr},{key:"Ctrl-g",run:Yr},{key:"Ctrl-Alt-ArrowUp",run:Jr},{key:"Ctrl-Alt-ArrowDown",run:Xr},{key:"Ctrl-'",run:eu},{key:"Ctrl-Shift-'",run:ou},{key:"Ctrl-.",run:tu},{key:"Ctrl-,",run:nu}])];export{Ma as emmet};
//# sourceMappingURL=codemirror-emmet.js.map
