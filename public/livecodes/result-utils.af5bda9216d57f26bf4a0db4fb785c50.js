"use strict";(()=>{var r=e=>{function t(n){return typeof HTMLElement=="object"?n instanceof HTMLElement:n&&typeof n=="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}function o(n){return typeof Node=="object"?n instanceof Node:n&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"}function s(n){return Object.prototype.toString.call(n)==="[object HTMLDocument]"}function y(n){return Object.prototype.toString.call(n)==="[object Window]"}let c=Object.prototype.toString.call(e);if(e===void 0)return"undefined";if(e===null)return"null";if(y(e))return"window";if(s(e))return"document";if(t(e))return"element";if(o(e))return"node";if(e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return"buffer";if(typeof window=="object"&&e===window)return"window";if(typeof global=="object"&&e===global)return"global";if(typeof e=="number"&&isNaN(e)||typeof e=="object"&&c==="[object Number]"&&isNaN(e))return"nan";if(typeof e=="object"&&c.substr(-6)==="Event]")return"event";if(c.substr(0,12)==="[object HTML")return"element";if(c.substr(0,12)==="[object Node")return"node";let a=c.match(/\[object\s*([^\]]+)\]/);return a?a[1].toLowerCase():"object"};function i(e){return e.map(t=>{switch(r(t)){case"window":case"function":case"date":case"symbol":return{type:r(t),content:t.toString()};case"document":return{type:r(t),content:t.documentElement.outerHTML};case"element":return{type:r(t),content:t.outerHTML};case"node":return{type:r(t),content:t.textContent};case"array":return{type:r(t),content:t.map(o=>i([o])[0].content)};case"object":return{type:r(t),content:Object.keys(t).reduce((o,s)=>({...o,[s]:i([t[s]])[0].content}),{})};case"error":return{type:r(t),content:t.constructor.name+": "+t.message}}try{return{type:"other",content:structuredClone(t)}}catch{return{type:"other",content:String(t)}}})}var d=()=>{window.console=new Proxy(console,{get(e,t){return function(...o){if(!(t in e)){let s=`Uncaught TypeError: console.${String(t)} is not a function`;e.error(s),parent.postMessage({type:"console",method:"error",args:i([s])},"*");return}e[t](...o),parent.postMessage({type:"console",method:t,args:i(o)},"*")}}}),window.addEventListener("error",e=>{parent.postMessage({type:"console",method:"error",args:i([e.message])},"*")})},l=()=>{window.addEventListener("message",e=>{if(e.data.console){let t=()=>{try{return{type:"console",method:"output",args:i([window.eval(e.data.console)])}}catch(o){return{type:"console",method:"error",args:i([o])}}};parent.postMessage(t(),"*")}})},u=()=>{window.addEventListener("resize",()=>{parent.postMessage({type:"resize",sizes:{width:window.innerWidth,height:window.innerHeight}},"*")})},p=()=>{window.addEventListener("scroll",()=>{parent.postMessage({type:"scroll",position:{x:window.scrollX,y:window.scrollY}},"*")});let e="#livecodes-scroll-position:";if(location.hash.startsWith(e)){let[t,o]=location.hash.replace(e,"").split(",").map(Number);window.addEventListener("DOMContentLoaded",()=>{window.scrollTo({top:o,left:t})})}};window.livecodes=window.livecodes||{},window.livecodes.env!=="development"&&(window.livecodes.env="development",d(),l(),u(),p(),window.addEventListener("message",function(e){if(e.data.styles){let t=document.querySelector("#__livecodes_styles__");if(!t)return;t.innerHTML=e.data.styles}e.data.flush?(document.body.innerHTML="",document.head.innerHTML=""):parent.postMessage({type:"loading",payload:!1},"*")}),window.addEventListener("load",()=>{parent.postMessage({type:"loading",payload:!1},"*")}));})();
