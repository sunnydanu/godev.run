import{S as SvelteComponent,i as init,s as safe_not_equal,e as element,a as space,c as claim_element,b as children,f as claim_space,y as get_svelte_dataset,d as detach,g as attr,h as insert_hydration,j as append_hydration,l as listen,n as noop$1,E as run_all,t as text,k as claim_text,m as set_data,B as transition_in,H as group_outros,C as transition_out,I as check_outros,L as create_slot,M as update_slot_base,N as get_all_dirty_from_scope,O as get_slot_changes,F as onMount,J as addToastMessage,K as binding_callbacks,G as empty,q as ensure_array_like,v as update_keyed_each,x as create_component,z as claim_component,A as mount_component,D as destroy_component,P as outro_and_destroy_block,p as set_input_value,r as add_render_callback,u as select_option,o as select_value,Q as svg_element,R as claim_svg_element,T as src_url_equal}from"./toastStore.93fca1f7.js";const stunServers=["stun:stun.l.google.com:19302","stun:stun.l.google.com:19305","stun:stun4.l.google.com:19302","stun:stun4.l.google.com:19305","stun:stun.sipgate.net:3478","stun:stun.sipgate.net:10000","stun.nextcloud.com:3478","stun.nextcloud.com:443","stun:stun.myvoipapp.com:3478","stun:stun.voipstunt.com:3478"],githubLink="https://github.com/sunnydanu/help.godev.run/blob/master/tools/peer-share.md",defaultSendOptions={chunkSize:16*1024,isEncrypt:!1,iceServer:stunServers[0]},defaultReceiveOptions={autoAccept:!0,maxSize:1024*1024*1024},waitIceCandidatesTimeout=3e3;function create_fragment$b(t){let i,n,r,s,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',l,o,f='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>',c,d;return{c(){i=element("label"),n=element("input"),r=space(),s=element("div"),s.innerHTML=a,l=space(),o=element("div"),o.innerHTML=f,this.h()},l(u){i=claim_element(u,"LABEL",{class:!0,id:!0});var h=children(i);n=claim_element(h,"INPUT",{id:!0,type:!0}),r=claim_space(h),s=claim_element(h,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-o6xnbe"&&(s.innerHTML=a),l=claim_space(h),o=claim_element(h,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-884ost"&&(o.innerHTML=f),h.forEach(detach),this.h()},h(){attr(n,"id",id),attr(n,"type","checkbox"),attr(s,"class","swap-on"),attr(o,"class","swap-off"),attr(i,"class","swap bg-base-100 p-2"),attr(i,"id",id)},m(u,h){insert_hydration(u,i,h),append_hydration(i,n),n.checked=t[1],append_hydration(i,r),append_hydration(i,s),append_hydration(i,l),append_hydration(i,o),c||(d=[listen(n,"change",t[2]),listen(n,"change",t[3])],c=!0)},p(u,[h]){h&2&&(n.checked=u[1])},i:noop$1,o:noop$1,d(u){u&&detach(i),c=!1,run_all(d)}}}const id="eye-input";function instance$9(t,i,n){let r=!1,{onChange:s}=i;function a(){r=this.checked,n(1,r)}const l=()=>{s(r)};return t.$$set=o=>{"onChange"in o&&n(0,s=o.onChange)},[s,r,a,l]}class Eye extends SvelteComponent{constructor(i){super(),init(this,i,instance$9,create_fragment$b,safe_not_equal,{onChange:0})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=t;function t(i,n){for(var r=new Array(arguments.length-1),s=0,a=2,l=!0;a<arguments.length;)r[s++]=arguments[a++];return new Promise(function(f,c){r[s]=function(u){if(l)if(l=!1,u)c(u);else{for(var h=new Array(arguments.length-1),_=0;_<h.length;)h[_++]=arguments[_];f.apply(null,h)}};try{i.apply(n||null,r)}catch(d){l&&(l=!1,c(d))}})}return aspromise}var base64$1={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,function(t){var i=t;i.length=function(o){var f=o.length;if(!f)return 0;for(var c=0;--f%4>1&&o.charAt(f)==="=";)++c;return Math.ceil(o.length*3)/4-c};for(var n=new Array(64),r=new Array(123),s=0;s<64;)r[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;i.encode=function(o,f,c){for(var d=null,u=[],h=0,_=0,E;f<c;){var m=o[f++];switch(_){case 0:u[h++]=n[m>>2],E=(m&3)<<4,_=1;break;case 1:u[h++]=n[E|m>>4],E=(m&15)<<2,_=2;break;case 2:u[h++]=n[E|m>>6],u[h++]=n[m&63],_=0;break}h>8191&&((d||(d=[])).push(String.fromCharCode.apply(String,u)),h=0)}return _&&(u[h++]=n[E],u[h++]=61,_===1&&(u[h++]=61)),d?(h&&d.push(String.fromCharCode.apply(String,u.slice(0,h))),d.join("")):String.fromCharCode.apply(String,u.slice(0,h))};var a="invalid encoding";i.decode=function(o,f,c){for(var d=c,u=0,h,_=0;_<o.length;){var E=o.charCodeAt(_++);if(E===61&&u>1)break;if((E=r[E])===void 0)throw Error(a);switch(u){case 0:h=E,u=1;break;case 1:f[c++]=h<<2|(E&48)>>4,h=E,u=2;break;case 2:f[c++]=(h&15)<<4|(E&60)>>2,h=E,u=3;break;case 3:f[c++]=(h&3)<<6|E,u=0;break}}if(u===1)throw Error(a);return c-d},i.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}}(base64$1)),base64$1}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=t;function t(){this._listeners={}}return t.prototype.on=function(n,r,s){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:r,ctx:s||this}),this},t.prototype.off=function(n,r){if(n===void 0)this._listeners={};else if(r===void 0)this._listeners[n]=[];else for(var s=this._listeners[n],a=0;a<s.length;)s[a].fn===r?s.splice(a,1):++a;return this},t.prototype.emit=function(n){var r=this._listeners[n];if(r){for(var s=[],a=1;a<arguments.length;)s.push(arguments[a++]);for(a=0;a<r.length;)r[a].fn.apply(r[a++].ctx,s)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=t(t);function t(a){return typeof Float32Array<"u"?function(){var l=new Float32Array([-0]),o=new Uint8Array(l.buffer),f=o[3]===128;function c(_,E,m){l[0]=_,E[m]=o[0],E[m+1]=o[1],E[m+2]=o[2],E[m+3]=o[3]}function d(_,E,m){l[0]=_,E[m]=o[3],E[m+1]=o[2],E[m+2]=o[1],E[m+3]=o[0]}a.writeFloatLE=f?c:d,a.writeFloatBE=f?d:c;function u(_,E){return o[0]=_[E],o[1]=_[E+1],o[2]=_[E+2],o[3]=_[E+3],l[0]}function h(_,E){return o[3]=_[E],o[2]=_[E+1],o[1]=_[E+2],o[0]=_[E+3],l[0]}a.readFloatLE=f?u:h,a.readFloatBE=f?h:u}():function(){function l(f,c,d,u){var h=c<0?1:0;if(h&&(c=-c),c===0)f(1/c>0?0:2147483648,d,u);else if(isNaN(c))f(2143289344,d,u);else if(c>34028234663852886e22)f((h<<31|2139095040)>>>0,d,u);else if(c<11754943508222875e-54)f((h<<31|Math.round(c/1401298464324817e-60))>>>0,d,u);else{var _=Math.floor(Math.log(c)/Math.LN2),E=Math.round(c*Math.pow(2,-_)*8388608)&8388607;f((h<<31|_+127<<23|E)>>>0,d,u)}}a.writeFloatLE=l.bind(null,i),a.writeFloatBE=l.bind(null,n);function o(f,c,d){var u=f(c,d),h=(u>>31)*2+1,_=u>>>23&255,E=u&8388607;return _===255?E?NaN:h*(1/0):_===0?h*1401298464324817e-60*E:h*Math.pow(2,_-150)*(E+8388608)}a.readFloatLE=o.bind(null,r),a.readFloatBE=o.bind(null,s)}(),typeof Float64Array<"u"?function(){var l=new Float64Array([-0]),o=new Uint8Array(l.buffer),f=o[7]===128;function c(_,E,m){l[0]=_,E[m]=o[0],E[m+1]=o[1],E[m+2]=o[2],E[m+3]=o[3],E[m+4]=o[4],E[m+5]=o[5],E[m+6]=o[6],E[m+7]=o[7]}function d(_,E,m){l[0]=_,E[m]=o[7],E[m+1]=o[6],E[m+2]=o[5],E[m+3]=o[4],E[m+4]=o[3],E[m+5]=o[2],E[m+6]=o[1],E[m+7]=o[0]}a.writeDoubleLE=f?c:d,a.writeDoubleBE=f?d:c;function u(_,E){return o[0]=_[E],o[1]=_[E+1],o[2]=_[E+2],o[3]=_[E+3],o[4]=_[E+4],o[5]=_[E+5],o[6]=_[E+6],o[7]=_[E+7],l[0]}function h(_,E){return o[7]=_[E],o[6]=_[E+1],o[5]=_[E+2],o[4]=_[E+3],o[3]=_[E+4],o[2]=_[E+5],o[1]=_[E+6],o[0]=_[E+7],l[0]}a.readDoubleLE=f?u:h,a.readDoubleBE=f?h:u}():function(){function l(f,c,d,u,h,_){var E=u<0?1:0;if(E&&(u=-u),u===0)f(0,h,_+c),f(1/u>0?0:2147483648,h,_+d);else if(isNaN(u))f(0,h,_+c),f(2146959360,h,_+d);else if(u>17976931348623157e292)f(0,h,_+c),f((E<<31|2146435072)>>>0,h,_+d);else{var m;if(u<22250738585072014e-324)m=u/5e-324,f(m>>>0,h,_+c),f((E<<31|m/4294967296)>>>0,h,_+d);else{var p=Math.floor(Math.log(u)/Math.LN2);p===1024&&(p=1023),m=u*Math.pow(2,-p),f(m*4503599627370496>>>0,h,_+c),f((E<<31|p+1023<<20|m*1048576&1048575)>>>0,h,_+d)}}}a.writeDoubleLE=l.bind(null,i,0,4),a.writeDoubleBE=l.bind(null,n,4,0);function o(f,c,d,u,h){var _=f(u,h+c),E=f(u,h+d),m=(E>>31)*2+1,p=E>>>20&2047,g=4294967296*(E&1048575)+_;return p===2047?g?NaN:m*(1/0):p===0?m*5e-324*g:m*Math.pow(2,p-1075)*(g+4503599627370496)}a.readDoubleLE=o.bind(null,r,0,4),a.readDoubleBE=o.bind(null,s,4,0)}(),a}function i(a,l,o){l[o]=a&255,l[o+1]=a>>>8&255,l[o+2]=a>>>16&255,l[o+3]=a>>>24}function n(a,l,o){l[o]=a>>>24,l[o+1]=a>>>16&255,l[o+2]=a>>>8&255,l[o+3]=a&255}function r(a,l){return(a[l]|a[l+1]<<8|a[l+2]<<16|a[l+3]<<24)>>>0}function s(a,l){return(a[l]<<24|a[l+1]<<16|a[l+2]<<8|a[l+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}return inquire_1}var utf8$2={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,function(t){var i=t;i.length=function(r){for(var s=0,a=0,l=0;l<r.length;++l)a=r.charCodeAt(l),a<128?s+=1:a<2048?s+=2:(a&64512)===55296&&(r.charCodeAt(l+1)&64512)===56320?(++l,s+=4):s+=3;return s},i.read=function(r,s,a){var l=a-s;if(l<1)return"";for(var o=null,f=[],c=0,d;s<a;)d=r[s++],d<128?f[c++]=d:d>191&&d<224?f[c++]=(d&31)<<6|r[s++]&63:d>239&&d<365?(d=((d&7)<<18|(r[s++]&63)<<12|(r[s++]&63)<<6|r[s++]&63)-65536,f[c++]=55296+(d>>10),f[c++]=56320+(d&1023)):f[c++]=(d&15)<<12|(r[s++]&63)<<6|r[s++]&63,c>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,f)),c=0);return o?(c&&o.push(String.fromCharCode.apply(String,f.slice(0,c))),o.join("")):String.fromCharCode.apply(String,f.slice(0,c))},i.write=function(r,s,a){for(var l=a,o,f,c=0;c<r.length;++c)o=r.charCodeAt(c),o<128?s[a++]=o:o<2048?(s[a++]=o>>6|192,s[a++]=o&63|128):(o&64512)===55296&&((f=r.charCodeAt(c+1))&64512)===56320?(o=65536+((o&1023)<<10)+(f&1023),++c,s[a++]=o>>18|240,s[a++]=o>>12&63|128,s[a++]=o>>6&63|128,s[a++]=o&63|128):(s[a++]=o>>12|224,s[a++]=o>>6&63|128,s[a++]=o&63|128);return a-l}}(utf8$2)),utf8$2}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=t;function t(i,n,r){var s=r||8192,a=s>>>1,l=null,o=s;return function(c){if(c<1||c>a)return i(c);o+c>s&&(l=i(s),o=0);var d=n.call(l,o,o+=c);return o&7&&(o=(o|7)+1),d}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=i;var t=requireMinimal();function i(a,l){this.lo=a>>>0,this.hi=l>>>0}var n=i.zero=new i(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var r=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(l){if(l===0)return n;var o=l<0;o&&(l=-l);var f=l>>>0,c=(l-f)/4294967296>>>0;return o&&(c=~c>>>0,f=~f>>>0,++f>4294967295&&(f=0,++c>4294967295&&(c=0))),new i(f,c)},i.from=function(l){if(typeof l=="number")return i.fromNumber(l);if(t.isString(l))if(t.Long)l=t.Long.fromString(l);else return i.fromNumber(parseInt(l,10));return l.low||l.high?new i(l.low>>>0,l.high>>>0):n},i.prototype.toNumber=function(l){if(!l&&this.hi>>>31){var o=~this.lo+1>>>0,f=~this.hi>>>0;return o||(f=f+1>>>0),-(o+f*4294967296)}return this.lo+this.hi*4294967296},i.prototype.toLong=function(l){return t.Long?new t.Long(this.lo|0,this.hi|0,!!l):{low:this.lo|0,high:this.hi|0,unsigned:!!l}};var s=String.prototype.charCodeAt;return i.fromHash=function(l){return l===r?n:new i((s.call(l,0)|s.call(l,1)<<8|s.call(l,2)<<16|s.call(l,3)<<24)>>>0,(s.call(l,4)|s.call(l,5)<<8|s.call(l,6)<<16|s.call(l,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var l=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^l)>>>0,this.lo=(this.lo<<1^l)>>>0,this},i.prototype.zzDecode=function(){var l=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^l)>>>0,this.hi=(this.hi>>>1^l)>>>0,this},i.prototype.length=function(){var l=this.lo,o=(this.lo>>>28|this.hi<<4)>>>0,f=this.hi>>>24;return f===0?o===0?l<16384?l<128?1:2:l<2097152?3:4:o<16384?o<128?5:6:o<2097152?7:8:f<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(t){var i=t;i.asPromise=requireAspromise(),i.base64=requireBase64(),i.EventEmitter=requireEventemitter(),i.float=requireFloat(),i.inquire=requireInquire(),i.utf8=requireUtf8(),i.pool=requirePool(),i.LongBits=requireLongbits(),i.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),i.global=i.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a},i.isString=function(a){return typeof a=="string"||a instanceof String},i.isObject=function(a){return a&&typeof a=="object"},i.isset=i.isSet=function(a,l){var o=a[l];return o!=null&&a.hasOwnProperty(l)?typeof o!="object"||(Array.isArray(o)?o.length:Object.keys(o).length)>0:!1},i.Buffer=function(){try{var s=i.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function(a){return typeof a=="number"?i.Buffer?i._Buffer_allocUnsafe(a):new i.Array(a):i.Buffer?i._Buffer_from(a):typeof Uint8Array>"u"?a:new Uint8Array(a)},i.Array=typeof Uint8Array<"u"?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(a){return a?i.LongBits.from(a).toHash():i.LongBits.zeroHash},i.longFromHash=function(a,l){var o=i.LongBits.fromHash(a);return i.Long?i.Long.fromBits(o.lo,o.hi,l):o.toNumber(!!l)};function n(s,a,l){for(var o=Object.keys(a),f=0;f<o.length;++f)(s[o[f]]===void 0||!l)&&(s[o[f]]=a[o[f]]);return s}i.merge=n,i.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)};function r(s){function a(l,o){if(!(this instanceof a))return new a(l,o);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:new Error().stack||""}),o&&n(this,o)}return a.prototype=Object.create(Error.prototype,{constructor:{value:a,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return s},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),a}i.newError=r,i.ProtocolError=r("ProtocolError"),i.oneOfGetter=function(a){for(var l={},o=0;o<a.length;++o)l[a[o]]=1;return function(){for(var f=Object.keys(this),c=f.length-1;c>-1;--c)if(l[f[c]]===1&&this[f[c]]!==void 0&&this[f[c]]!==null)return f[c]}},i.oneOfSetter=function(a){return function(l){for(var o=0;o<a.length;++o)a[o]!==l&&delete this[a[o]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var s=i.Buffer;if(!s){i._Buffer_from=i._Buffer_allocUnsafe=null;return}i._Buffer_from=s.from!==Uint8Array.from&&s.from||function(l,o){return new s(l,o)},i._Buffer_allocUnsafe=s.allocUnsafe||function(l){return new s(l)}}}(minimal$1)),minimal$1}var writer$2=Writer$1,util$4=requireMinimal(),BufferWriter$1,LongBits$1=util$4.LongBits,base64=util$4.base64,utf8$1=util$4.utf8;function Op(t,i,n){this.fn=t,this.len=i,this.next=void 0,this.val=n}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function t(){return util$4.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function t(i){return new util$4.Array(i)};util$4.Array!==Array&&(Writer$1.alloc=util$4.pool(Writer$1.alloc,util$4.Array.prototype.subarray));Writer$1.prototype._push=function t(i,n,r){return this.tail=this.tail.next=new Op(i,n,r),this.len+=n,this};function writeByte(t,i,n){i[n]=t&255}function writeVarint32(t,i,n){for(;t>127;)i[n++]=t&127|128,t>>>=7;i[n]=t}function VarintOp(t,i){this.len=t,this.next=void 0,this.val=i}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function t(i){return this.len+=(this.tail=this.tail.next=new VarintOp((i=i>>>0)<128?1:i<16384?2:i<2097152?3:i<268435456?4:5,i)).len,this};Writer$1.prototype.int32=function t(i){return i<0?this._push(writeVarint64,10,LongBits$1.fromNumber(i)):this.uint32(i)};Writer$1.prototype.sint32=function t(i){return this.uint32((i<<1^i>>31)>>>0)};function writeVarint64(t,i,n){for(;t.hi;)i[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)i[n++]=t.lo&127|128,t.lo=t.lo>>>7;i[n++]=t.lo}Writer$1.prototype.uint64=function t(i){var n=LongBits$1.from(i);return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function t(i){var n=LongBits$1.from(i).zzEncode();return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.bool=function t(i){return this._push(writeByte,1,i?1:0)};function writeFixed32(t,i,n){i[n]=t&255,i[n+1]=t>>>8&255,i[n+2]=t>>>16&255,i[n+3]=t>>>24}Writer$1.prototype.fixed32=function t(i){return this._push(writeFixed32,4,i>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function t(i){var n=LongBits$1.from(i);return this._push(writeFixed32,4,n.lo)._push(writeFixed32,4,n.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function t(i){return this._push(util$4.float.writeFloatLE,4,i)};Writer$1.prototype.double=function t(i){return this._push(util$4.float.writeDoubleLE,8,i)};var writeBytes=util$4.Array.prototype.set?function t(i,n,r){n.set(i,r)}:function t(i,n,r){for(var s=0;s<i.length;++s)n[r+s]=i[s]};Writer$1.prototype.bytes=function t(i){var n=i.length>>>0;if(!n)return this._push(writeByte,1,0);if(util$4.isString(i)){var r=Writer$1.alloc(n=base64.length(i));base64.decode(i,r,0),i=r}return this.uint32(n)._push(writeBytes,n,i)};Writer$1.prototype.string=function t(i){var n=utf8$1.length(i);return n?this.uint32(n)._push(utf8$1.write,n,i):this._push(writeByte,1,0)};Writer$1.prototype.fork=function t(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function t(){var i=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=i.next,this.tail=n,this.len+=r),this};Writer$1.prototype.finish=function t(){for(var i=this.head.next,n=this.constructor.alloc(this.len),r=0;i;)i.fn(i.val,n,r),r+=i.len,i=i.next;return n};Writer$1._configure=function(t){BufferWriter$1=t,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer$2;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$3=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$3._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$3.Buffer&&util$3.Buffer.prototype instanceof Uint8Array&&util$3.Buffer.prototype.set.name==="set"?function(i,n,r){n.set(i,r)}:function(i,n,r){if(i.copy)i.copy(n,r,0,i.length);else for(var s=0;s<i.length;)n[r++]=i[s++]}};BufferWriter.prototype.bytes=function t(i){util$3.isString(i)&&(i=util$3._Buffer_from(i,"base64"));var n=i.length>>>0;return this.uint32(n),n&&this._push(BufferWriter.writeBytesBuffer,n,i),this};function writeStringBuffer(t,i,n){t.length<40?util$3.utf8.write(t,i,n):i.utf8Write?i.utf8Write(t,n):i.write(t,n)}BufferWriter.prototype.string=function t(i){var n=util$3.Buffer.byteLength(i);return this.uint32(n),n&&this._push(writeStringBuffer,n,i),this};BufferWriter._configure();var reader=Reader$2,util$2=requireMinimal(),BufferReader$1,LongBits=util$2.LongBits,utf8=util$2.utf8;function indexOutOfRange(t,i){return RangeError("index out of range: "+t.pos+" + "+(i||1)+" > "+t.len)}function Reader$2(t){this.buf=t,this.pos=0,this.len=t.length}var create_array=typeof Uint8Array<"u"?function t(i){if(i instanceof Uint8Array||Array.isArray(i))return new Reader$2(i);throw Error("illegal buffer")}:function t(i){if(Array.isArray(i))return new Reader$2(i);throw Error("illegal buffer")},create=function t(){return util$2.Buffer?function(n){return(Reader$2.create=function(s){return util$2.Buffer.isBuffer(s)?new BufferReader$1(s):create_array(s)})(n)}:create_array};Reader$2.create=create();Reader$2.prototype._slice=util$2.Array.prototype.subarray||util$2.Array.prototype.slice;Reader$2.prototype.uint32=function t(){var i=4294967295;return function(){if(i=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(i=(i|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(i=(i|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return i;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return i}}();Reader$2.prototype.int32=function t(){return this.uint32()|0};Reader$2.prototype.sint32=function t(){var i=this.uint32();return i>>>1^-(i&1)|0};function readLongVarint(){var t=new LongBits(0,0),i=0;if(this.len-this.pos>4){for(;i<4;++i)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<i*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;i=0}else{for(;i<3;++i){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<i*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<i*7)>>>0,t}if(this.len-this.pos>4){for(;i<5;++i)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<i*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;i<5;++i){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<i*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$2.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end(t,i){return(t[i-4]|t[i-3]<<8|t[i-2]<<16|t[i-1]<<24)>>>0}Reader$2.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$2.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$2.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var i=util$2.float.readFloatLE(this.buf,this.pos);return this.pos+=4,i};Reader$2.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var i=util$2.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,i};Reader$2.prototype.bytes=function t(){var i=this.uint32(),n=this.pos,r=this.pos+i;if(r>this.len)throw indexOutOfRange(this,i);if(this.pos+=i,Array.isArray(this.buf))return this.buf.slice(n,r);if(n===r){var s=util$2.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,n,r)};Reader$2.prototype.string=function t(){var i=this.bytes();return utf8.read(i,0,i.length)};Reader$2.prototype.skip=function t(i){if(typeof i=="number"){if(this.pos+i>this.len)throw indexOutOfRange(this,i);this.pos+=i}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$2.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$2._configure=function(t){BufferReader$1=t,Reader$2.create=create(),BufferReader$1._configure();var i=util$2.Long?"toLong":"toNumber";util$2.merge(Reader$2.prototype,{int64:function(){return readLongVarint.call(this)[i](!1)},uint64:function(){return readLongVarint.call(this)[i](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[i](!1)},fixed64:function(){return readFixed64.call(this)[i](!0)},sfixed64:function(){return readFixed64.call(this)[i](!1)}})};var reader_buffer=BufferReader,Reader$1=reader;(BufferReader.prototype=Object.create(Reader$1.prototype)).constructor=BufferReader;var util$1=requireMinimal();function BufferReader(t){Reader$1.call(this,t)}BufferReader._configure=function(){util$1.Buffer&&(BufferReader.prototype._slice=util$1.Buffer.prototype.slice)};BufferReader.prototype.string=function t(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))};BufferReader._configure();var rpc={},service=Service,util=requireMinimal();(Service.prototype=Object.create(util.EventEmitter.prototype)).constructor=Service;function Service(t,i,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!i,this.responseDelimited=!!n}Service.prototype.rpcCall=function t(i,n,r,s,a){if(!s)throw TypeError("request must be specified");var l=this;if(!a)return util.asPromise(t,l,i,n,r,s);if(!l.rpcImpl){setTimeout(function(){a(Error("already ended"))},0);return}try{return l.rpcImpl(i,n[l.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(f,c){if(f)return l.emit("error",f,i),a(f);if(c===null){l.end(!0);return}if(!(c instanceof r))try{c=r[l.responseDelimited?"decodeDelimited":"decode"](c)}catch(d){return l.emit("error",d,i),a(d)}return l.emit("data",c,i),a(null,c)})}catch(o){l.emit("error",o,i),setTimeout(function(){a(o)},0);return}};Service.prototype.end=function t(i){return this.rpcImpl&&(i||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var i=t;i.Service=service})(rpc);var roots={};(function(t){var i=t;i.build="minimal",i.Writer=writer$2,i.BufferWriter=writer_buffer,i.Reader=reader,i.BufferReader=reader_buffer,i.util=requireMinimal(),i.rpc=rpc,i.roots=roots,i.configure=n;function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}n()})(indexMinimal);var minimal=indexMinimal,ReceiveEvent=(t=>(t[t.EVENT_RECEIVER_ACCEPT=0]="EVENT_RECEIVER_ACCEPT",t[t.EVENT_RECEIVER_REJECT=1]="EVENT_RECEIVER_REJECT",t[t.EVENT_RECEIVED_CHUNK=2]="EVENT_RECEIVED_CHUNK",t[t.EVENT_VALIDATE_ERROR=3]="EVENT_VALIDATE_ERROR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED",t))(ReceiveEvent||{});function receiveEventFromJSON(t){switch(t){case 0:case"EVENT_RECEIVER_ACCEPT":return 0;case 1:case"EVENT_RECEIVER_REJECT":return 1;case 2:case"EVENT_RECEIVED_CHUNK":return 2;case 3:case"EVENT_VALIDATE_ERROR":return 3;case-1:case"UNRECOGNIZED":default:return-1}}function receiveEventToJSON(t){switch(t){case 0:return"EVENT_RECEIVER_ACCEPT";case 1:return"EVENT_RECEIVER_REJECT";case 2:return"EVENT_RECEIVED_CHUNK";case 3:return"EVENT_VALIDATE_ERROR";case-1:default:return"UNRECOGNIZED"}}function createBaseMetaData(){return{name:"",size:0,type:"",key:new Uint8Array}}const MetaData={encode(t,i=minimal.Writer.create()){return t.name!==""&&i.uint32(10).string(t.name),t.size!==0&&i.uint32(16).int32(t.size),t.type!==""&&i.uint32(26).string(t.type),t.key.length!==0&&i.uint32(34).bytes(t.key),i},decode(t,i){const n=t instanceof minimal.Reader?t:minimal.Reader.create(t);let r=i===void 0?n.len:n.pos+i;const s=createBaseMetaData();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!=10)break;s.name=n.string();continue;case 2:if(a!=16)break;s.size=n.int32();continue;case 3:if(a!=26)break;s.type=n.string();continue;case 4:if(a!=34)break;s.key=n.bytes();continue}if((a&7)==4||a==0)break;n.skipType(a&7)}return s},fromJSON(t){return{name:isSet(t.name)?String(t.name):"",size:isSet(t.size)?Number(t.size):0,type:isSet(t.type)?String(t.type):"",key:isSet(t.key)?bytesFromBase64(t.key):new Uint8Array}},toJSON(t){const i={};return t.name!==void 0&&(i.name=t.name),t.size!==void 0&&(i.size=Math.round(t.size)),t.type!==void 0&&(i.type=t.type),t.key!==void 0&&(i.key=base64FromBytes(t.key!==void 0?t.key:new Uint8Array)),i},create(t){return MetaData.fromPartial(t??{})},fromPartial(t){const i=createBaseMetaData();return i.name=t.name??"",i.size=t.size??0,i.type=t.type??"",i.key=t.key??new Uint8Array,i}};function createBaseMessage(){return{id:"",metaData:void 0,chunk:void 0,receiveEvent:void 0}}const Message={encode(t,i=minimal.Writer.create()){return t.id!==""&&i.uint32(10).string(t.id),t.metaData!==void 0&&MetaData.encode(t.metaData,i.uint32(18).fork()).ldelim(),t.chunk!==void 0&&i.uint32(26).bytes(t.chunk),t.receiveEvent!==void 0&&i.uint32(32).int32(t.receiveEvent),i},decode(t,i){const n=t instanceof minimal.Reader?t:minimal.Reader.create(t);let r=i===void 0?n.len:n.pos+i;const s=createBaseMessage();for(;n.pos<r;){const a=n.uint32();switch(a>>>3){case 1:if(a!=10)break;s.id=n.string();continue;case 2:if(a!=18)break;s.metaData=MetaData.decode(n,n.uint32());continue;case 3:if(a!=26)break;s.chunk=n.bytes();continue;case 4:if(a!=32)break;s.receiveEvent=n.int32();continue}if((a&7)==4||a==0)break;n.skipType(a&7)}return s},fromJSON(t){return{id:isSet(t.id)?String(t.id):"",metaData:isSet(t.metaData)?MetaData.fromJSON(t.metaData):void 0,chunk:isSet(t.chunk)?bytesFromBase64(t.chunk):void 0,receiveEvent:isSet(t.receiveEvent)?receiveEventFromJSON(t.receiveEvent):void 0}},toJSON(t){const i={};return t.id!==void 0&&(i.id=t.id),t.metaData!==void 0&&(i.metaData=t.metaData?MetaData.toJSON(t.metaData):void 0),t.chunk!==void 0&&(i.chunk=t.chunk!==void 0?base64FromBytes(t.chunk):void 0),t.receiveEvent!==void 0&&(i.receiveEvent=t.receiveEvent!==void 0?receiveEventToJSON(t.receiveEvent):void 0),i},create(t){return Message.fromPartial(t??{})},fromPartial(t){const i=createBaseMessage();return i.id=t.id??"",i.metaData=t.metaData!==void 0&&t.metaData!==null?MetaData.fromPartial(t.metaData):void 0,i.chunk=t.chunk??void 0,i.receiveEvent=t.receiveEvent??void 0,i}};var tsProtoGlobalThis=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw"Unable to locate global object"})();function bytesFromBase64(t){if(tsProtoGlobalThis.Buffer)return Uint8Array.from(tsProtoGlobalThis.Buffer.from(t,"base64"));{const i=tsProtoGlobalThis.atob(t),n=new Uint8Array(i.length);for(let r=0;r<i.length;++r)n[r]=i.charCodeAt(r);return n}}function base64FromBytes(t){if(tsProtoGlobalThis.Buffer)return tsProtoGlobalThis.Buffer.from(t).toString("base64");{const i=[];return t.forEach(n=>{i.push(String.fromCharCode(n))}),tsProtoGlobalThis.btoa(i.join(""))}}function isSet(t){return t!=null}function create_if_block$5(t){let i;const n=t[3].default,r=create_slot(n,t,t[2],null);return{c(){r&&r.c()},l(s){r&&r.l(s)},m(s,a){r&&r.m(s,a),i=!0},p(s,a){r&&r.p&&(!i||a&4)&&update_slot_base(r,n,s,s[2],i?get_slot_changes(n,s[2],a,null):get_all_dirty_from_scope(s[2]),null)},i(s){i||(transition_in(r,s),i=!0)},o(s){transition_out(r,s),i=!1},d(s){r&&r.d(s)}}}function create_fragment$a(t){let i,n,r,s,a,l,o,f,c=t[1]&&create_if_block$5(t);return{c(){i=element("div"),n=element("div"),r=text(t[0]),a=space(),l=element("div"),c&&c.c(),this.h()},l(d){i=claim_element(d,"DIV",{tabindex:!0,class:!0});var u=children(i);n=claim_element(u,"DIV",{class:!0});var h=children(n);r=claim_text(h,t[0]),h.forEach(detach),a=claim_space(u),l=claim_element(u,"DIV",{class:!0});var _=children(l);c&&c.l(_),_.forEach(detach),u.forEach(detach),this.h()},h(){attr(n,"class",s="collapse-title text-xl "+(t[1]?"font-bold":"font-light bg-base-300")),attr(l,"class","collapse-content"),attr(i,"tabindex","-1"),attr(i,"class",o="collapse border border-base-200 "+(t[1]?"collapse-open bg-base-100":"collapse-close"))},m(d,u){insert_hydration(d,i,u),append_hydration(i,n),append_hydration(n,r),append_hydration(i,a),append_hydration(i,l),c&&c.m(l,null),f=!0},p(d,[u]){(!f||u&1)&&set_data(r,d[0]),(!f||u&2&&s!==(s="collapse-title text-xl "+(d[1]?"font-bold":"font-light bg-base-300")))&&attr(n,"class",s),d[1]?c?(c.p(d,u),u&2&&transition_in(c,1)):(c=create_if_block$5(d),c.c(),transition_in(c,1),c.m(l,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),(!f||u&2&&o!==(o="collapse border border-base-200 "+(d[1]?"collapse-open bg-base-100":"collapse-close")))&&attr(i,"class",o)},i(d){f||(transition_in(c),f=!0)},o(d){transition_out(c),f=!1},d(d){d&&detach(i),c&&c.d()}}}function instance$8(t,i,n){let{$$slots:r={},$$scope:s}=i,{title:a}=i,{isOpen:l=!1}=i;return t.$$set=o=>{"title"in o&&n(0,a=o.title),"isOpen"in o&&n(1,l=o.isOpen),"$$scope"in o&&n(2,s=o.$$scope)},[a,l,s,r]}class Collapse extends SvelteComponent{constructor(i){super(),init(this,i,instance$8,create_fragment$a,safe_not_equal,{title:0,isOpen:1})}}const rsaGenParams={name:"RSA-OAEP",modulusLength:1024,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},aesGenParams={name:"AES-GCM",length:128};async function generateRsaKeyPair(){return await crypto.subtle.generateKey(rsaGenParams,!0,["encrypt","decrypt"])}async function generateAesKey(){return await crypto.subtle.generateKey(aesGenParams,!0,["encrypt","decrypt"])}async function encryptAesGcm(t,i){const n=crypto.getRandomValues(new Uint8Array(12)),r=await crypto.subtle.encrypt({name:aesGenParams.name,iv:n},t,i),s=new Uint8Array(r),a=new Uint8Array(n.length+s.length);return a.set(n),a.set(s,n.length),a}async function encryptAesKeyWithRsaPublicKey(t,i){const n=await crypto.subtle.exportKey("raw",i),r=await crypto.subtle.encrypt({name:rsaGenParams.name},t,n);return new Uint8Array(r)}async function decryptAesKeyWithRsaPrivateKey(t,i){const n=await crypto.subtle.decrypt({name:"RSA-OAEP"},t,i);return await crypto.subtle.importKey("raw",n,{name:aesGenParams.name},!0,["encrypt","decrypt"])}async function decryptAesGcm(t,i){const n=i.slice(0,12),r=i.slice(12),s=await crypto.subtle.decrypt({name:aesGenParams.name,iv:n},t,r);return new Uint8Array(s)}function arrayBufferToBase64(t){const i=new Uint8Array(t),n=String.fromCharCode.apply(null,i);return btoa(n)}async function exportRsaPublicKeyToBase64(t){const i=await crypto.subtle.exportKey("spki",t);return arrayBufferToBase64(i)}function base64ToArrayBuffer(t){const i=atob(t),n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n.buffer}async function importRsaPublicKeyFromBase64(t){const i=base64ToArrayBuffer(t);return await crypto.subtle.importKey("spki",i,rsaGenParams,!0,["encrypt"])}const DefaultOptions={compress:!0,replaceFieldNames:!0,sdpVersion:0,sessionName:"-",origin:{username:"-",sessionId:"4109260023080860376",netType:"IN",addrtype:"IP4",unicastAddress:"127.0.0.1"},timing:"0 0",extmapAllowMixed:!0,msidSemantic:"WMS",mediaOptions:{removeMediaID:!0,removeSetup:!0,replaceCandidateString:!0,replaceMediaString:!0,forceTrickle:!0,compressFingerprint:!0,compressConnection:!0}};function mergeOptions(t={}){return Object.assign(Object.assign(Object.assign({},DefaultOptions),t),{origin:Object.assign(Object.assign({},DefaultOptions.origin),t.origin),mediaOptions:Object.assign(Object.assign({},DefaultOptions.mediaOptions),t.mediaOptions)})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let i=t.length;for(;--i>=0;)t[i]=0}const STORED_BLOCK$1=0,STATIC_TREES$1=1,DYN_TREES$1=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1$1=15,Buf_size$1=16,MAX_BL_BITS$1=7,END_BLOCK$1=256,REP_3_6$1=16,REPZ_3_10$1=17,REPZ_11_138$1=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code$1=new Array(DIST_CODE_LEN);zero$1(_dist_code$1);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,i,n,r,s){this.static_tree=t,this.extra_bits=i,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,i){this.dyn_tree=t,this.max_code=0,this.stat_desc=i}const d_code=t=>t<256?_dist_code$1[t]:_dist_code$1[256+(t>>>7)],put_short=(t,i)=>{t.pending_buf[t.pending++]=i&255,t.pending_buf[t.pending++]=i>>>8&255},send_bits=(t,i,n)=>{t.bi_valid>Buf_size$1-n?(t.bi_buf|=i<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=i>>Buf_size$1-t.bi_valid,t.bi_valid+=n-Buf_size$1):(t.bi_buf|=i<<t.bi_valid&65535,t.bi_valid+=n)},send_code=(t,i,n)=>{send_bits(t,n[i*2],n[i*2+1])},bi_reverse=(t,i)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--i>0);return n>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,i)=>{const n=i.dyn_tree,r=i.max_code,s=i.stat_desc.static_tree,a=i.stat_desc.has_stree,l=i.stat_desc.extra_bits,o=i.stat_desc.extra_base,f=i.stat_desc.max_length;let c,d,u,h,_,E,m=0;for(h=0;h<=MAX_BITS$1$1;h++)t.bl_count[h]=0;for(n[t.heap[t.heap_max]*2+1]=0,c=t.heap_max+1;c<HEAP_SIZE$1;c++)d=t.heap[c],h=n[n[d*2+1]*2+1]+1,h>f&&(h=f,m++),n[d*2+1]=h,!(d>r)&&(t.bl_count[h]++,_=0,d>=o&&(_=l[d-o]),E=n[d*2],t.opt_len+=E*(h+_),a&&(t.static_len+=E*(s[d*2+1]+_)));if(m!==0){do{for(h=f-1;t.bl_count[h]===0;)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(h=f;h!==0;h--)for(d=t.bl_count[h];d!==0;)u=t.heap[--c],!(u>r)&&(n[u*2+1]!==h&&(t.opt_len+=(h-n[u*2+1])*n[u*2],n[u*2+1]=h),d--)}},gen_codes=(t,i,n)=>{const r=new Array(MAX_BITS$1$1+1);let s=0,a,l;for(a=1;a<=MAX_BITS$1$1;a++)s=s+n[a-1]<<1,r[a]=s;for(l=0;l<=i;l++){let o=t[l*2+1];o!==0&&(t[l*2]=bi_reverse(r[o]++,o))}},tr_static_init=()=>{let t,i,n,r,s;const a=new Array(MAX_BITS$1$1+1);for(n=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=n,t=0;t<1<<extra_lbits[r];t++)_length_code[n++]=r;for(_length_code[n-1]=r,s=0,r=0;r<16;r++)for(base_dist[r]=s,t=0;t<1<<extra_dbits[r];t++)_dist_code$1[s++]=r;for(s>>=7;r<D_CODES$1;r++)for(base_dist[r]=s<<7,t=0;t<1<<extra_dbits[r]-7;t++)_dist_code$1[256+s++]=r;for(i=0;i<=MAX_BITS$1$1;i++)a[i]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,a[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,a[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,a[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,a[8]++;for(gen_codes(static_ltree,L_CODES$1+1,a),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS$1)},init_block=t=>{let i;for(i=0;i<L_CODES$1;i++)t.dyn_ltree[i*2]=0;for(i=0;i<D_CODES$1;i++)t.dyn_dtree[i*2]=0;for(i=0;i<BL_CODES$1;i++)t.bl_tree[i*2]=0;t.dyn_ltree[END_BLOCK$1*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},smaller$1=(t,i,n,r)=>{const s=i*2,a=n*2;return t[s]<t[a]||t[s]===t[a]&&r[i]<=r[n]},pqdownheap=(t,i,n)=>{const r=t.heap[n];let s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&smaller$1(i,t.heap[s+1],t.heap[s],t.depth)&&s++,!smaller$1(i,r,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=r},compress_block=(t,i,n)=>{let r,s,a=0,l,o;if(t.sym_next!==0)do r=t.pending_buf[t.sym_buf+a++]&255,r+=(t.pending_buf[t.sym_buf+a++]&255)<<8,s=t.pending_buf[t.sym_buf+a++],r===0?send_code(t,s,i):(l=_length_code[s],send_code(t,l+LITERALS$1+1,i),o=extra_lbits[l],o!==0&&(s-=base_length[l],send_bits(t,s,o)),r--,l=d_code(r),send_code(t,l,n),o=extra_dbits[l],o!==0&&(r-=base_dist[l],send_bits(t,r,o)));while(a<t.sym_next);send_code(t,END_BLOCK$1,i)},build_tree=(t,i)=>{const n=i.dyn_tree,r=i.stat_desc.static_tree,s=i.stat_desc.has_stree,a=i.stat_desc.elems;let l,o,f=-1,c;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,l=0;l<a;l++)n[l*2]!==0?(t.heap[++t.heap_len]=f=l,t.depth[l]=0):n[l*2+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=f<2?++f:0,n[c*2]=1,t.depth[c]=0,t.opt_len--,s&&(t.static_len-=r[c*2+1]);for(i.max_code=f,l=t.heap_len>>1;l>=1;l--)pqdownheap(t,n,l);c=a;do l=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=l,t.heap[--t.heap_max]=o,n[c*2]=n[l*2]+n[o*2],t.depth[c]=(t.depth[l]>=t.depth[o]?t.depth[l]:t.depth[o])+1,n[l*2+1]=n[o*2+1]=c,t.heap[1]=c++,pqdownheap(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,i),gen_codes(n,f,t.bl_count)},scan_tree=(t,i,n)=>{let r,s=-1,a,l=i[0*2+1],o=0,f=7,c=4;for(l===0&&(f=138,c=3),i[(n+1)*2+1]=65535,r=0;r<=n;r++)a=l,l=i[(r+1)*2+1],!(++o<f&&a===l)&&(o<c?t.bl_tree[a*2]+=o:a!==0?(a!==s&&t.bl_tree[a*2]++,t.bl_tree[REP_3_6$1*2]++):o<=10?t.bl_tree[REPZ_3_10$1*2]++:t.bl_tree[REPZ_11_138$1*2]++,o=0,s=a,l===0?(f=138,c=3):a===l?(f=6,c=3):(f=7,c=4))},send_tree=(t,i,n)=>{let r,s=-1,a,l=i[0*2+1],o=0,f=7,c=4;for(l===0&&(f=138,c=3),r=0;r<=n;r++)if(a=l,l=i[(r+1)*2+1],!(++o<f&&a===l)){if(o<c)do send_code(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==s&&(send_code(t,a,t.bl_tree),o--),send_code(t,REP_3_6$1,t.bl_tree),send_bits(t,o-3,2)):o<=10?(send_code(t,REPZ_3_10$1,t.bl_tree),send_bits(t,o-3,3)):(send_code(t,REPZ_11_138$1,t.bl_tree),send_bits(t,o-11,7));o=0,s=a,l===0?(f=138,c=3):a===l?(f=6,c=3):(f=7,c=4)}},build_bl_tree=t=>{let i;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),i=BL_CODES$1-1;i>=3&&t.bl_tree[bl_order[i]*2+1]===0;i--);return t.opt_len+=3*(i+1)+5+5+4,i},send_all_trees=(t,i,n,r)=>{let s;for(send_bits(t,i-257,5),send_bits(t,n-1,5),send_bits(t,r-4,4),s=0;s<r;s++)send_bits(t,t.bl_tree[bl_order[s]*2+1],3);send_tree(t,t.dyn_ltree,i-1),send_tree(t,t.dyn_dtree,n-1)},detect_data_type=t=>{let i=4093624447,n;for(n=0;n<=31;n++,i>>>=1)if(i&1&&t.dyn_ltree[n*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(n=32;n<LITERALS$1;n++)if(t.dyn_ltree[n*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,i,n,r)=>{send_bits(t,(STORED_BLOCK$1<<1)+(r?1:0),3),bi_windup(t),put_short(t,n),put_short(t,~n),n&&t.pending_buf.set(t.window.subarray(i,i+n),t.pending),t.pending+=n},_tr_align$1=t=>{send_bits(t,STATIC_TREES$1<<1,3),send_code(t,END_BLOCK$1,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,i,n,r)=>{let s,a,l=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),l=build_bl_tree(t),s=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=s&&(s=a)):s=a=n+5,n+4<=s&&i!==-1?_tr_stored_block$1(t,i,n,r):t.strategy===Z_FIXED$1||a===s?(send_bits(t,(STATIC_TREES$1<<1)+(r?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES$1<<1)+(r?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,l+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),r&&bi_windup(t)},_tr_tally$1=(t,i,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=i,t.pending_buf[t.sym_buf+t.sym_next++]=i>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,i===0?t.dyn_ltree[n*2]++:(t.matches++,i--,t.dyn_ltree[(_length_code[n]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(i)*2]++),t.sym_next===t.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,i,n,r)=>{let s=t&65535|0,a=t>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do s=s+i[r++]|0,a=a+s|0;while(--l);s%=65521,a%=65521}return s|a<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,i=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;i[n]=t}return i},crcTable=new Uint32Array(makeTable()),crc32=(t,i,n,r)=>{const s=crcTable,a=r+n;t^=-1;for(let l=r;l<a;l++)t=t>>>8^s[(t^i[l])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH:Z_PARTIAL_FLUSH$1,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED:Z_FILTERED$1,Z_HUFFMAN_ONLY:Z_HUFFMAN_ONLY$1,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL$1=9,MAX_WBITS$1=15,DEF_MEM_LEVEL$1=8,LENGTH_CODES$2=29,LITERALS$2=256,L_CODES$2=LITERALS$2+1+LENGTH_CODES$2,D_CODES$2=30,BL_CODES$2=19,HEAP_SIZE$2=2*L_CODES$2+1,MAX_BITS$2=15,MIN_MATCH$2=3,MAX_MATCH$2=258,MIN_LOOKAHEAD$1=MAX_MATCH$2+MIN_MATCH$2+1,PRESET_DICT$2=32,INIT_STATE$1=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE$1=113,FINISH_STATE$1=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,i)=>(t.msg=messages[i],i),rank=t=>t*2-(t>4?9:0),zero=t=>{let i=t.length;for(;--i>=0;)t[i]=0},slide_hash=t=>{let i,n,r,s=t.w_size;i=t.hash_size,r=i;do n=t.head[--r],t.head[r]=n>=s?n-s:0;while(--i);i=s,r=i;do n=t.prev[--r],t.prev[r]=n>=s?n-s:0;while(--i)};let HASH_ZLIB=(t,i,n)=>(i<<t.hash_shift^n)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const i=t.state;let n=i.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(i.pending_buf.subarray(i.pending_out,i.pending_out+n),t.next_out),t.next_out+=n,i.pending_out+=n,t.total_out+=n,t.avail_out-=n,i.pending-=n,i.pending===0&&(i.pending_out=0))},flush_block_only=(t,i)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,i),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,i)=>{t.pending_buf[t.pending++]=i},putShortMSB=(t,i)=>{t.pending_buf[t.pending++]=i>>>8&255,t.pending_buf[t.pending++]=i&255},read_buf=(t,i,n,r)=>{let s=t.avail_in;return s>r&&(s=r),s===0?0:(t.avail_in-=s,i.set(t.input.subarray(t.next_in,t.next_in+s),n),t.state.wrap===1?t.adler=adler32_1(t.adler,i,s,n):t.state.wrap===2&&(t.adler=crc32_1(t.adler,i,s,n)),t.next_in+=s,t.total_in+=s,s)},longest_match=(t,i)=>{let n=t.max_chain_length,r=t.strstart,s,a,l=t.prev_length,o=t.nice_match;const f=t.strstart>t.w_size-MIN_LOOKAHEAD$1?t.strstart-(t.w_size-MIN_LOOKAHEAD$1):0,c=t.window,d=t.w_mask,u=t.prev,h=t.strstart+MAX_MATCH$2;let _=c[r+l-1],E=c[r+l];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(s=i,!(c[s+l]!==E||c[s+l-1]!==_||c[s]!==c[r]||c[++s]!==c[r+1])){r+=2,s++;do;while(c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&c[++r]===c[++s]&&r<h);if(a=MAX_MATCH$2-(h-r),r=h-MAX_MATCH$2,a>l){if(t.match_start=i,l=a,a>=o)break;_=c[r+l-1],E=c[r+l]}}while((i=u[i&d])>f&&--n!==0);return l<=t.lookahead?l:t.lookahead},fill_window=t=>{const i=t.w_size;let n,r,s;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=i+(i-MIN_LOOKAHEAD$1)&&(t.window.set(t.window.subarray(i,i+i-r),0),t.match_start-=i,t.strstart-=i,t.block_start-=i,t.insert>t.strstart&&(t.insert=t.strstart),slide_hash(t),r+=i),t.strm.avail_in===0)break;if(n=read_buf(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=MIN_MATCH$2)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=HASH(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[s+MIN_MATCH$2-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH$2)););}while(t.lookahead<MIN_LOOKAHEAD$1&&t.strm.avail_in!==0)},deflate_stored=(t,i)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,r,s,a,l=0,o=t.strm.avail_in;do{if(r=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,s=t.strstart-t.block_start,r>s+t.strm.avail_in&&(r=s+t.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&i!==Z_FINISH$3||i===Z_NO_FLUSH$2||r!==s+t.strm.avail_in)))break;l=i===Z_FINISH$3&&r===s+t.strm.avail_in?1:0,_tr_stored_block(t,0,0,l),t.pending_buf[t.pending-4]=r,t.pending_buf[t.pending-3]=r>>8,t.pending_buf[t.pending-2]=~r,t.pending_buf[t.pending-1]=~r>>8,flush_pending(t.strm),s&&(s>r&&(s=r),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,r-=s),r&&(read_buf(t.strm,t.strm.output,t.strm.next_out,r),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r)}while(l===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),l?BS_FINISH_DONE:i!==Z_NO_FLUSH$2&&i!==Z_FINISH$3&&t.strm.avail_in===0&&t.strstart===t.block_start?BS_BLOCK_DONE:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(read_buf(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,n=a>t.w_size?t.w_size:a,s=t.strstart-t.block_start,(s>=n||(s||i===Z_FINISH$3)&&i!==Z_NO_FLUSH$2&&t.strm.avail_in===0&&s<=a)&&(r=s>a?a:s,l=i===Z_FINISH$3&&t.strm.avail_in===0&&r===s?1:0,_tr_stored_block(t,t.block_start,r,l),t.block_start+=r,flush_pending(t.strm)),l?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(t,i)=>{let n,r;for(;;){if(t.lookahead<MIN_LOOKAHEAD$1){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD$1&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(n=0,t.lookahead>=MIN_MATCH$2&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH$2-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD$1&&(t.match_length=longest_match(t,n)),t.match_length>=MIN_MATCH$2)if(r=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH$2),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH$2){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH$2-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH$2-1?t.strstart:MIN_MATCH$2-1,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,i)=>{let n,r,s;for(;;){if(t.lookahead<MIN_LOOKAHEAD$1){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD$1&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(n=0,t.lookahead>=MIN_MATCH$2&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH$2-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH$2-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-MIN_LOOKAHEAD$1&&(t.match_length=longest_match(t,n),t.match_length<=5&&(t.strategy===Z_FILTERED$1||t.match_length===MIN_MATCH$2&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH$2-1)),t.prev_length>=MIN_MATCH$2&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-MIN_MATCH$2,r=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH$2),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH$2-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH$2-1,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(r=_tr_tally(t,0,t.window[t.strstart-1]),r&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH$2-1?t.strstart:MIN_MATCH$2-1,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,i)=>{let n,r,s,a;const l=t.window;for(;;){if(t.lookahead<=MAX_MATCH$2){if(fill_window(t),t.lookahead<=MAX_MATCH$2&&i===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH$2&&t.strstart>0&&(s=t.strstart-1,r=l[s],r===l[++s]&&r===l[++s]&&r===l[++s])){a=t.strstart+MAX_MATCH$2;do;while(r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&r===l[++s]&&s<a);t.match_length=MAX_MATCH$2-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH$2?(n=_tr_tally(t,1,t.match_length-MIN_MATCH$2),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,i)=>{let n;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(i===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,i===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config$1(t,i,n,r,s){this.good_length=t,this.max_lazy=i,this.nice_length=n,this.max_chain=r,this.func=s}const configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH$2-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE$2*2),this.dyn_dtree=new Uint16Array((2*D_CODES$2+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES$2+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS$2+1),this.heap=new Uint16Array(2*L_CODES$2+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES$2+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=t=>{if(!t)return 1;const i=t.state;return!i||i.strm!==t||i.status!==INIT_STATE$1&&i.status!==GZIP_STATE&&i.status!==EXTRA_STATE&&i.status!==NAME_STATE&&i.status!==COMMENT_STATE&&i.status!==HCRC_STATE&&i.status!==BUSY_STATE$1&&i.status!==FINISH_STATE$1?1:0},deflateResetKeep=t=>{if(deflateStateCheck(t))return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const i=t.state;return i.pending=0,i.pending_out=0,i.wrap<0&&(i.wrap=-i.wrap),i.status=i.wrap===2?GZIP_STATE:i.wrap?INIT_STATE$1:BUSY_STATE$1,t.adler=i.wrap===2?0:1,i.last_flush=-2,_tr_init(i),Z_OK$3},deflateReset=t=>{const i=deflateResetKeep(t);return i===Z_OK$3&&lm_init(t.state),i},deflateSetHeader=(t,i)=>deflateStateCheck(t)||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=i,Z_OK$3),deflateInit2=(t,i,n,r,s,a)=>{if(!t)return Z_STREAM_ERROR$2;let l=1;if(i===Z_DEFAULT_COMPRESSION$1&&(i=6),r<0?(l=0,r=-r):r>15&&(l=2,r-=16),s<1||s>MAX_MEM_LEVEL$1||n!==Z_DEFLATED$2||r<8||r>15||i<0||i>9||a<0||a>Z_FIXED||r===8&&l!==1)return err(t,Z_STREAM_ERROR$2);r===8&&(r=9);const o=new DeflateState;return t.state=o,o.strm=t,o.status=INIT_STATE$1,o.wrap=l,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+MIN_MATCH$2-1)/MIN_MATCH$2),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=i,o.strategy=a,o.method=n,deflateReset(t)},deflateInit=(t,i)=>deflateInit2(t,i,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL$1,Z_DEFAULT_STRATEGY$1),deflate$2=(t,i)=>{if(deflateStateCheck(t)||i>Z_BLOCK$1||i<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===FINISH_STATE$1&&i!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1$1:Z_STREAM_ERROR$2);const r=n.last_flush;if(n.last_flush=i,n.pending!==0){if(flush_pending(t),t.avail_out===0)return n.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(i)<=rank(r)&&i!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1$1);if(n.status===FINISH_STATE$1&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1$1);if(n.status===INIT_STATE$1&&n.wrap===0&&(n.status=BUSY_STATE$1),n.status===INIT_STATE$1){let s=Z_DEFLATED$2+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,s|=a<<6,n.strstart!==0&&(s|=PRESET_DICT$2),s+=31-s%31,putShortMSB(n,s),n.strstart!==0&&(putShortMSB(n,t.adler>>>16),putShortMSB(n,t.adler&65535)),t.adler=1,n.status=BUSY_STATE$1,flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===GZIP_STATE){if(t.adler=0,put_byte(n,31),put_byte(n,139),put_byte(n,8),n.gzhead)put_byte(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),put_byte(n,n.gzhead.time&255),put_byte(n,n.gzhead.time>>8&255),put_byte(n,n.gzhead.time>>16&255),put_byte(n,n.gzhead.time>>24&255),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?4:0),put_byte(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(put_byte(n,n.gzhead.extra.length&255),put_byte(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=EXTRA_STATE;else if(put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,0),put_byte(n,n.level===9?2:n.strategy>=Z_HUFFMAN_ONLY$1||n.level<2?4:0),put_byte(n,OS_CODE),n.status=BUSY_STATE$1,flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(n.status===EXTRA_STATE){if(n.gzhead.extra){let s=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=o,flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3;s=0,a-=o}let l=new Uint8Array(n.gzhead.extra);n.pending_buf.set(l.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=NAME_STATE}if(n.status===NAME_STATE){if(n.gzhead.name){let s=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s)),flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3;s=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,put_byte(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=COMMENT_STATE}if(n.status===COMMENT_STATE){if(n.gzhead.comment){let s=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s)),flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3;s=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,put_byte(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>s&&(t.adler=crc32_1(t.adler,n.pending_buf,n.pending-s,s))}n.status=HCRC_STATE}if(n.status===HCRC_STATE){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(flush_pending(t),n.pending!==0))return n.last_flush=-1,Z_OK$3;put_byte(n,t.adler&255),put_byte(n,t.adler>>8&255),t.adler=0}if(n.status=BUSY_STATE$1,flush_pending(t),n.pending!==0)return n.last_flush=-1,Z_OK$3}if(t.avail_in!==0||n.lookahead!==0||i!==Z_NO_FLUSH$2&&n.status!==FINISH_STATE$1){let s=n.level===0?deflate_stored(n,i):n.strategy===Z_HUFFMAN_ONLY$1?deflate_huff(n,i):n.strategy===Z_RLE?deflate_rle(n,i):configuration_table[n.level].func(n,i);if((s===BS_FINISH_STARTED||s===BS_FINISH_DONE)&&(n.status=FINISH_STATE$1),s===BS_NEED_MORE||s===BS_FINISH_STARTED)return t.avail_out===0&&(n.last_flush=-1),Z_OK$3;if(s===BS_BLOCK_DONE&&(i===Z_PARTIAL_FLUSH$1?_tr_align(n):i!==Z_BLOCK$1&&(_tr_stored_block(n,0,0,!1),i===Z_FULL_FLUSH$1&&(zero(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),flush_pending(t),t.avail_out===0))return n.last_flush=-1,Z_OK$3}return i!==Z_FINISH$3?Z_OK$3:n.wrap<=0?Z_STREAM_END$3:(n.wrap===2?(put_byte(n,t.adler&255),put_byte(n,t.adler>>8&255),put_byte(n,t.adler>>16&255),put_byte(n,t.adler>>24&255),put_byte(n,t.total_in&255),put_byte(n,t.total_in>>8&255),put_byte(n,t.total_in>>16&255),put_byte(n,t.total_in>>24&255)):(putShortMSB(n,t.adler>>>16),putShortMSB(n,t.adler&65535)),flush_pending(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const i=t.state.status;return t.state=null,i===BUSY_STATE$1?err(t,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(t,i)=>{let n=i.length;if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const r=t.state,s=r.wrap;if(s===2||s===1&&r.status!==INIT_STATE$1||r.lookahead)return Z_STREAM_ERROR$2;if(s===1&&(t.adler=adler32_1(t.adler,i,n,0)),r.wrap=0,n>=r.w_size){s===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let f=new Uint8Array(r.w_size);f.set(i.subarray(n-r.w_size,n),0),i=f,n=r.w_size}const a=t.avail_in,l=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=i,fill_window(r);r.lookahead>=MIN_MATCH$2;){let f=r.strstart,c=r.lookahead-(MIN_MATCH$2-1);do r.ins_h=HASH(r,r.ins_h,r.window[f+MIN_MATCH$2-1]),r.prev[f&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=f,f++;while(--c);r.strstart=f,r.lookahead=MIN_MATCH$2-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH$2-1,r.match_available=0,t.next_in=l,t.input=o,t.avail_in=a,r.wrap=s,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,i)=>Object.prototype.hasOwnProperty.call(t,i);var assign=function(t){const i=Array.prototype.slice.call(arguments,1);for(;i.length;){const n=i.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_has(n,r)&&(t[r]=n[r])}}return t},flattenChunks=t=>{let i=0;for(let r=0,s=t.length;r<s;r++)i+=t[r].length;const n=new Uint8Array(i);for(let r=0,s=0,a=t.length;r<a;r++){let l=t[r];n.set(l,s),s+=l.length}return n},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let i,n,r,s,a,l=t.length,o=0;for(s=0;s<l;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<l&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(i=new Uint8Array(o),a=0,s=0;a<o;s++)n=t.charCodeAt(s),(n&64512)===55296&&s+1<l&&(r=t.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?i[a++]=n:n<2048?(i[a++]=192|n>>>6,i[a++]=128|n&63):n<65536?(i[a++]=224|n>>>12,i[a++]=128|n>>>6&63,i[a++]=128|n&63):(i[a++]=240|n>>>18,i[a++]=128|n>>>12&63,i[a++]=128|n>>>6&63,i[a++]=128|n&63);return i};const buf2binstring=(t,i)=>{if(i<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===i?t:t.subarray(0,i));let n="";for(let r=0;r<i;r++)n+=String.fromCharCode(t[r]);return n};var buf2string=(t,i)=>{const n=i||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,i));let r,s;const a=new Array(n*2);for(s=0,r=0;r<n;){let l=t[r++];if(l<128){a[s++]=l;continue}let o=_utf8len[l];if(o>4){a[s++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<n;)l=l<<6|t[r++]&63,o--;if(o>1){a[s++]=65533;continue}l<65536?a[s++]=l:(l-=65536,a[s++]=55296|l>>10&1023,a[s++]=56320|l&1023)}return buf2binstring(a,s)},utf8border=(t,i)=>{i=i||t.length,i>t.length&&(i=t.length);let n=i-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?i:n+_utf8len[t[n]]>i?n:i},strings={string2buf,buf2string,utf8border};function ZStream$2(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream$2;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1$1,Z_SYNC_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$2,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$2,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$2,Z_DEFLATED:Z_DEFLATED$1$1}=constants$2;function Deflate$1(t){this.options=common.assign({level:Z_DEFAULT_COMPRESSION$2,method:Z_DEFLATED$1$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY$2},t||{});let i=this.options;i.raw&&i.windowBits>0?i.windowBits=-i.windowBits:i.gzip&&i.windowBits>0&&i.windowBits<16&&(i.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=deflate_1$2.deflateInit2(this.strm,i.level,i.method,i.windowBits,i.memLevel,i.strategy);if(n!==Z_OK$2)throw new Error(messages[n]);if(i.header&&deflate_1$2.deflateSetHeader(this.strm,i.header),i.dictionary){let r;if(typeof i.dictionary=="string"?r=strings.string2buf(i.dictionary):toString$1.call(i.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(i.dictionary):r=i.dictionary,n=deflate_1$2.deflateSetDictionary(this.strm,r),n!==Z_OK$2)throw new Error(messages[n]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,i){const n=this.strm,r=this.options.chunkSize;let s,a;if(this.ended)return!1;for(i===~~i?a=i:a=i===!0?Z_FINISH$2:Z_NO_FLUSH$1$1,typeof t=="string"?n.input=strings.string2buf(t):toString$1.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===Z_SYNC_FLUSH||a===Z_FULL_FLUSH$2)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=deflate_1$2.deflate(n,a),s===Z_STREAM_END$2)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=deflate_1$2.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===Z_OK$2;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function deflate$1(t,i){const n=new Deflate$1(i);if(n.push(t,!0),n.err)throw n.msg||messages[n.err];return n.result}function deflateRaw$1(t,i){return i=i||{},i.raw=!0,deflate$1(t,i)}function gzip$1(t,i){return i=i||{},i.gzip=!0,deflate$1(t,i)}var Deflate_1$1=Deflate$1,deflate_2=deflate$1,deflateRaw_1$1=deflateRaw$1,gzip_1$1=gzip$1,constants$1=constants$2,deflate_1$1={Deflate:Deflate_1$1,deflate:deflate_2,deflateRaw:deflateRaw_1$1,gzip:gzip_1$1,constants:constants$1};const BAD$1=16209,TYPE$1=16191;var inffast=function t(i,n){let r,s,a,l,o,f,c,d,u,h,_,E,m,p,g,b,w,x,y,S,v,T,k,R;const A=i.state;r=i.next_in,k=i.input,s=r+(i.avail_in-5),a=i.next_out,R=i.output,l=a-(n-i.avail_out),o=a+(i.avail_out-257),f=A.dmax,c=A.wsize,d=A.whave,u=A.wnext,h=A.window,_=A.hold,E=A.bits,m=A.lencode,p=A.distcode,g=(1<<A.lenbits)-1,b=(1<<A.distbits)-1;e:do{E<15&&(_+=k[r++]<<E,E+=8,_+=k[r++]<<E,E+=8),w=m[_&g];t:for(;;){if(x=w>>>24,_>>>=x,E-=x,x=w>>>16&255,x===0)R[a++]=w&65535;else if(x&16){y=w&65535,x&=15,x&&(E<x&&(_+=k[r++]<<E,E+=8),y+=_&(1<<x)-1,_>>>=x,E-=x),E<15&&(_+=k[r++]<<E,E+=8,_+=k[r++]<<E,E+=8),w=p[_&b];n:for(;;){if(x=w>>>24,_>>>=x,E-=x,x=w>>>16&255,x&16){if(S=w&65535,x&=15,E<x&&(_+=k[r++]<<E,E+=8,E<x&&(_+=k[r++]<<E,E+=8)),S+=_&(1<<x)-1,S>f){i.msg="invalid distance too far back",A.mode=BAD$1;break e}if(_>>>=x,E-=x,x=a-l,S>x){if(x=S-x,x>d&&A.sane){i.msg="invalid distance too far back",A.mode=BAD$1;break e}if(v=0,T=h,u===0){if(v+=c-x,x<y){y-=x;do R[a++]=h[v++];while(--x);v=a-S,T=R}}else if(u<x){if(v+=c+u-x,x-=u,x<y){y-=x;do R[a++]=h[v++];while(--x);if(v=0,u<y){x=u,y-=x;do R[a++]=h[v++];while(--x);v=a-S,T=R}}}else if(v+=u-x,x<y){y-=x;do R[a++]=h[v++];while(--x);v=a-S,T=R}for(;y>2;)R[a++]=T[v++],R[a++]=T[v++],R[a++]=T[v++],y-=3;y&&(R[a++]=T[v++],y>1&&(R[a++]=T[v++]))}else{v=a-S;do R[a++]=R[v++],R[a++]=R[v++],R[a++]=R[v++],y-=3;while(y>2);y&&(R[a++]=R[v++],y>1&&(R[a++]=R[v++]))}}else if(x&64){i.msg="invalid distance code",A.mode=BAD$1;break e}else{w=p[(w&65535)+(_&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){A.mode=TYPE$1;break e}else{i.msg="invalid literal/length code",A.mode=BAD$1;break e}else{w=m[(w&65535)+(_&(1<<x)-1)];continue t}break}}while(r<s&&a<o);y=E>>3,r-=y,E-=y<<3,_&=(1<<E)-1,i.next_in=r,i.next_out=a,i.avail_in=r<s?5+(s-r):5-(r-s),i.avail_out=a<o?257+(o-a):257-(a-o),A.hold=_,A.bits=E};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,i,n,r,s,a,l,o)=>{const f=o.bits;let c=0,d=0,u=0,h=0,_=0,E=0,m=0,p=0,g=0,b=0,w,x,y,S,v,T=null,k;const R=new Uint16Array(MAXBITS+1),A=new Uint16Array(MAXBITS+1);let N=null,C,F,L;for(c=0;c<=MAXBITS;c++)R[c]=0;for(d=0;d<r;d++)R[i[n+d]]++;for(_=f,h=MAXBITS;h>=1&&R[h]===0;h--);if(_>h&&(_=h),h===0)return s[a++]=1<<24|64<<16|0,s[a++]=1<<24|64<<16|0,o.bits=1,0;for(u=1;u<h&&R[u]===0;u++);for(_<u&&(_=u),p=1,c=1;c<=MAXBITS;c++)if(p<<=1,p-=R[c],p<0)return-1;if(p>0&&(t===CODES$1||h!==1))return-1;for(A[1]=0,c=1;c<MAXBITS;c++)A[c+1]=A[c]+R[c];for(d=0;d<r;d++)i[n+d]!==0&&(l[A[i[n+d]]++]=d);if(t===CODES$1?(T=N=l,k=20):t===LENS$1?(T=lbase,N=lext,k=257):(T=dbase,N=dext,k=0),b=0,d=0,c=u,v=a,E=_,m=0,y=-1,g=1<<_,S=g-1,t===LENS$1&&g>ENOUGH_LENS$1||t===DISTS$1&&g>ENOUGH_DISTS$1)return 1;for(;;){C=c-m,l[d]+1<k?(F=0,L=l[d]):l[d]>=k?(F=N[l[d]-k],L=T[l[d]-k]):(F=32+64,L=0),w=1<<c-m,x=1<<E,u=x;do x-=w,s[v+(b>>m)+x]=C<<24|F<<16|L|0;while(x!==0);for(w=1<<c-1;b&w;)w>>=1;if(w!==0?(b&=w-1,b+=w):b=0,d++,--R[c]===0){if(c===h)break;c=i[n+l[d]]}if(c>_&&(b&S)!==y){for(m===0&&(m=_),v+=u,E=c-m,p=1<<E;E+m<h&&(p-=R[E+m],!(p<=0));)E++,p<<=1;if(g+=1<<E,t===LENS$1&&g>ENOUGH_LENS$1||t===DISTS$1&&g>ENOUGH_DISTS$1)return 1;y=b&S,s[y]=_<<24|E<<16|v-a|0}}return b!==0&&(s[v+b]=c-m<<24|64<<16|0),o.bits=_,0};var inftrees=inflate_table;const CODES$2=0,LENS$2=1,DISTS=2,{Z_FINISH:Z_FINISH$1$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1$1,Z_STREAM_END:Z_STREAM_END$1$1,Z_NEED_DICT:Z_NEED_DICT$1$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1$1,Z_DATA_ERROR:Z_DATA_ERROR$1$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR:Z_BUF_ERROR$2,Z_DEFLATED:Z_DEFLATED$3}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE$2=16191,TYPEDO=16192,STORED$2=16193,COPY_=16194,COPY$1=16195,TABLE$1=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN$1=16200,LENEXT$1=16201,DIST$1=16202,DISTEXT$1=16203,MATCH=16204,LIT$1=16205,CHECK=16206,LENGTH=16207,DONE$1=16208,BAD$2=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=t=>{if(!t)return 1;const i=t.state;return!i||i.strm!==t||i.mode<HEAD||i.mode>SYNC?1:0},inflateResetKeep=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1$1;const i=t.state;return t.total_in=t.total_out=i.total=0,t.msg="",i.wrap&&(t.adler=i.wrap&1),i.mode=HEAD,i.last=0,i.havedict=0,i.flags=-1,i.dmax=32768,i.head=null,i.hold=0,i.bits=0,i.lencode=i.lendyn=new Int32Array(ENOUGH_LENS),i.distcode=i.distdyn=new Int32Array(ENOUGH_DISTS),i.sane=1,i.back=-1,Z_OK$1$1},inflateReset=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1$1;const i=t.state;return i.wsize=0,i.whave=0,i.wnext=0,inflateResetKeep(t)},inflateReset2=(t,i)=>{let n;if(inflateStateCheck(t))return Z_STREAM_ERROR$1$1;const r=t.state;return i<0?(n=0,i=-i):(n=(i>>4)+5,i<48&&(i&=15)),i&&(i<8||i>15)?Z_STREAM_ERROR$1$1:(r.window!==null&&r.wbits!==i&&(r.window=null),r.wrap=n,r.wbits=i,inflateReset(t))},inflateInit2=(t,i)=>{if(!t)return Z_STREAM_ERROR$1$1;const n=new InflateState;t.state=n,n.strm=t,n.window=null,n.mode=HEAD;const r=inflateReset2(t,i);return r!==Z_OK$1$1&&(t.state=null),r},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let i=0;for(;i<144;)t.lens[i++]=8;for(;i<256;)t.lens[i++]=9;for(;i<280;)t.lens[i++]=7;for(;i<288;)t.lens[i++]=8;for(inftrees(LENS$2,t.lens,0,288,lenfix,0,t.work,{bits:9}),i=0;i<32;)t.lens[i++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,i,n,r)=>{let s;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(i.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>r&&(s=r),a.window.set(i.subarray(n-r,n-r+s),a.wnext),r-=s,r?(a.window.set(i.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0},inflate$2=(t,i)=>{let n,r,s,a,l,o,f,c,d,u,h,_,E,m,p=0,g,b,w,x,y,S,v,T;const k=new Uint8Array(4);let R,A;const N=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(t)||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1$1;n=t.state,n.mode===TYPE$2&&(n.mode=TYPEDO),l=t.next_out,s=t.output,f=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,d=n.bits,u=o,h=f,T=Z_OK$1$1;e:for(;;)switch(n.mode){case HEAD:if(n.wrap===0){n.mode=TYPEDO;break}for(;d<16;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=c&255,k[1]=c>>>8&255,n.check=crc32_1(n.check,k,2,0),c=0,d=0,n.mode=FLAGS;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=BAD$2;break}if((c&15)!==Z_DEFLATED$3){t.msg="unknown compression method",n.mode=BAD$2;break}if(c>>>=4,d-=4,v=(c&15)+8,n.wbits===0&&(n.wbits=v),v>15||v>n.wbits){t.msg="invalid window size",n.mode=BAD$2;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?DICTID:TYPE$2,c=0,d=0;break;case FLAGS:for(;d<16;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(n.flags=c,(n.flags&255)!==Z_DEFLATED$3){t.msg="unknown compression method",n.mode=BAD$2;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=BAD$2;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=crc32_1(n.check,k,2,0)),c=0,d=0,n.mode=TIME;case TIME:for(;d<32;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,n.check=crc32_1(n.check,k,4,0)),c=0,d=0,n.mode=OS;case OS:for(;d<16;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=crc32_1(n.check,k,2,0)),c=0,d=0,n.mode=EXLEN;case EXLEN:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,n.check=crc32_1(n.check,k,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=EXTRA;case EXTRA:if(n.flags&1024&&(_=n.length,_>o&&(_=o),_&&(n.head&&(v=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+_),v)),n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,_,a)),o-=_,a+=_,n.length-=_),n.length))break e;n.length=0,n.mode=NAME;case NAME:if(n.flags&2048){if(o===0)break e;_=0;do v=r[a+_++],n.head&&v&&n.length<65536&&(n.head.name+=String.fromCharCode(v));while(v&&_<o);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,_,a)),o-=_,a+=_,v)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=COMMENT;case COMMENT:if(n.flags&4096){if(o===0)break e;_=0;do v=r[a+_++],n.head&&v&&n.length<65536&&(n.head.comment+=String.fromCharCode(v));while(v&&_<o);if(n.flags&512&&n.wrap&4&&(n.check=crc32_1(n.check,r,_,a)),o-=_,a+=_,v)break e}else n.head&&(n.head.comment=null);n.mode=HCRC;case HCRC:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=BAD$2;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=TYPE$2;break;case DICTID:for(;d<32;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}t.adler=n.check=zswap32(c),c=0,d=0,n.mode=DICT;case DICT:if(n.havedict===0)return t.next_out=l,t.avail_out=f,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=d,Z_NEED_DICT$1$1;t.adler=n.check=1,n.mode=TYPE$2;case TYPE$2:if(i===Z_BLOCK||i===Z_TREES)break e;case TYPEDO:if(n.last){c>>>=d&7,d-=d&7,n.mode=CHECK;break}for(;d<3;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}switch(n.last=c&1,c>>>=1,d-=1,c&3){case 0:n.mode=STORED$2;break;case 1:if(fixedtables(n),n.mode=LEN_,i===Z_TREES){c>>>=2,d-=2;break e}break;case 2:n.mode=TABLE$1;break;case 3:t.msg="invalid block type",n.mode=BAD$2}c>>>=2,d-=2;break;case STORED$2:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=BAD$2;break}if(n.length=c&65535,c=0,d=0,n.mode=COPY_,i===Z_TREES)break e;case COPY_:n.mode=COPY$1;case COPY$1:if(_=n.length,_){if(_>o&&(_=o),_>f&&(_=f),_===0)break e;s.set(r.subarray(a,a+_),l),o-=_,a+=_,f-=_,l+=_,n.length-=_;break}n.mode=TYPE$2;break;case TABLE$1:for(;d<14;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(n.nlen=(c&31)+257,c>>>=5,d-=5,n.ndist=(c&31)+1,c>>>=5,d-=5,n.ncode=(c&15)+4,c>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=BAD$2;break}n.have=0,n.mode=LENLENS;case LENLENS:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.lens[N[n.have++]]=c&7,c>>>=3,d-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},T=inftrees(CODES$2,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,T){t.msg="invalid code lengths set",n.mode=BAD$2;break}n.have=0,n.mode=CODELENS;case CODELENS:for(;n.have<n.nlen+n.ndist;){for(;p=n.lencode[c&(1<<n.lenbits)-1],g=p>>>24,b=p>>>16&255,w=p&65535,!(g<=d);){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(w<16)c>>>=g,d-=g,n.lens[n.have++]=w;else{if(w===16){for(A=g+2;d<A;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(c>>>=g,d-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=BAD$2;break}v=n.lens[n.have-1],_=3+(c&3),c>>>=2,d-=2}else if(w===17){for(A=g+3;d<A;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}c>>>=g,d-=g,v=0,_=3+(c&7),c>>>=3,d-=3}else{for(A=g+7;d<A;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}c>>>=g,d-=g,v=0,_=11+(c&127),c>>>=7,d-=7}if(n.have+_>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=BAD$2;break}for(;_--;)n.lens[n.have++]=v}}if(n.mode===BAD$2)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=BAD$2;break}if(n.lenbits=9,R={bits:n.lenbits},T=inftrees(LENS$2,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,T){t.msg="invalid literal/lengths set",n.mode=BAD$2;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},T=inftrees(DISTS,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,T){t.msg="invalid distances set",n.mode=BAD$2;break}if(n.mode=LEN_,i===Z_TREES)break e;case LEN_:n.mode=LEN$1;case LEN$1:if(o>=6&&f>=258){t.next_out=l,t.avail_out=f,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=d,inffast(t,h),l=t.next_out,s=t.output,f=t.avail_out,a=t.next_in,r=t.input,o=t.avail_in,c=n.hold,d=n.bits,n.mode===TYPE$2&&(n.back=-1);break}for(n.back=0;p=n.lencode[c&(1<<n.lenbits)-1],g=p>>>24,b=p>>>16&255,w=p&65535,!(g<=d);){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(b&&!(b&240)){for(x=g,y=b,S=w;p=n.lencode[S+((c&(1<<x+y)-1)>>x)],g=p>>>24,b=p>>>16&255,w=p&65535,!(x+g<=d);){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}c>>>=x,d-=x,n.back+=x}if(c>>>=g,d-=g,n.back+=g,n.length=w,b===0){n.mode=LIT$1;break}if(b&32){n.back=-1,n.mode=TYPE$2;break}if(b&64){t.msg="invalid literal/length code",n.mode=BAD$2;break}n.extra=b&15,n.mode=LENEXT$1;case LENEXT$1:if(n.extra){for(A=n.extra;d<A;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=DIST$1;case DIST$1:for(;p=n.distcode[c&(1<<n.distbits)-1],g=p>>>24,b=p>>>16&255,w=p&65535,!(g<=d);){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(!(b&240)){for(x=g,y=b,S=w;p=n.distcode[S+((c&(1<<x+y)-1)>>x)],g=p>>>24,b=p>>>16&255,w=p&65535,!(x+g<=d);){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}c>>>=x,d-=x,n.back+=x}if(c>>>=g,d-=g,n.back+=g,b&64){t.msg="invalid distance code",n.mode=BAD$2;break}n.offset=w,n.extra=b&15,n.mode=DISTEXT$1;case DISTEXT$1:if(n.extra){for(A=n.extra;d<A;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=BAD$2;break}n.mode=MATCH;case MATCH:if(f===0)break e;if(_=h-f,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=BAD$2;break}_>n.wnext?(_-=n.wnext,E=n.wsize-_):E=n.wnext-_,_>n.length&&(_=n.length),m=n.window}else m=s,E=l-n.offset,_=n.length;_>f&&(_=f),f-=_,n.length-=_;do s[l++]=m[E++];while(--_);n.length===0&&(n.mode=LEN$1);break;case LIT$1:if(f===0)break e;s[l++]=n.length,f--,n.mode=LEN$1;break;case CHECK:if(n.wrap){for(;d<32;){if(o===0)break e;o--,c|=r[a++]<<d,d+=8}if(h-=f,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?crc32_1(n.check,s,h,l-h):adler32_1(n.check,s,h,l-h)),h=f,n.wrap&4&&(n.flags?c:zswap32(c))!==n.check){t.msg="incorrect data check",n.mode=BAD$2;break}c=0,d=0}n.mode=LENGTH;case LENGTH:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,c+=r[a++]<<d,d+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=BAD$2;break}c=0,d=0}n.mode=DONE$1;case DONE$1:T=Z_STREAM_END$1$1;break e;case BAD$2:T=Z_DATA_ERROR$1$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1$1}return t.next_out=l,t.avail_out=f,t.next_in=a,t.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==t.avail_out&&n.mode<BAD$2&&(n.mode<CHECK||i!==Z_FINISH$1$1))&&updatewindow(t,t.output,t.next_out,h-t.avail_out),u-=t.avail_in,h-=t.avail_out,t.total_in+=u,t.total_out+=h,n.total+=h,n.wrap&4&&h&&(t.adler=n.check=n.flags?crc32_1(n.check,s,h,t.next_out-h):adler32_1(n.check,s,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===TYPE$2?128:0)+(n.mode===LEN_||n.mode===COPY_?256:0),(u===0&&h===0||i===Z_FINISH$1$1)&&T===Z_OK$1$1&&(T=Z_BUF_ERROR$2),T},inflateEnd=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1$1;let i=t.state;return i.window&&(i.window=null),t.state=null,Z_OK$1$1},inflateGetHeader=(t,i)=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1$1;const n=t.state;return n.wrap&2?(n.head=i,i.done=!1,Z_OK$1$1):Z_STREAM_ERROR$1$1},inflateSetDictionary=(t,i)=>{const n=i.length;let r,s,a;return inflateStateCheck(t)||(r=t.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1$1:r.mode===DICT&&(s=1,s=adler32_1(s,i,n,0),s!==r.check)?Z_DATA_ERROR$1$1:(a=updatewindow(t,i,n,n),a?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$3,Z_FINISH:Z_FINISH$4,Z_OK:Z_OK$4,Z_STREAM_END:Z_STREAM_END$4,Z_NEED_DICT:Z_NEED_DICT$2,Z_STREAM_ERROR:Z_STREAM_ERROR$3,Z_DATA_ERROR:Z_DATA_ERROR$3,Z_MEM_ERROR:Z_MEM_ERROR$2}=constants$2;function Inflate$1(t){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const i=this.options;i.raw&&i.windowBits>=0&&i.windowBits<16&&(i.windowBits=-i.windowBits,i.windowBits===0&&(i.windowBits=-15)),i.windowBits>=0&&i.windowBits<16&&!(t&&t.windowBits)&&(i.windowBits+=32),i.windowBits>15&&i.windowBits<48&&(i.windowBits&15||(i.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let n=inflate_1$2.inflateInit2(this.strm,i.windowBits);if(n!==Z_OK$4)throw new Error(messages[n]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),i.dictionary&&(typeof i.dictionary=="string"?i.dictionary=strings.string2buf(i.dictionary):toString$2.call(i.dictionary)==="[object ArrayBuffer]"&&(i.dictionary=new Uint8Array(i.dictionary)),i.raw&&(n=inflate_1$2.inflateSetDictionary(this.strm,i.dictionary),n!==Z_OK$4)))throw new Error(messages[n])}Inflate$1.prototype.push=function(t,i){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let a,l,o;if(this.ended)return!1;for(i===~~i?l=i:l=i===!0?Z_FINISH$4:Z_NO_FLUSH$3,toString$2.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=inflate_1$2.inflate(n,l),a===Z_NEED_DICT$2&&s&&(a=inflate_1$2.inflateSetDictionary(n,s),a===Z_OK$4?a=inflate_1$2.inflate(n,l):a===Z_DATA_ERROR$3&&(a=Z_NEED_DICT$2));n.avail_in>0&&a===Z_STREAM_END$4&&n.state.wrap>0&&t[n.next_in]!==0;)inflate_1$2.inflateReset(n),a=inflate_1$2.inflate(n,l);switch(a){case Z_STREAM_ERROR$3:case Z_DATA_ERROR$3:case Z_NEED_DICT$2:case Z_MEM_ERROR$2:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===Z_STREAM_END$4))if(this.options.to==="string"){let f=strings.utf8border(n.output,n.next_out),c=n.next_out-f,d=strings.buf2string(n.output,f);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(f,f+c),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Z_OK$4&&o===0)){if(a===Z_STREAM_END$4)return a=inflate_1$2.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK$4&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,i){const n=new Inflate$1(i);if(n.push(t),n.err)throw n.msg||messages[n.err];return n.result}function inflateRaw$1(t,i){return i=i||{},i.raw=!0,inflate$1(t,i)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Deflate:Deflate$2,deflate,deflateRaw,gzip}=deflate_1$1,{Inflate:Inflate$2,inflate,inflateRaw,ungzip}=inflate_1$1;var deflate_1=deflate,inflate_1=inflate;function base64encode(t){return btoa?btoa(t):Buffer.from(t,"binary").toString("base64")}function base64decode(t){return atob?atob(t):Buffer.from(t,"base64").toString("binary")}function uint8ArrayToBase64(t){return base64encode(String.fromCharCode(...t))}function base64ToUint8Array(t){const i=base64decode(t),n=i.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=i.charCodeAt(s);return r}class FingerprintToBase64{static encode(i){const n=i.split(":"),r=new Uint8Array(n.map(o=>parseInt(o,16)));let s=0,a=0,l="";for(const o of r)for(s=s<<this.BITS_PER_BYTE|o,a+=this.BITS_PER_BYTE;a>=this.BITS_PER_BASE64_CHAR;){a-=this.BITS_PER_BASE64_CHAR;const f=s>>a&(1<<this.BITS_PER_BASE64_CHAR)-1;l+=this.CHARSET[f]}if(a>0){const o=s<<this.BITS_PER_BASE64_CHAR-a&(1<<this.BITS_PER_BASE64_CHAR)-1;l+=this.CHARSET[o]}for(;l.length%4!==0;)l+="=";return l}static decode(i){let n=0,r=0,s="";for(const l of i){if(l==="=")break;const o=this.CHARSET.indexOf(l);for(n=n<<this.BITS_PER_BASE64_CHAR|o,r+=this.BITS_PER_BASE64_CHAR;r>=this.BITS_PER_BYTE;){r-=this.BITS_PER_BYTE;const f=n>>r&(1<<this.BITS_PER_BYTE)-1;s+=f.toString(16).padStart(2,"0").toUpperCase()}}let a="";for(let l=0;l<s.length;l++)a+=s[l],l%2===1&&l!==s.length-1&&(a+=":");return a}}FingerprintToBase64.CHARSET="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";FingerprintToBase64.BITS_PER_BYTE=8;FingerprintToBase64.BITS_PER_BASE64_CHAR=6;function compressText(t){const i=deflate_1(t,{level:9});return uint8ArrayToBase64(i)}function decompressText(t){const i=base64ToUint8Array(t);return inflate_1(i,{to:"string"})}const FieldReplaceMap={"v=":"V","o=":"O","s=":"S","c=":"C","a=":"A","m=":"M","t=":"T"},FieldReplaceMapReverse=Object.fromEntries(Object.entries(FieldReplaceMap).map(t=>t.reverse())),AttributeRepalceMap={"rtcp:":"R","ice-ufrag:":"U","ice-pwd:":"P","ice-options:":"O","fingerprint:":"F","candidate:":"C","sctp-port:":"S","max-message-size:":"M","extmap:":"E","rtpmap:":"T","rtcp-fb:":"B","fmtp:":"Z"},AttributeRepalceMapReverse=Object.fromEntries(Object.entries(AttributeRepalceMap).map(t=>t.reverse())),HashFuncMap={"sha-1":"1","sha-224":"2","sha-256":"3","sha-384":"4","sha-512":"5",md5:"6",md2:"7",token:"8"},HashFuncMapReverse=Object.fromEntries(Object.entries(HashFuncMap).map(t=>t.reverse())),candidateEncodeMap={"typ host generation 0 network-cost 999":"H","typ srflx":"S","rport 0 generation 0 network-cost 999":"R",udp:"U",raddr:"A"},candidateEncodeRegex=new RegExp(Object.keys(candidateEncodeMap).join("|"),"g");function candidateEncode(t){return t.replace(candidateEncodeRegex,i=>candidateEncodeMap[i])}const candidateDecodeMap=Object.fromEntries(Object.entries(candidateEncodeMap).map(t=>t.reverse())),candidateDecodeRegex=new RegExp(Object.keys(candidateDecodeMap).join("|"),"g");function candidateDecode(t){return t.replace(candidateDecodeRegex,i=>candidateDecodeMap[i])}const mediaEncodeMap={application:"P","UDP/DTLS/SCTP":"U","UDP/TLS/RTP/SAVPF":"T","webrtc-datachannel":"D",audio:"A",video:"V"},mediaEncodeRegex=new RegExp(Object.keys(mediaEncodeMap).join("|"),"g");function mediaEncode(t){return t.replace(mediaEncodeRegex,i=>mediaEncodeMap[i])}const mediaDecodeMap=Object.fromEntries(Object.entries(mediaEncodeMap).map(t=>t.reverse())),mediaDecodeRegex=new RegExp(Object.keys(mediaDecodeMap).join("|"),"g");function mediaDecode(t){return t.replace(mediaDecodeRegex,i=>mediaDecodeMap[i])}const MediaConnectionAddressTypeMap={IP4:"4",IP6:"6"},MediaConnectionAddressTypeMapReverse=Object.fromEntries(Object.entries(MediaConnectionAddressTypeMap).map(t=>t.reverse())),MediaConnectionIPMap={"0.0.0.0":"0"},MediaConnectionIPMapReverse=Object.fromEntries(Object.entries(MediaConnectionIPMap).map(t=>t.reverse())),compactSDP=(t,i)=>{const n=mergeOptions(i);return t=compactSDPStr(t,n),n.compress&&(t=compressText(t)),t};function compactSDPStr(t,i){const n=t.split(`\r
`);let r=[];return n.forEach(s=>{var a,l,o,f,c,d,u,h;if(!(s.startsWith("v=")&&i.sdpVersion!==void 0)&&!(s.startsWith("s=")&&i.sessionName!==void 0)&&!(s.startsWith("t=")&&i.timing!==void 0)&&!(s.startsWith("a=extmap-allow-mixed")&&i.extmapAllowMixed)&&!(s.startsWith("a=msid-semantic:")&&i.msidSemantic!==void 0)){if(s.startsWith("o=")&&i.origin!==void 0){let _=s.slice(2).split(" "),E=[];i.origin.username===void 0&&E.push(_[0]),i.origin.sessionId===void 0&&E.push(_[1]),E.push(_[2]),i.origin.netType===void 0&&E.push(_[3]),i.origin.addrtype===void 0&&E.push(_[4]),i.origin.unicastAddress===void 0&&E.push(_[5]),r.push(`o=${E.join(" ")}`);return}if(!(s.startsWith("a=group:")&&(!((a=i.mediaOptions)===null||a===void 0)&&a.removeMediaID))&&!(s.startsWith("a=mid:")&&(!((l=i.mediaOptions)===null||l===void 0)&&l.removeMediaID))&&!(s.startsWith("a=setup:")&&(!((o=i.mediaOptions)===null||o===void 0)&&o.removeSetup))&&!(s.startsWith("a=ice-options:trickle")&&(!((f=i.mediaOptions)===null||f===void 0)&&f.forceTrickle))){if(s.startsWith("m=")&&(!((c=i.mediaOptions)===null||c===void 0)&&c.replaceMediaString)){s=mediaEncode(s),r.push(s);return}if(s.startsWith("a=candidate:")&&(!((d=i.mediaOptions)===null||d===void 0)&&d.replaceCandidateString)){s=candidateEncode(s),r.push(s);return}if(s.startsWith("a=fingerprint:")&&(!((u=i.mediaOptions)===null||u===void 0)&&u.compressFingerprint)){let[_,E]=s.slice(14).split(" ");_ in HashFuncMap&&(_=HashFuncMap[_]),E=FingerprintToBase64.encode(E),r.push(`a=fingerprint:${_} ${E}`);return}if(s.startsWith("c=")&&(!((h=i.mediaOptions)===null||h===void 0)&&h.compressConnection)){let[_,E,m]=s.slice(2).split(" ");E in MediaConnectionAddressTypeMap&&(E=MediaConnectionAddressTypeMap[E]),m in MediaConnectionIPMap&&(m=MediaConnectionIPMap[m]),r.push(`c=${E} ${m}`);return}r.push(s)}}}),i.replaceFieldNames&&(r=r.map(s=>{let a=s.slice(0,2),l=s.slice(2);if(a==="a="){let[o,...f]=l.split(":");o=o+":",o in AttributeRepalceMap&&(o=AttributeRepalceMap[o],l=o+f.join(":"))}return a in FieldReplaceMap&&(a=FieldReplaceMap[a]),a+l})),r.join("~")}var parser$1={},grammar$2={exports:{}},grammar$1=grammar$2.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(t){return t.encoding?"rtpmap:%d %s/%s/%s":t.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(t){return t.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(t){return t.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(t){return"extmap:%d"+(t.direction?"/%s":"%v")+(t["encrypt-uri"]?" %s":"%v")+" %s"+(t.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(t){return t.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(t){var i="candidate:%s %d %s %d %s %d typ %s";return i+=t.raddr!=null?" raddr %s rport %d":"%v%v",i+=t.tcptype!=null?" tcptype %s":"%v",t.generation!=null&&(i+=" generation %d"),i+=t["network-id"]!=null?" network-id %d":"%v",i+=t["network-cost"]!=null?" network-cost %d":"%v",i}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(t){var i="ssrc:%d";return t.attribute!=null&&(i+=" %s",t.value!=null&&(i+=":%s")),i}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(t){return t.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(t){return t.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(t){return"imageattr:%s %s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(t){return"simulcast:%s %s"+(t.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(t){return"ts-refclk:%s"+(t.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(t){var i="mediaclk:";return i+=t.id!=null?"id=%s %s":"%v%s",i+=t.mediaClockValue!=null?"=%s":"",i+=t.rateNumerator!=null?" rate=%s":"",i+=t.rateDenominator!=null?"/%s":"",i}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(grammar$1).forEach(function(t){var i=grammar$1[t];i.forEach(function(n){n.reg||(n.reg=/(.*)/),n.format||(n.format="%s")})});var grammarExports=grammar$2.exports;(function(t){var i=function(o){return String(Number(o))===o?Number(o):o},n=function(o,f,c,d){if(d&&!c)f[d]=i(o[1]);else for(var u=0;u<c.length;u+=1)o[u+1]!=null&&(f[c[u]]=i(o[u+1]))},r=function(o,f,c){var d=o.name&&o.names;o.push&&!f[o.push]?f[o.push]=[]:d&&!f[o.name]&&(f[o.name]={});var u=o.push?{}:d?f[o.name]:f;n(c.match(o.reg),u,o.names,o.name),o.push&&f[o.push].push(u)},s=grammarExports,a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(o){var f={},c=[],d=f;return o.split(/(\r\n|\r|\n)/).filter(a).forEach(function(u){var h=u[0],_=u.slice(2);h==="m"&&(c.push({rtp:[],fmtp:[]}),d=c[c.length-1]);for(var E=0;E<(s[h]||[]).length;E+=1){var m=s[h][E];if(m.reg.test(_))return r(m,d,_)}}),f.media=c,f};var l=function(o,f){var c=f.split(/=(.+)/,2);return c.length===2?o[c[0]]=i(c[1]):c.length===1&&f.length>1&&(o[c[0]]=void 0),o};t.parseParams=function(o){return o.split(/;\s?/).reduce(l,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(o){return o.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(o){for(var f=[],c=o.split(" ").map(i),d=0;d<c.length;d+=3)f.push({component:c[d],ip:c[d+1],port:c[d+2]});return f},t.parseImageAttributes=function(o){return o.split(" ").map(function(f){return f.substring(1,f.length-1).split(",").reduce(l,{})})},t.parseSimulcastStreamList=function(o){return o.split(";").map(function(f){return f.split(",").map(function(c){var d,u=!1;return c[0]!=="~"?d=i(c):(d=i(c.substring(1,c.length)),u=!0),{scid:d,paused:u}})})}})(parser$1);var grammar=grammarExports,formatRegExp=/%[sdv%]/g,format=function(t){var i=1,n=arguments,r=n.length;return t.replace(formatRegExp,function(s){if(i>=r)return s;var a=n[i];switch(i+=1,s){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}})},makeLine=function(t,i,n){var r=i.format instanceof Function?i.format(i.push?n:n[i.name]):i.format,s=[t+"="+r];if(i.names)for(var a=0;a<i.names.length;a+=1){var l=i.names[a];i.name?s.push(n[i.name][l]):s.push(n[i.names[a]])}else s.push(n[i.name]);return format.apply(null,s)},defaultOuterOrder=["v","o","s","i","u","e","p","c","b","t","r","z","a"],defaultInnerOrder=["i","c","b","a"],writer$1=function(t,i){i=i||{},t.version==null&&(t.version=0),t.name==null&&(t.name=" "),t.media.forEach(function(a){a.payloads==null&&(a.payloads="")});var n=i.outerOrder||defaultOuterOrder,r=i.innerOrder||defaultInnerOrder,s=[];return n.forEach(function(a){grammar[a].forEach(function(l){l.name in t&&t[l.name]!=null?s.push(makeLine(a,l,t)):l.push in t&&t[l.push]!=null&&t[l.push].forEach(function(o){s.push(makeLine(a,l,o))})})}),t.media.forEach(function(a){s.push(makeLine("m",grammar.m[0],a)),r.forEach(function(l){grammar[l].forEach(function(o){o.name in a&&a[o.name]!=null?s.push(makeLine(l,o,a)):o.push in a&&a[o.push]!=null&&a[o.push].forEach(function(f){s.push(makeLine(l,o,f))})})})}),s.join(`\r
`)+`\r
`},parser=parser$1,writer=writer$1,write=writer,parse=parser.parse;parser.parseParams;parser.parseFmtpConfig;parser.parsePayloads;parser.parseRemoteCandidates;parser.parseImageAttributes;parser.parseSimulcastStreamList;const decompactSDP=(t,i,n)=>{const r=mergeOptions(n);return r.compress&&(t=decompressText(t)),decompactSDPStr(t,i,r)};function decompactSDPStr(t,i,n){var r;let s=t.split("~"),a=[];n.replaceFieldNames&&(s=s.map(f=>{let c=f.slice(0,1),d=f.slice(1);if(c in FieldReplaceMapReverse&&(c=FieldReplaceMapReverse[c]),c==="a="){let u=d.slice(0,1);const h=d.slice(1);u in AttributeRepalceMapReverse&&(u=AttributeRepalceMapReverse[u],d=u+h)}return c+d})),n.sdpVersion!==void 0&&a.push(`v=${n.sdpVersion}`),n.sessionName!==void 0&&a.push(`s=${n.sessionName}`),n.timing!==void 0&&a.push(`t=${n.timing}`),n.extmapAllowMixed&&a.push("a=extmap-allow-mixed"),n.msidSemantic!==void 0&&a.push(`a=msid-semantic: ${n.msidSemantic}`);let l=0;s.forEach(f=>{var c,d,u,h;if(f.startsWith("o=")&&n.origin!==void 0){let _=f.slice(2).split(" "),E=[];if(n.origin.username!==void 0)E.push(n.origin.username);else{const p=_.shift();p&&E.push(p)}if(n.origin.sessionId!==void 0)E.push(n.origin.sessionId);else{const p=_.shift();p&&E.push(p)}const m=_.shift();if(m&&E.push(m),n.origin.netType!==void 0)E.push(n.origin.netType);else{const p=_.shift();p&&E.push(p)}if(n.origin.addrtype!==void 0)E.push(n.origin.addrtype);else{const p=_.shift();p&&E.push(p)}if(n.origin.unicastAddress!==void 0)E.push(n.origin.unicastAddress);else{const p=_.shift();p&&E.push(p)}a.push(`o=${E.join(" ")}`);return}if(f.startsWith("m=")&&n.mediaOptions!==void 0){!((c=n.mediaOptions)===null||c===void 0)&&c.replaceMediaString&&(f=mediaDecode(f)),a.push(f),n.mediaOptions.removeSetup&&a.push(`a=setup:${i?"actpass":"active"}`),n.mediaOptions.removeMediaID&&(a.push(`a=mid:${l}`),l++),n.mediaOptions.forceTrickle&&a.push("a=ice-options:trickle");return}if(f.startsWith("a=candidate:")&&(!((d=n.mediaOptions)===null||d===void 0)&&d.replaceCandidateString)){f=candidateDecode(f),a.push(f);return}if(f.startsWith("a=fingerprint:")&&(!((u=n.mediaOptions)===null||u===void 0)&&u.compressFingerprint)){let[_,E]=f.slice(14).split(" ");_ in HashFuncMapReverse&&(_=HashFuncMapReverse[_]),E=FingerprintToBase64.decode(E),a.push(`a=fingerprint:${_} ${E}`);return}if(f.startsWith("c=")&&(!((h=n.mediaOptions)===null||h===void 0)&&h.compressConnection)){let[_,E]=f.slice(2).split(" ");_ in MediaConnectionAddressTypeMapReverse&&(_=MediaConnectionAddressTypeMapReverse[_]),E in MediaConnectionIPMapReverse&&(E=MediaConnectionIPMapReverse[E]),a.push(`c=IN ${_} ${E}`);return}a.push(f)}),!((r=n.mediaOptions)===null||r===void 0)&&r.removeMediaID&&a.unshift(`a=group:BUNDLE ${Array.from(Array(l).keys()).join(" ")}`);let o=a.join(`\r
`);return o=write(parse(o)),o}function sdpEncode(t){return compactSDP(t).replace(/\//g,"_").replace(/\+/g,"~").replace(/=/g,"-")}function sdpDecode(t,i){return decompactSDP(t.replace(/_/g,"/").replace(/~/g,"+").replace(/-/g,"="),i)}function create_fragment$9(t){let i,n,r,s,a='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m6.75 12l-3-3m0 0l-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg> <p class="m-0 hidden xl:block">Drop your files, paste from clipboard (ctrl+v), or click to this area</p> <p class="m-0 xl:hidden">Click to this area</p>',l,o,f="Paste from clipboard",c,d;return{c(){i=element("label"),n=element("input"),r=space(),s=element("div"),s.innerHTML=a,l=space(),o=element("button"),o.textContent=f,this.h()},l(u){i=claim_element(u,"LABEL",{class:!0});var h=children(i);n=claim_element(h,"INPUT",{accept:!0,type:!0,class:!0,title:!0}),r=claim_space(h),s=claim_element(h,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-1n4uurw"&&(s.innerHTML=a),h.forEach(detach),l=claim_space(u),o=claim_element(u,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-dnagid"&&(o.textContent=f),this.h()},h(){attr(n,"accept","*"),attr(n,"type","file"),n.multiple=!0,attr(n,"class","absolute inset-0 z-50 w-full h-full p-0 m-0 outline-none opacity-0 cursor-pointer"),attr(n,"title",""),attr(s,"class","flex flex-col items-center justify-center py-10 text-center"),attr(i,"class","relative flex flex-col border border-base-300 border-dashed cursor-pointer"),attr(o,"class","btn btn-secondary xl:hidden")},m(u,h){insert_hydration(u,i,h),append_hydration(i,n),t[5](n),append_hydration(i,r),append_hydration(i,s),t[6](i),insert_hydration(u,l,h),insert_hydration(u,o,h),c||(d=[listen(n,"change",t[2]),listen(o,"click",t[3])],c=!0)},p:noop$1,i:noop$1,o:noop$1,d(u){u&&(detach(i),detach(l),detach(o)),t[5](null),t[6](null),c=!1,run_all(d)}}}function instance$7(t,i,n){let r,s,{onFilesPick:a}=i;function l(){["dragenter","dragover","dragleave","drop"].forEach(g=>{r.addEventListener(g,b=>{b.preventDefault(),b.stopPropagation()},!1)}),["dragenter","dragover"].forEach(g=>{r.addEventListener(g,o,!1)}),["dragleave","drop"].forEach(g=>{r.addEventListener(g,f,!1)}),r.addEventListener("drop",c,!1)}function o(){r.classList.add("bg-blue-200")}function f(){r.classList.remove("bg-blue-200")}function c(g){f();const b=g.dataTransfer?.files;b&&a(b)}function d(){s.files&&(a(s.files),n(1,s.value="",s))}function u(g){const b=new Blob([g],{type:"text/plain"}),w=new File([b],"clipboard.txt",{type:"text/plain"}),x=new DataTransfer;x.items.add(w),a(x.files)}function h(g){const b=new DataTransfer;b.items.add(g),a(b.files)}async function _(){const g=navigator.clipboard;if(g)try{const b=await g.readText();b&&u(b);const w=await g.read();for(const x of w)for(const y of x.types){if(!y.startsWith("image/"))continue;const S=await x.getType(y),v=new File([S],`image.${y.replace("image/","")}`,{type:y});h(v)}}catch{addToastMessage("No data on clipboard")}}function E(g){const b=g.clipboardData;if(!b)return;const w=b.getData("Text");w&&u(w);const x=b.items;for(let y=0;y<x.length;y++){const S=x[y].getAsFile();S&&h(S)}}onMount(()=>{l(),document.addEventListener("paste",E)});function m(g){binding_callbacks[g?"unshift":"push"](()=>{s=g,n(1,s)})}function p(g){binding_callbacks[g?"unshift":"push"](()=>{r=g,n(0,r)})}return t.$$set=g=>{"onFilesPick"in g&&n(4,a=g.onFilesPick)},[r,s,d,_,a,m,p]}class DragAndDrop extends SvelteComponent{constructor(i){super(),init(this,i,instance$7,create_fragment$9,safe_not_equal,{onFilesPick:4})}}var eventemitter3={exports:{}};(function(t){var i=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function a(f,c,d,u,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new s(d,u||f,h),E=n?n+c:c;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function l(f,c){--f._eventsCount===0?f._events=new r:delete f._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)i.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var h=0,_=u.length,E=new Array(_);h<_;h++)E[h]=u[h].fn;return E},o.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},o.prototype.emit=function(c,d,u,h,_,E){var m=n?n+c:c;if(!this._events[m])return!1;var p=this._events[m],g=arguments.length,b,w;if(p.fn){switch(p.once&&this.removeListener(c,p.fn,void 0,!0),g){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,d),!0;case 3:return p.fn.call(p.context,d,u),!0;case 4:return p.fn.call(p.context,d,u,h),!0;case 5:return p.fn.call(p.context,d,u,h,_),!0;case 6:return p.fn.call(p.context,d,u,h,_,E),!0}for(w=1,b=new Array(g-1);w<g;w++)b[w-1]=arguments[w];p.fn.apply(p.context,b)}else{var x=p.length,y;for(w=0;w<x;w++)switch(p[w].once&&this.removeListener(c,p[w].fn,void 0,!0),g){case 1:p[w].fn.call(p[w].context);break;case 2:p[w].fn.call(p[w].context,d);break;case 3:p[w].fn.call(p[w].context,d,u);break;case 4:p[w].fn.call(p[w].context,d,u,h);break;default:if(!b)for(y=1,b=new Array(g-1);y<g;y++)b[y-1]=arguments[y];p[w].fn.apply(p[w].context,b)}}return!0},o.prototype.on=function(c,d,u){return a(this,c,d,u,!1)},o.prototype.once=function(c,d,u){return a(this,c,d,u,!0)},o.prototype.removeListener=function(c,d,u,h){var _=n?n+c:c;if(!this._events[_])return this;if(!d)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===d&&(!h||E.once)&&(!u||E.context===u)&&l(this,_);else{for(var m=0,p=[],g=E.length;m<g;m++)(E[m].fn!==d||h&&!E[m].once||u&&E[m].context!==u)&&p.push(E[m]);p.length?this._events[_]=p.length===1?p[0]:p:l(this,_)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var FileStatus=(t=>(t.Pending="Pending",t.WaitingAccept="WaitingAccept",t.Processing="Processing",t.Success="Success",t))(FileStatus||{});function humanFileSize(t){const i=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,i)).toFixed(2)+" "+["B","KB","MB","GB","TB"][i]}function create_if_block_5(t){let i,n,r="Type:",s,a=t[0].metaData.type+"",l;return{c(){i=element("p"),n=element("strong"),n.textContent=r,s=space(),l=text(a)},l(o){i=claim_element(o,"P",{});var f=children(i);n=claim_element(f,"STRONG",{"data-svelte-h":!0}),get_svelte_dataset(n)!=="svelte-1y9dw9w"&&(n.textContent=r),s=claim_space(f),l=claim_text(f,a),f.forEach(detach)},m(o,f){insert_hydration(o,i,f),append_hydration(i,n),append_hydration(i,s),append_hydration(i,l)},p(o,f){f&1&&a!==(a=o[0].metaData.type+"")&&set_data(l,a)},d(o){o&&detach(i)}}}function create_else_block_1(t){let i;return{c(){i=text("Pending")},l(n){i=claim_text(n,"Pending")},m(n,r){insert_hydration(n,i,r)},p:noop$1,d(n){n&&detach(i)}}}function create_if_block_4(t){let i;return{c(){i=text("Success")},l(n){i=claim_text(n,"Success")},m(n,r){insert_hydration(n,i,r)},p:noop$1,d(n){n&&detach(i)}}}function create_if_block_3$1(t){let i;return{c(){i=text("Waiting Accept")},l(n){i=claim_text(n,"Waiting Accept")},m(n,r){insert_hydration(n,i,r)},p:noop$1,d(n){n&&detach(i)}}}function create_if_block_2$1(t){let i,n,r=t[0].error.message+"",s;return{c(){i=element("div"),n=text("Error: "),s=text(r),this.h()},l(a){i=claim_element(a,"DIV",{class:!0});var l=children(i);n=claim_text(l,"Error: "),s=claim_text(l,r),l.forEach(detach),this.h()},h(){attr(i,"class","text-error")},m(a,l){insert_hydration(a,i,l),append_hydration(i,n),append_hydration(i,s)},p(a,l){l&1&&r!==(r=a[0].error.message+"")&&set_data(s,r)},d(a){a&&detach(i)}}}function create_if_block$4(t){let i;function n(a,l){return a[1]?create_if_block_1$2:create_else_block$3}let r=n(t),s=r(t);return{c(){s.c(),i=empty()},l(a){s.l(a),i=empty()},m(a,l){s.m(a,l),insert_hydration(a,i,l)},p(a,l){r===(r=n(a))&&s?s.p(a,l):(s.d(1),s=r(a),s&&(s.c(),s.m(i.parentNode,i)))},d(a){a&&detach(i),s.d(a)}}}function create_else_block$3(t){let i,n=humanFileSize(t[0].bitrate)+"",r,s;return{c(){i=text("Receiving: "),r=text(n),s=text("/sec")},l(a){i=claim_text(a,"Receiving: "),r=claim_text(a,n),s=claim_text(a,"/sec")},m(a,l){insert_hydration(a,i,l),insert_hydration(a,r,l),insert_hydration(a,s,l)},p(a,l){l&1&&n!==(n=humanFileSize(a[0].bitrate)+"")&&set_data(r,n)},d(a){a&&(detach(i),detach(r),detach(s))}}}function create_if_block_1$2(t){let i,n=humanFileSize(t[0].bitrate)+"",r,s;return{c(){i=text("Sending: "),r=text(n),s=text("/sec")},l(a){i=claim_text(a,"Sending: "),r=claim_text(a,n),s=claim_text(a,"/sec")},m(a,l){insert_hydration(a,i,l),insert_hydration(a,r,l),insert_hydration(a,s,l)},p(a,l){l&1&&n!==(n=humanFileSize(a[0].bitrate)+"")&&set_data(r,n)},d(a){a&&(detach(i),detach(r),detach(s))}}}function create_fragment$8(t){let i,n,r,s,a,l,o="Name:",f,c=t[0].metaData.name+"",d,u,h,_,E="Size:",m,p=humanFileSize(t[0].metaData.size)+"",g,b,w,x,y,S,v,T,k,R,A,N=t[0].metaData.type&&create_if_block_5(t);function C($,V){return $[0].status===FileStatus.Processing?create_if_block$4:$[0].error?create_if_block_2$1:$[0].status===FileStatus.WaitingAccept?create_if_block_3$1:$[0].status===FileStatus.Success?create_if_block_4:create_else_block_1}let F=C(t),L=F(t);const B=t[3].default,U=create_slot(B,t,t[2],null);return{c(){i=element("div"),n=element("div"),r=element("div"),s=element("div"),a=element("p"),l=element("strong"),l.textContent=o,f=space(),d=text(c),u=space(),h=element("p"),_=element("strong"),_.textContent=E,m=space(),g=text(p),b=space(),N&&N.c(),w=space(),x=element("div"),y=element("div"),L.c(),S=space(),v=element("progress"),k=space(),R=element("div"),U&&U.c(),this.h()},l($){i=claim_element($,"DIV",{class:!0});var V=children(i);n=claim_element(V,"DIV",{class:!0});var Z=children(n);r=claim_element(Z,"DIV",{class:!0});var G=children(r);s=claim_element(G,"DIV",{class:!0});var H=children(s);a=claim_element(H,"P",{});var K=children(a);l=claim_element(K,"STRONG",{"data-svelte-h":!0}),get_svelte_dataset(l)!=="svelte-obrarj"&&(l.textContent=o),f=claim_space(K),d=claim_text(K,c),K.forEach(detach),u=claim_space(H),h=claim_element(H,"P",{});var J=children(h);_=claim_element(J,"STRONG",{"data-svelte-h":!0}),get_svelte_dataset(_)!=="svelte-1g9uum1"&&(_.textContent=E),m=claim_space(J),g=claim_text(J,p),J.forEach(detach),b=claim_space(H),N&&N.l(H),H.forEach(detach),w=claim_space(G),x=claim_element(G,"DIV",{class:!0});var Y=children(x);y=claim_element(Y,"DIV",{class:!0});var q=children(y);L.l(q),q.forEach(detach),S=claim_space(Y),v=claim_element(Y,"PROGRESS",{max:!0,class:!0}),children(v).forEach(detach),Y.forEach(detach),k=claim_space(G),R=claim_element(G,"DIV",{class:!0});var te=children(R);U&&U.l(te),te.forEach(detach),G.forEach(detach),Z.forEach(detach),V.forEach(detach),this.h()},h(){attr(s,"class","col-span-4"),attr(y,"class","text-center"),v.value=T=isNaN(t[0].progress)?100:t[0].progress,attr(v,"max","100"),attr(v,"class","progress progress-accent"),attr(x,"class","col-span-4"),attr(R,"class","col-span-4 flex justify-end"),attr(r,"class","grid gap-2 grid-cols-4 items-center"),attr(n,"class","card-body p-4 text-xs xl:text-sm"),attr(i,"class","card bg-base-100 shadow-lg shadow-base-300")},m($,V){insert_hydration($,i,V),append_hydration(i,n),append_hydration(n,r),append_hydration(r,s),append_hydration(s,a),append_hydration(a,l),append_hydration(a,f),append_hydration(a,d),append_hydration(s,u),append_hydration(s,h),append_hydration(h,_),append_hydration(h,m),append_hydration(h,g),append_hydration(s,b),N&&N.m(s,null),append_hydration(r,w),append_hydration(r,x),append_hydration(x,y),L.m(y,null),append_hydration(x,S),append_hydration(x,v),append_hydration(r,k),append_hydration(r,R),U&&U.m(R,null),A=!0},p($,[V]){(!A||V&1)&&c!==(c=$[0].metaData.name+"")&&set_data(d,c),(!A||V&1)&&p!==(p=humanFileSize($[0].metaData.size)+"")&&set_data(g,p),$[0].metaData.type?N?N.p($,V):(N=create_if_block_5($),N.c(),N.m(s,null)):N&&(N.d(1),N=null),F===(F=C($))&&L?L.p($,V):(L.d(1),L=F($),L&&(L.c(),L.m(y,null))),(!A||V&1&&T!==(T=isNaN($[0].progress)?100:$[0].progress))&&(v.value=T),U&&U.p&&(!A||V&4)&&update_slot_base(U,B,$,$[2],A?get_slot_changes(B,$[2],V,null):get_all_dirty_from_scope($[2]),null)},i($){A||(transition_in(U,$),A=!0)},o($){transition_out(U,$),A=!1},d($){$&&detach(i),N&&N.d(),L.d(),U&&U.d($)}}}function instance$6(t,i,n){let{$$slots:r={},$$scope:s}=i,{fileDetail:a}=i,{isSender:l}=i;return t.$$set=o=>{"fileDetail"in o&&n(0,a=o.fileDetail),"isSender"in o&&n(1,l=o.isSender),"$$scope"in o&&n(2,s=o.$$scope)},[a,l,s,r]}class FileCard extends SvelteComponent{constructor(i){super(),init(this,i,instance$6,create_fragment$8,safe_not_equal,{fileDetail:0,isSender:1})}}function get_each_context$1(t,i,n){const r=t.slice();return r[10]=i[n][0],r[11]=i[n][1],r[13]=n,r}function create_if_block_3(t){let i,n="Send",r,s;function a(){return t[8](t[10])}return{c(){i=element("button"),i.textContent=n,this.h()},l(l){i=claim_element(l,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-1vdg4tr"&&(i.textContent=n),this.h()},h(){attr(i,"class","btn btn-primary")},m(l,o){insert_hydration(l,i,o),r||(s=listen(i,"click",a),r=!0)},p(l,o){t=l},d(l){l&&detach(i),r=!1,s()}}}function create_if_block_2(t){let i,n="Stop",r,s;function a(){return t[7](t[10])}return{c(){i=element("button"),i.textContent=n,this.h()},l(l){i=claim_element(l,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-4k0xsn"&&(i.textContent=n),this.h()},h(){attr(i,"class","btn btn-secondary")},m(l,o){insert_hydration(l,i,o),r||(s=listen(i,"click",a),r=!0)},p(l,o){t=l},d(l){l&&detach(i),r=!1,s()}}}function create_if_block_1$1(t){let i,n="Continue",r,s;function a(){return t[6](t[10])}return{c(){i=element("button"),i.textContent=n,this.h()},l(l){i=claim_element(l,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-qpn7z"&&(i.textContent=n),this.h()},h(){attr(i,"class","btn btn-secondary")},m(l,o){insert_hydration(l,i,o),r||(s=listen(i,"click",a),r=!0)},p(l,o){t=l},d(l){l&&detach(i),r=!1,s()}}}function create_if_block$3(t){let i,n="Resend",r,s;function a(){return t[5](t[10])}return{c(){i=element("button"),i.textContent=n,this.h()},l(l){i=claim_element(l,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-1gzfc76"&&(i.textContent=n),this.h()},h(){attr(i,"class","btn btn-primary")},m(l,o){insert_hydration(l,i,o),r||(s=listen(i,"click",a),r=!0)},p(l,o){t=l},d(l){l&&detach(i),r=!1,s()}}}function create_default_slot$1(t){let i,n,r,s="Remove",a,l,o;function f(h,_){if(h[11].error)return create_if_block$3;if(h[11].stop)return create_if_block_1$1;if(h[11].status===FileStatus.Processing)return create_if_block_2;if(h[11].status!==FileStatus.Success&&h[11].status!==FileStatus.WaitingAccept)return create_if_block_3}let c=f(t),d=c&&c(t);function u(){return t[9](t[10])}return{c(){i=element("div"),d&&d.c(),n=space(),r=element("button"),r.textContent=s,a=space(),this.h()},l(h){i=claim_element(h,"DIV",{class:!0});var _=children(i);d&&d.l(_),n=claim_space(_),r=claim_element(_,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-esc8sv"&&(r.textContent=s),_.forEach(detach),a=claim_space(h),this.h()},h(){attr(r,"class","btn btn-error"),attr(i,"class","flex-none")},m(h,_){insert_hydration(h,i,_),d&&d.m(i,null),append_hydration(i,n),append_hydration(i,r),insert_hydration(h,a,_),l||(o=listen(r,"click",u),l=!0)},p(h,_){t=h,c===(c=f(t))&&d?d.p(t,_):(d&&d.d(1),d=c&&c(t),d&&(d.c(),d.m(i,n)))},d(h){h&&(detach(i),detach(a)),d&&d.d(),l=!1,o()}}}function create_each_block$1(t,i){let n,r,s;return r=new FileCard({props:{fileDetail:i[11],isSender:!0,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:i}}}),{key:t,first:null,c(){n=empty(),create_component(r.$$.fragment),this.h()},l(a){n=empty(),claim_component(r.$$.fragment,a),this.h()},h(){this.first=n},m(a,l){insert_hydration(a,n,l),mount_component(r,a,l),s=!0},p(a,l){i=a;const o={};l&1&&(o.fileDetail=i[11]),l&16415&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(a){s||(transition_in(r.$$.fragment,a),s=!0)},o(a){transition_out(r.$$.fragment,a),s=!1},d(a){a&&detach(n),destroy_component(r,a)}}}function create_fragment$7(t){let i,n=[],r=new Map,s,a=ensure_array_like(Object.entries(t[0]));const l=o=>o[10];for(let o=0;o<a.length;o+=1){let f=get_each_context$1(t,a,o),c=l(f);r.set(c,n[o]=create_each_block$1(c,f))}return{c(){i=element("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){i=claim_element(o,"DIV",{class:!0});var f=children(i);for(let c=0;c<n.length;c+=1)n[c].l(f);f.forEach(detach),this.h()},h(){attr(i,"class","grid gap-4")},m(o,f){insert_hydration(o,i,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(i,null);s=!0},p(o,[f]){f&31&&(a=ensure_array_like(Object.entries(o[0])),group_outros(),n=update_keyed_each(n,f,l,1,o,a,r,i,outro_and_destroy_block,create_each_block$1,null,get_each_context$1),check_outros())},i(o){if(!s){for(let f=0;f<a.length;f+=1)transition_in(n[f]);s=!0}},o(o){for(let f=0;f<n.length;f+=1)transition_out(n[f]);s=!1},d(o){o&&detach(i);for(let f=0;f<n.length;f+=1)n[f].d()}}}function instance$5(t,i,n){let{sendingFiles:r}=i,{onRemove:s}=i,{onSend:a}=i,{onStop:l}=i,{onContinue:o}=i;const f=_=>a(_),c=_=>o(_),d=_=>l(_),u=_=>a(_),h=_=>s(_);return t.$$set=_=>{"sendingFiles"in _&&n(0,r=_.sendingFiles),"onRemove"in _&&n(1,s=_.onRemove),"onSend"in _&&n(2,a=_.onSend),"onStop"in _&&n(3,l=_.onStop),"onContinue"in _&&n(4,o=_.onContinue)},[r,s,a,l,o,f,c,d,u,h]}class SendingFileList extends SvelteComponent{constructor(i){super(),init(this,i,instance$5,create_fragment$7,safe_not_equal,{sendingFiles:0,onRemove:1,onSend:2,onStop:3,onContinue:4})}}function validateFileMetadata(t,i){if(i&&t.size>i)return new Error(`file is exceed max size at ${humanFileSize(i)}`)}function create_else_block$2(t){let i,n="No files selected";return{c(){i=element("p"),i.textContent=n,this.h()},l(r){i=claim_element(r,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-1e8ty6u"&&(i.textContent=n),this.h()},h(){attr(i,"class","mt-4")},m(r,s){insert_hydration(r,i,s)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(i)}}}function create_if_block$2(t){let i,n,r,s="Send all files",a,l,o;return i=new SendingFileList({props:{sendingFiles:t[0],onRemove:t[5],onSend:t[1],onStop:t[3],onContinue:t[4]}}),{c(){create_component(i.$$.fragment),n=space(),r=element("button"),r.textContent=s,this.h()},l(f){claim_component(i.$$.fragment,f),n=claim_space(f),r=claim_element(f,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-18kiswc"&&(r.textContent=s),this.h()},h(){attr(r,"class","btn btn-primary mt-2")},m(f,c){mount_component(i,f,c),insert_hydration(f,n,c),insert_hydration(f,r,c),a=!0,l||(o=listen(r,"click",t[2]),l=!0)},p(f,c){const d={};c&1&&(d.sendingFiles=f[0]),i.$set(d)},i(f){a||(transition_in(i.$$.fragment,f),a=!0)},o(f){transition_out(i.$$.fragment,f),a=!1},d(f){f&&(detach(n),detach(r)),destroy_component(i,f),l=!1,o()}}}function create_fragment$6(t){let i,n,r,s,a,l,o;n=new DragAndDrop({props:{onFilesPick:t[6]}});const f=[create_if_block$2,create_else_block$2],c=[];function d(u,h){return h&1&&(s=null),s==null&&(s=Object.keys(u[0]).length>0),s?0:1}return a=d(t,-1),l=c[a]=f[a](t),{c(){i=element("div"),create_component(n.$$.fragment),r=space(),l.c(),this.h()},l(u){i=claim_element(u,"DIV",{class:!0});var h=children(i);claim_component(n.$$.fragment,h),r=claim_space(h),l.l(h),h.forEach(detach),this.h()},h(){attr(i,"class","grid gap-4")},m(u,h){insert_hydration(u,i,h),mount_component(n,i,null),append_hydration(i,r),c[a].m(i,null),o=!0},p(u,[h]){let _=a;a=d(u,h),a===_?c[a].p(u,h):(group_outros(),transition_out(c[_],1,1,()=>{c[_]=null}),check_outros(),l=c[a],l?l.p(u,h):(l=c[a]=f[a](u),l.c()),transition_in(l,1),l.m(i,null))},i(u){o||(transition_in(n.$$.fragment,u),transition_in(l),o=!0)},o(u){transition_out(n.$$.fragment,u),transition_out(l),o=!1},d(u){u&&detach(i),destroy_component(n),c[a].d()}}}function instance$4(t,i,n){let{dataChannel:r}=i,{chunkSize:s}=i,{isEncrypt:a}=i,{rsaPub:l}=i,o={};function f(m,p){const g=o[m];g&&g.event&&g.event.emit(receiveEventToJSON(p))}async function c(m){const p=o[m];let g=0;n(0,o[m].error=void 0,o),n(0,o[m].stop=!1,o),n(0,o[m].event=new EventEmitter,o),o[m].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVER_ACCEPT),async()=>{n(0,o[m].status=FileStatus.Processing,o),n(0,o[m].startTime=Date.now(),o),await w()}),o[m].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVED_CHUNK),async()=>{if(!o[m].stop){if(o[m].error||o[m].status!=FileStatus.Processing){n(0,o[m].progress=0,o),n(0,o[m].status=FileStatus.Pending,o),n(0,o[m].stop=!1,o);return}if(g<p.metaData.size){await w();return}n(0,o[m].status=FileStatus.Success,o),addToastMessage(`File ${p.metaData.name} sent successfully`,"success")}}),o[m].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_VALIDATE_ERROR),()=>{addToastMessage("Receiver validate error","error"),n(0,o[m].error=new Error("Receiver validate error"),o),n(0,o[m].status=FileStatus.Pending,o)}),o[m].event?.on(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVER_REJECT),()=>{addToastMessage("Receiver reject the file","error"),n(0,o[m].error=new Error("Receiver reject the file"),o),n(0,o[m].status=FileStatus.Pending,o)});async function b(x){if(a){const y=o[m].aesKey;if(y){const S=await encryptAesGcm(y,x);r.send(Message.encode({id:p.metaData.name,chunk:S}).finish());return}}r.send(Message.encode({id:p.metaData.name,chunk:new Uint8Array(x)}).finish())}async function w(){const y=await p.file.slice(g,g+s).arrayBuffer();await b(y),g+=y.byteLength,n(0,o[m].progress=Math.round(g/p.metaData.size*100),o),n(0,o[m].bitrate=Math.round(g/((Date.now()-o[m].startTime)/1e3)),o)}r.send(Message.encode({id:p.metaData.name,metaData:p.metaData}).finish()),n(0,o[m].status=FileStatus.WaitingAccept,o)}async function d(){for(const m of Object.keys(o))o[m].status!=FileStatus.Pending||o[m].error||await c(m)}async function u(m){n(0,o[m].stop=!0,o)}async function h(m){n(0,o[m].stop=!1,o),o[m].event?.emit(receiveEventToJSON(ReceiveEvent.EVENT_RECEIVED_CHUNK))}function _(m){o[m].status===FileStatus.Processing&&n(0,o[m].stop=!0,o),delete o[m],n(0,o)}function E(m){Array.from(m).forEach(async p=>{let g,b=new Uint8Array;a&&(g=await generateAesKey(),b=await encryptAesKeyWithRsaPublicKey(l,g));const w={name:p.name,size:p.size,type:p.type,key:b},x=validateFileMetadata(w);x&&addToastMessage(`${p.name} ${x.message}`,"error"),n(0,o[p.name]={file:p,metaData:w,progress:0,bitrate:0,stop:!1,error:x,startTime:0,status:FileStatus.Pending,aesKey:g},o)})}return t.$$set=m=>{"dataChannel"in m&&n(7,r=m.dataChannel),"chunkSize"in m&&n(8,s=m.chunkSize),"isEncrypt"in m&&n(9,a=m.isEncrypt),"rsaPub"in m&&n(10,l=m.rsaPub)},[o,c,d,u,h,_,E,r,s,a,l,f]}class Sender extends SvelteComponent{constructor(i){super(),init(this,i,instance$4,create_fragment$6,safe_not_equal,{dataChannel:7,chunkSize:8,isEncrypt:9,rsaPub:10,onReceiveEvent:11})}get onReceiveEvent(){return this.$$.ctx[11]}}function get_each_context(t,i,n){const r=t.slice();return r[9]=i[n][0],r[10]=i[n][1],r[12]=n,r}function create_else_block$1(t){let i,n,r="Remove",s,a,l=t[10].status===FileStatus.Success&&create_if_block_1(t);function o(){return t[8](t[9])}return{c(){l&&l.c(),i=space(),n=element("button"),n.textContent=r,this.h()},l(f){l&&l.l(f),i=claim_space(f),n=claim_element(f,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(n)!=="svelte-esc8sv"&&(n.textContent=r),this.h()},h(){attr(n,"class","btn btn-error")},m(f,c){l&&l.m(f,c),insert_hydration(f,i,c),insert_hydration(f,n,c),s||(a=listen(n,"click",o),s=!0)},p(f,c){t=f,t[10].status===FileStatus.Success?l?l.p(t,c):(l=create_if_block_1(t),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},d(f){f&&(detach(i),detach(n)),l&&l.d(f),s=!1,a()}}}function create_if_block$1(t){let i,n="Accept",r,s,a="Deny",l,o;function f(){return t[5](t[9])}function c(){return t[6](t[9])}return{c(){i=element("button"),i.textContent=n,r=space(),s=element("button"),s.textContent=a,this.h()},l(d){i=claim_element(d,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-10vm947"&&(i.textContent=n),r=claim_space(d),s=claim_element(d,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-aytkm0"&&(s.textContent=a),this.h()},h(){attr(i,"class","btn btn-primary"),attr(s,"class","btn btn-ghost")},m(d,u){insert_hydration(d,i,u),insert_hydration(d,r,u),insert_hydration(d,s,u),l||(o=[listen(i,"click",f),listen(s,"click",c)],l=!0)},p(d,u){t=d},d(d){d&&(detach(i),detach(r),detach(s)),l=!1,run_all(o)}}}function create_if_block_1(t){let i,n="Download",r,s;function a(){return t[7](t[9])}return{c(){i=element("button"),i.textContent=n,this.h()},l(l){i=claim_element(l,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-1nb88yv"&&(i.textContent=n),this.h()},h(){attr(i,"class","btn btn-primary")},m(l,o){insert_hydration(l,i,o),r||(s=listen(i,"click",a),r=!0)},p(l,o){t=l},d(l){l&&detach(i),r=!1,s()}}}function create_default_slot(t){let i,n;function r(l,o){return l[10].status===FileStatus.WaitingAccept&&!l[10].error?create_if_block$1:create_else_block$1}let s=r(t),a=s(t);return{c(){i=element("div"),a.c(),n=space(),this.h()},l(l){i=claim_element(l,"DIV",{class:!0});var o=children(i);a.l(o),o.forEach(detach),n=claim_space(l),this.h()},h(){attr(i,"class","flex-none")},m(l,o){insert_hydration(l,i,o),a.m(i,null),insert_hydration(l,n,o)},p(l,o){s===(s=r(l))&&a?a.p(l,o):(a.d(1),a=s(l),a&&(a.c(),a.m(i,null)))},d(l){l&&(detach(i),detach(n)),a.d()}}}function create_each_block(t,i){let n,r,s;return r=new FileCard({props:{fileDetail:i[10],isSender:!1,$$slots:{default:[create_default_slot]},$$scope:{ctx:i}}}),{key:t,first:null,c(){n=empty(),create_component(r.$$.fragment),this.h()},l(a){n=empty(),claim_component(r.$$.fragment,a),this.h()},h(){this.first=n},m(a,l){insert_hydration(a,n,l),mount_component(r,a,l),s=!0},p(a,l){i=a;const o={};l&1&&(o.fileDetail=i[10]),l&8223&&(o.$$scope={dirty:l,ctx:i}),r.$set(o)},i(a){s||(transition_in(r.$$.fragment,a),s=!0)},o(a){transition_out(r.$$.fragment,a),s=!1},d(a){a&&detach(n),destroy_component(r,a)}}}function create_fragment$5(t){let i,n=[],r=new Map,s,a=ensure_array_like(Object.entries(t[0]));const l=o=>o[9];for(let o=0;o<a.length;o+=1){let f=get_each_context(t,a,o),c=l(f);r.set(c,n[o]=create_each_block(c,f))}return{c(){i=element("div");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){i=claim_element(o,"DIV",{class:!0});var f=children(i);for(let c=0;c<n.length;c+=1)n[c].l(f);f.forEach(detach),this.h()},h(){attr(i,"class","grid gap-8")},m(o,f){insert_hydration(o,i,f);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(i,null);s=!0},p(o,[f]){f&31&&(a=ensure_array_like(Object.entries(o[0])),group_outros(),n=update_keyed_each(n,f,l,1,o,a,r,i,outro_and_destroy_block,create_each_block,null,get_each_context),check_outros())},i(o){if(!s){for(let f=0;f<a.length;f+=1)transition_in(n[f]);s=!0}},o(o){for(let f=0;f<n.length;f+=1)transition_out(n[f]);s=!1},d(o){o&&detach(i);for(let f=0;f<n.length;f+=1)n[f].d()}}}function instance$3(t,i,n){let{receivingFiles:r}=i,{onRemove:s}=i,{onDownload:a}=i,{onAccept:l}=i,{onDeny:o}=i;const f=h=>l(h),c=h=>o(h),d=h=>a(h),u=h=>s(h);return t.$$set=h=>{"receivingFiles"in h&&n(0,r=h.receivingFiles),"onRemove"in h&&n(1,s=h.onRemove),"onDownload"in h&&n(2,a=h.onDownload),"onAccept"in h&&n(3,l=h.onAccept),"onDeny"in h&&n(4,o=h.onDeny)},[r,s,a,l,o,f,c,d,u]}class ReceivingFileList extends SvelteComponent{constructor(i){super(),init(this,i,instance$3,create_fragment$5,safe_not_equal,{receivingFiles:0,onRemove:1,onDownload:2,onAccept:3,onDeny:4})}}const MAX_BITS$1=15,D_CODES=30,BL_CODES=19,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,HEAP_SIZE=2*L_CODES+1,END_BLOCK=256,MAX_BL_BITS=7,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,Buf_size=8*2,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_DEFAULT_STRATEGY=0,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5;function extractArray(t){return flatArray(t.map(([i,n])=>new Array(i).fill(n,0,i)))}function flatArray(t){return t.reduce((i,n)=>i.concat(Array.isArray(n)?flatArray(n):n),[])}const _dist_code=[0,1,2,3].concat(...extractArray([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Tree(){const t=this;function i(s){const a=t.dyn_tree,l=t.stat_desc.static_tree,o=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,u,h,_,E,m,p=0;for(_=0;_<=MAX_BITS$1;_++)s.bl_count[_]=0;for(a[s.heap[s.heap_max]*2+1]=0,d=s.heap_max+1;d<HEAP_SIZE;d++)u=s.heap[d],_=a[a[u*2+1]*2+1]+1,_>c&&(_=c,p++),a[u*2+1]=_,!(u>t.max_code)&&(s.bl_count[_]++,E=0,u>=f&&(E=o[u-f]),m=a[u*2],s.opt_len+=m*(_+E),l&&(s.static_len+=m*(l[u*2+1]+E)));if(p!==0){do{for(_=c-1;s.bl_count[_]===0;)_--;s.bl_count[_]--,s.bl_count[_+1]+=2,s.bl_count[c]--,p-=2}while(p>0);for(_=c;_!==0;_--)for(u=s.bl_count[_];u!==0;)h=s.heap[--d],!(h>t.max_code)&&(a[h*2+1]!=_&&(s.opt_len+=(_-a[h*2+1])*a[h*2],a[h*2+1]=_),u--)}}function n(s,a){let l=0;do l|=s&1,s>>>=1,l<<=1;while(--a>0);return l>>>1}function r(s,a,l){const o=[];let f=0,c,d,u;for(c=1;c<=MAX_BITS$1;c++)o[c]=f=f+l[c-1]<<1;for(d=0;d<=a;d++)u=s[d*2+1],u!==0&&(s[d*2]=n(o[u]++,u))}t.build_tree=function(s){const a=t.dyn_tree,l=t.stat_desc.static_tree,o=t.stat_desc.elems;let f,c,d=-1,u;for(s.heap_len=0,s.heap_max=HEAP_SIZE,f=0;f<o;f++)a[f*2]!==0?(s.heap[++s.heap_len]=d=f,s.depth[f]=0):a[f*2+1]=0;for(;s.heap_len<2;)u=s.heap[++s.heap_len]=d<2?++d:0,a[u*2]=1,s.depth[u]=0,s.opt_len--,l&&(s.static_len-=l[u*2+1]);for(t.max_code=d,f=Math.floor(s.heap_len/2);f>=1;f--)s.pqdownheap(a,f);u=o;do f=s.heap[1],s.heap[1]=s.heap[s.heap_len--],s.pqdownheap(a,1),c=s.heap[1],s.heap[--s.heap_max]=f,s.heap[--s.heap_max]=c,a[u*2]=a[f*2]+a[c*2],s.depth[u]=Math.max(s.depth[f],s.depth[c])+1,a[f*2+1]=a[c*2+1]=u,s.heap[1]=u++,s.pqdownheap(a,1);while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],i(s),r(a,t.max_code,s.bl_count)}}Tree._length_code=[0,1,2,3,4,5,6,7].concat(...extractArray([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));Tree.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];Tree.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];Tree.d_code=function(t){return t<256?_dist_code[t]:_dist_code[256+(t>>>7)]};Tree.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];Tree.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];Tree.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];Tree.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function StaticTree(t,i,n,r,s){const a=this;a.static_tree=t,a.extra_bits=i,a.extra_base=n,a.elems=r,a.max_length=s}const static_ltree2_first_part=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],static_ltree2_second_part=extractArray([[144,8],[112,9],[24,7],[8,8]]);StaticTree.static_ltree=flatArray(static_ltree2_first_part.map((t,i)=>[t,static_ltree2_second_part[i]]));const static_dtree_first_part=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],static_dtree_second_part=extractArray([[30,5]]);StaticTree.static_dtree=flatArray(static_dtree_first_part.map((t,i)=>[t,static_dtree_second_part[i]]));StaticTree.static_l_desc=new StaticTree(StaticTree.static_ltree,Tree.extra_lbits,LITERALS+1,L_CODES,MAX_BITS$1);StaticTree.static_d_desc=new StaticTree(StaticTree.static_dtree,Tree.extra_dbits,0,D_CODES,MAX_BITS$1);StaticTree.static_bl_desc=new StaticTree(null,Tree.extra_blbits,0,BL_CODES,MAX_BL_BITS);const MAX_MEM_LEVEL=9,DEF_MEM_LEVEL=8;function Config(t,i,n,r,s){const a=this;a.good_length=t,a.max_lazy=i,a.nice_length=n,a.max_chain=r,a.func=s}const STORED$1=0,FAST=1,SLOW=2,config_table=[new Config(0,0,0,0,STORED$1),new Config(4,4,8,4,FAST),new Config(4,5,16,8,FAST),new Config(4,6,32,32,FAST),new Config(4,4,16,16,SLOW),new Config(8,16,32,32,SLOW),new Config(8,16,128,128,SLOW),new Config(8,32,128,256,SLOW),new Config(32,128,258,1024,SLOW),new Config(32,258,258,4096,SLOW)],z_errmsg=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],NeedMore=0,BlockDone=1,FinishStarted=2,FinishDone=3,PRESET_DICT$1=32,INIT_STATE=42,BUSY_STATE=113,FINISH_STATE=666,Z_DEFLATED$1=8,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;function smaller(t,i,n,r){const s=t[i*2],a=t[n*2];return s<a||s==a&&r[i]<=r[n]}function Deflate(){const t=this;let i,n,r,s,a,l,o,f,c,d,u,h,_,E,m,p,g,b,w,x,y,S,v,T,k,R,A,N,C,F,L,B,U;const $=new Tree,V=new Tree,Z=new Tree;t.depth=[];let G,H,K,J,Y,q;t.bl_count=[],t.heap=[],L=[],B=[],U=[];function te(){c=2*a,u[_-1]=0;for(let D=0;D<_-1;D++)u[D]=0;R=config_table[A].max_lazy,C=config_table[A].good_length,F=config_table[A].nice_length,k=config_table[A].max_chain,y=0,g=0,v=0,b=T=MIN_MATCH-1,x=0,h=0}function le(){let D;for(D=0;D<L_CODES;D++)L[D*2]=0;for(D=0;D<D_CODES;D++)B[D*2]=0;for(D=0;D<BL_CODES;D++)U[D*2]=0;L[END_BLOCK*2]=1,t.opt_len=t.static_len=0,H=K=0}function ne(){$.dyn_tree=L,$.stat_desc=StaticTree.static_l_desc,V.dyn_tree=B,V.stat_desc=StaticTree.static_d_desc,Z.dyn_tree=U,Z.stat_desc=StaticTree.static_bl_desc,Y=0,q=0,J=8,le()}t.pqdownheap=function(D,O){const I=t.heap,M=I[O];let P=O<<1;for(;P<=t.heap_len&&(P<t.heap_len&&smaller(D,I[P+1],I[P],t.depth)&&P++,!smaller(D,M,I[P],t.depth));)I[O]=I[P],O=P,P<<=1;I[O]=M};function ae(D,O){let I=-1,M,P=D[0*2+1],z=0,W=7,ee=4;P===0&&(W=138,ee=3),D[(O+1)*2+1]=65535;for(let re=0;re<=O;re++)M=P,P=D[(re+1)*2+1],!(++z<W&&M==P)&&(z<ee?U[M*2]+=z:M!==0?(M!=I&&U[M*2]++,U[REP_3_6*2]++):z<=10?U[REPZ_3_10*2]++:U[REPZ_11_138*2]++,z=0,I=M,P===0?(W=138,ee=3):M==P?(W=6,ee=3):(W=7,ee=4))}function se(){let D;for(ae(L,$.max_code),ae(B,V.max_code),Z.build_tree(t),D=BL_CODES-1;D>=3&&U[Tree.bl_order[D]*2+1]===0;D--);return t.opt_len+=3*(D+1)+5+5+4,D}function X(D){t.pending_buf[t.pending++]=D}function oe(D){X(D&255),X(D>>>8&255)}function pe(D){X(D>>8&255),X(D&255&255)}function j(D,O){let I;const M=O;q>Buf_size-M?(I=D,Y|=I<<q&65535,oe(Y),Y=I>>>Buf_size-q,q+=M-Buf_size):(Y|=D<<q&65535,q+=M)}function Q(D,O){const I=D*2;j(O[I]&65535,O[I+1]&65535)}function ue(D,O){let I,M=-1,P,z=D[0*2+1],W=0,ee=7,re=4;for(z===0&&(ee=138,re=3),I=0;I<=O;I++)if(P=z,z=D[(I+1)*2+1],!(++W<ee&&P==z)){if(W<re)do Q(P,U);while(--W!==0);else P!==0?(P!=M&&(Q(P,U),W--),Q(REP_3_6,U),j(W-3,2)):W<=10?(Q(REPZ_3_10,U),j(W-3,3)):(Q(REPZ_11_138,U),j(W-11,7));W=0,M=P,z===0?(ee=138,re=3):P==z?(ee=6,re=3):(ee=7,re=4)}}function fe(D,O,I){let M;for(j(D-257,5),j(O-1,5),j(I-4,4),M=0;M<I;M++)j(U[Tree.bl_order[M]*2+1],3);ue(L,D-1),ue(B,O-1)}function de(){q==16?(oe(Y),Y=0,q=0):q>=8&&(X(Y&255),Y>>>=8,q-=8)}function ie(){j(STATIC_TREES<<1,3),Q(END_BLOCK,StaticTree.static_ltree),de(),1+J+10-q<9&&(j(STATIC_TREES<<1,3),Q(END_BLOCK,StaticTree.static_ltree),de()),J=7}function _e(D,O){let I,M,P;if(t.dist_buf[H]=D,t.lc_buf[H]=O&255,H++,D===0?L[O*2]++:(K++,D--,L[(Tree._length_code[O]+LITERALS+1)*2]++,B[Tree.d_code(D)*2]++),!(H&8191)&&A>2){for(I=H*8,M=y-g,P=0;P<D_CODES;P++)I+=B[P*2]*(5+Tree.extra_dbits[P]);if(I>>>=3,K<Math.floor(H/2)&&I<Math.floor(M/2))return!0}return H==G-1}function me(D,O){let I,M,P=0,z,W;if(H!==0)do I=t.dist_buf[P],M=t.lc_buf[P],P++,I===0?Q(M,D):(z=Tree._length_code[M],Q(z+LITERALS+1,D),W=Tree.extra_lbits[z],W!==0&&(M-=Tree.base_length[z],j(M,W)),I--,z=Tree.d_code(I),Q(z,O),W=Tree.extra_dbits[z],W!==0&&(I-=Tree.base_dist[z],j(I,W)));while(P<H);Q(END_BLOCK,D),J=D[END_BLOCK*2+1]}function he(){q>8?oe(Y):q>0&&X(Y&255),Y=0,q=0}function ye(D,O,I){he(),J=8,I&&(oe(O),oe(~O)),t.pending_buf.set(f.subarray(D,D+O),t.pending),t.pending+=O}function be(D,O,I){j((STORED_BLOCK<<1)+(I?1:0),3),ye(D,O,!0)}function Se(D,O,I){let M,P,z=0;A>0?($.build_tree(t),V.build_tree(t),z=se(),M=t.opt_len+3+7>>>3,P=t.static_len+3+7>>>3,P<=M&&(M=P)):M=P=O+5,O+4<=M&&D!=-1?be(D,O,I):P==M?(j((STATIC_TREES<<1)+(I?1:0),3),me(StaticTree.static_ltree,StaticTree.static_dtree)):(j((DYN_TREES<<1)+(I?1:0),3),fe($.max_code+1,V.max_code+1,z+1),me(L,B)),le(),I&&he()}function ce(D){Se(g>=0?g:-1,y-g,D),g=y,i.flush_pending()}function ge(){let D,O,I,M;do{if(M=c-v-y,M===0&&y===0&&v===0)M=a;else if(M==-1)M--;else if(y>=a+a-MIN_LOOKAHEAD){f.set(f.subarray(a,a+a),0),S-=a,y-=a,g-=a,D=_,I=D;do O=u[--I]&65535,u[I]=O>=a?O-a:0;while(--D!==0);D=a,I=D;do O=d[--I]&65535,d[I]=O>=a?O-a:0;while(--D!==0);M+=a}if(i.avail_in===0)return;D=i.read_buf(f,y+v,M),v+=D,v>=MIN_MATCH&&(h=f[y]&255,h=(h<<p^f[y+1]&255)&m)}while(v<MIN_LOOKAHEAD&&i.avail_in!==0)}function Ae(D){let O=65535,I;for(O>r-5&&(O=r-5);;){if(v<=1){if(ge(),v===0&&D==Z_NO_FLUSH$1)return NeedMore;if(v===0)break}if(y+=v,v=0,I=g+O,(y===0||y>=I)&&(v=y-I,y=I,ce(!1),i.avail_out===0)||y-g>=a-MIN_LOOKAHEAD&&(ce(!1),i.avail_out===0))return NeedMore}return ce(D==Z_FINISH$1),i.avail_out===0?D==Z_FINISH$1?FinishStarted:NeedMore:D==Z_FINISH$1?FinishDone:BlockDone}function we(D){let O=k,I=y,M,P,z=T;const W=y>a-MIN_LOOKAHEAD?y-(a-MIN_LOOKAHEAD):0;let ee=F;const re=o,Ee=y+MAX_MATCH;let xe=f[I+z-1],ve=f[I+z];T>=C&&(O>>=2),ee>v&&(ee=v);do if(M=D,!(f[M+z]!=ve||f[M+z-1]!=xe||f[M]!=f[I]||f[++M]!=f[I+1])){I+=2,M++;do;while(f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&f[++I]==f[++M]&&I<Ee);if(P=MAX_MATCH-(Ee-I),I=Ee-MAX_MATCH,P>z){if(S=D,z=P,P>=ee)break;xe=f[I+z-1],ve=f[I+z]}}while((D=d[D&re]&65535)>W&&--O!==0);return z<=v?z:v}function Te(D){let O=0,I;for(;;){if(v<MIN_LOOKAHEAD){if(ge(),v<MIN_LOOKAHEAD&&D==Z_NO_FLUSH$1)return NeedMore;if(v===0)break}if(v>=MIN_MATCH&&(h=(h<<p^f[y+(MIN_MATCH-1)]&255)&m,O=u[h]&65535,d[y&o]=u[h],u[h]=y),O!==0&&(y-O&65535)<=a-MIN_LOOKAHEAD&&N!=Z_HUFFMAN_ONLY&&(b=we(O)),b>=MIN_MATCH)if(I=_e(y-S,b-MIN_MATCH),v-=b,b<=R&&v>=MIN_MATCH){b--;do y++,h=(h<<p^f[y+(MIN_MATCH-1)]&255)&m,O=u[h]&65535,d[y&o]=u[h],u[h]=y;while(--b!==0);y++}else y+=b,b=0,h=f[y]&255,h=(h<<p^f[y+1]&255)&m;else I=_e(0,f[y]&255),v--,y++;if(I&&(ce(!1),i.avail_out===0))return NeedMore}return ce(D==Z_FINISH$1),i.avail_out===0?D==Z_FINISH$1?FinishStarted:NeedMore:D==Z_FINISH$1?FinishDone:BlockDone}function Re(D){let O=0,I,M;for(;;){if(v<MIN_LOOKAHEAD){if(ge(),v<MIN_LOOKAHEAD&&D==Z_NO_FLUSH$1)return NeedMore;if(v===0)break}if(v>=MIN_MATCH&&(h=(h<<p^f[y+(MIN_MATCH-1)]&255)&m,O=u[h]&65535,d[y&o]=u[h],u[h]=y),T=b,w=S,b=MIN_MATCH-1,O!==0&&T<R&&(y-O&65535)<=a-MIN_LOOKAHEAD&&(N!=Z_HUFFMAN_ONLY&&(b=we(O)),b<=5&&(N==Z_FILTERED||b==MIN_MATCH&&y-S>4096)&&(b=MIN_MATCH-1)),T>=MIN_MATCH&&b<=T){M=y+v-MIN_MATCH,I=_e(y-1-w,T-MIN_MATCH),v-=T-1,T-=2;do++y<=M&&(h=(h<<p^f[y+(MIN_MATCH-1)]&255)&m,O=u[h]&65535,d[y&o]=u[h],u[h]=y);while(--T!==0);if(x=0,b=MIN_MATCH-1,y++,I&&(ce(!1),i.avail_out===0))return NeedMore}else if(x!==0){if(I=_e(0,f[y-1]&255),I&&ce(!1),y++,v--,i.avail_out===0)return NeedMore}else x=1,y++,v--}return x!==0&&(I=_e(0,f[y-1]&255),x=0),ce(D==Z_FINISH$1),i.avail_out===0?D==Z_FINISH$1?FinishStarted:NeedMore:D==Z_FINISH$1?FinishDone:BlockDone}function ke(D){return D.total_in=D.total_out=0,D.msg=null,t.pending=0,t.pending_out=0,n=BUSY_STATE,s=Z_NO_FLUSH$1,ne(),te(),Z_OK$1}t.deflateInit=function(D,O,I,M,P,z){return M||(M=Z_DEFLATED$1),P||(P=DEF_MEM_LEVEL),z||(z=Z_DEFAULT_STRATEGY),D.msg=null,O==Z_DEFAULT_COMPRESSION&&(O=6),P<1||P>MAX_MEM_LEVEL||M!=Z_DEFLATED$1||I<9||I>15||O<0||O>9||z<0||z>Z_HUFFMAN_ONLY?Z_STREAM_ERROR$1:(D.dstate=t,l=I,a=1<<l,o=a-1,E=P+7,_=1<<E,m=_-1,p=Math.floor((E+MIN_MATCH-1)/MIN_MATCH),f=new Uint8Array(a*2),d=[],u=[],G=1<<P+6,t.pending_buf=new Uint8Array(G*4),r=G*4,t.dist_buf=new Uint16Array(G),t.lc_buf=new Uint8Array(G),A=O,N=z,ke(D))},t.deflateEnd=function(){return n!=INIT_STATE&&n!=BUSY_STATE&&n!=FINISH_STATE?Z_STREAM_ERROR$1:(t.lc_buf=null,t.dist_buf=null,t.pending_buf=null,u=null,d=null,f=null,t.dstate=null,n==BUSY_STATE?Z_DATA_ERROR$1:Z_OK$1)},t.deflateParams=function(D,O,I){let M=Z_OK$1;return O==Z_DEFAULT_COMPRESSION&&(O=6),O<0||O>9||I<0||I>Z_HUFFMAN_ONLY?Z_STREAM_ERROR$1:(config_table[A].func!=config_table[O].func&&D.total_in!==0&&(M=D.deflate(Z_PARTIAL_FLUSH)),A!=O&&(A=O,R=config_table[A].max_lazy,C=config_table[A].good_length,F=config_table[A].nice_length,k=config_table[A].max_chain),N=I,M)},t.deflateSetDictionary=function(D,O,I){let M=I,P,z=0;if(!O||n!=INIT_STATE)return Z_STREAM_ERROR$1;if(M<MIN_MATCH)return Z_OK$1;for(M>a-MIN_LOOKAHEAD&&(M=a-MIN_LOOKAHEAD,z=I-M),f.set(O.subarray(z,z+M),0),y=M,g=M,h=f[0]&255,h=(h<<p^f[1]&255)&m,P=0;P<=M-MIN_MATCH;P++)h=(h<<p^f[P+(MIN_MATCH-1)]&255)&m,d[P&o]=u[h],u[h]=P;return Z_OK$1},t.deflate=function(D,O){let I,M,P,z,W;if(O>Z_FINISH$1||O<0)return Z_STREAM_ERROR$1;if(!D.next_out||!D.next_in&&D.avail_in!==0||n==FINISH_STATE&&O!=Z_FINISH$1)return D.msg=z_errmsg[Z_NEED_DICT$1-Z_STREAM_ERROR$1],Z_STREAM_ERROR$1;if(D.avail_out===0)return D.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(i=D,z=s,s=O,n==INIT_STATE&&(M=Z_DEFLATED$1+(l-8<<4)<<8,P=(A-1&255)>>1,P>3&&(P=3),M|=P<<6,y!==0&&(M|=PRESET_DICT$1),M+=31-M%31,n=BUSY_STATE,pe(M)),t.pending!==0){if(i.flush_pending(),i.avail_out===0)return s=-1,Z_OK$1}else if(i.avail_in===0&&O<=z&&O!=Z_FINISH$1)return i.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(n==FINISH_STATE&&i.avail_in!==0)return D.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(i.avail_in!==0||v!==0||O!=Z_NO_FLUSH$1&&n!=FINISH_STATE){switch(W=-1,config_table[A].func){case STORED$1:W=Ae(O);break;case FAST:W=Te(O);break;case SLOW:W=Re(O);break}if((W==FinishStarted||W==FinishDone)&&(n=FINISH_STATE),W==NeedMore||W==FinishStarted)return i.avail_out===0&&(s=-1),Z_OK$1;if(W==BlockDone){if(O==Z_PARTIAL_FLUSH)ie();else if(be(0,0,!1),O==Z_FULL_FLUSH)for(I=0;I<_;I++)u[I]=0;if(i.flush_pending(),i.avail_out===0)return s=-1,Z_OK$1}}return O!=Z_FINISH$1?Z_OK$1:Z_STREAM_END$1}}function ZStream$1(){const t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}ZStream$1.prototype={deflateInit(t,i){const n=this;return n.dstate=new Deflate,i||(i=MAX_BITS$1),n.dstate.deflateInit(n,t,i)},deflate(t){const i=this;return i.dstate?i.dstate.deflate(i,t):Z_STREAM_ERROR$1},deflateEnd(){const t=this;if(!t.dstate)return Z_STREAM_ERROR$1;const i=t.dstate.deflateEnd();return t.dstate=null,i},deflateParams(t,i){const n=this;return n.dstate?n.dstate.deflateParams(n,t,i):Z_STREAM_ERROR$1},deflateSetDictionary(t,i){const n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,i):Z_STREAM_ERROR$1},read_buf(t,i,n){const r=this;let s=r.avail_in;return s>n&&(s=n),s===0?0:(r.avail_in-=s,t.set(r.next_in.subarray(r.next_in_index,r.next_in_index+s),i),r.next_in_index+=s,r.total_in+=s,s)},flush_pending(){const t=this;let i=t.dstate.pending;i>t.avail_out&&(i=t.avail_out),i!==0&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+i),t.next_out_index),t.next_out_index+=i,t.dstate.pending_out+=i,t.total_out+=i,t.avail_out-=i,t.dstate.pending-=i,t.dstate.pending===0&&(t.dstate.pending_out=0))}};function ZipDeflate(t){const i=this,n=new ZStream$1,r=getMaximumCompressedSize$1(t&&t.chunkSize?t.chunkSize:64*1024),s=Z_NO_FLUSH$1,a=new Uint8Array(r);let l=t?t.level:Z_DEFAULT_COMPRESSION;typeof l>"u"&&(l=Z_DEFAULT_COMPRESSION),n.deflateInit(l),n.next_out=a,i.append=function(o,f){let c,d,u=0,h=0,_=0;const E=[];if(o.length){n.next_in_index=0,n.next_in=o,n.avail_in=o.length;do{if(n.next_out_index=0,n.avail_out=r,c=n.deflate(s),c!=Z_OK$1)throw new Error("deflating: "+n.msg);n.next_out_index&&(n.next_out_index==r?E.push(new Uint8Array(a)):E.push(a.subarray(0,n.next_out_index))),_+=n.next_out_index,f&&n.next_in_index>0&&n.next_in_index!=u&&(f(n.next_in_index),u=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return E.length>1?(d=new Uint8Array(_),E.forEach(function(m){d.set(m,h),h+=m.length})):d=E[0]?new Uint8Array(E[0]):new Uint8Array,d}},i.flush=function(){let o,f,c=0,d=0;const u=[];do{if(n.next_out_index=0,n.avail_out=r,o=n.deflate(Z_FINISH$1),o!=Z_STREAM_END$1&&o!=Z_OK$1)throw new Error("deflating: "+n.msg);r-n.avail_out>0&&u.push(a.slice(0,n.next_out_index)),d+=n.next_out_index}while(n.avail_in>0||n.avail_out===0);return n.deflateEnd(),f=new Uint8Array(d),u.forEach(function(h){f.set(h,c),c+=h.length}),f}}function getMaximumCompressedSize$1(t){return t+5*(Math.floor(t/16383)+1)}const MAX_BITS=15,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,inflate_mask=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],MANY=1440,Z_NO_FLUSH=0,Z_FINISH=4,fixed_bl=9,fixed_bd=5,fixed_tl=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],fixed_td=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],BMAX=15;function InfTree(){const t=this;let i,n,r,s,a,l;function o(c,d,u,h,_,E,m,p,g,b,w){let x,y,S,v,T,k,R,A,N,C,F,L,B,U,$;C=0,T=u;do r[c[d+C]]++,C++,T--;while(T!==0);if(r[0]==u)return m[0]=-1,p[0]=0,Z_OK;for(A=p[0],k=1;k<=BMAX&&r[k]===0;k++);for(R=k,A<k&&(A=k),T=BMAX;T!==0&&r[T]===0;T--);for(S=T,A>T&&(A=T),p[0]=A,U=1<<k;k<T;k++,U<<=1)if((U-=r[k])<0)return Z_DATA_ERROR;if((U-=r[T])<0)return Z_DATA_ERROR;for(r[T]+=U,l[1]=k=0,C=1,B=2;--T!==0;)l[B]=k+=r[C],B++,C++;T=0,C=0;do(k=c[d+C])!==0&&(w[l[k]++]=T),C++;while(++T<u);for(u=l[S],l[0]=T=0,C=0,v=-1,L=-A,a[0]=0,F=0,$=0;R<=S;R++)for(x=r[R];x--!==0;){for(;R>L+A;){if(v++,L+=A,$=S-L,$=$>A?A:$,(y=1<<(k=R-L))>x+1&&(y-=x+1,B=R,k<$))for(;++k<$&&!((y<<=1)<=r[++B]);)y-=r[B];if($=1<<k,b[0]+$>MANY)return Z_DATA_ERROR;a[v]=F=b[0],b[0]+=$,v!==0?(l[v]=T,s[0]=k,s[1]=A,k=T>>>L-A,s[2]=F-a[v-1]-k,g.set(s,(a[v-1]+k)*3)):m[0]=F}for(s[1]=R-L,C>=u?s[0]=128+64:w[C]<h?(s[0]=w[C]<256?0:32+64,s[2]=w[C++]):(s[0]=E[w[C]-h]+16+64,s[2]=_[w[C++]-h]),y=1<<R-L,k=T>>>L;k<$;k+=y)g.set(s,(F+k)*3);for(k=1<<R-1;T&k;k>>>=1)T^=k;for(T^=k,N=(1<<L)-1;(T&N)!=l[v];)v--,L-=A,N=(1<<L)-1}return U!==0&&S!=1?Z_BUF_ERROR:Z_OK}function f(c){let d;for(i||(i=[],n=[],r=new Int32Array(BMAX+1),s=[],a=new Int32Array(BMAX),l=new Int32Array(BMAX+1)),n.length<c&&(n=[]),d=0;d<c;d++)n[d]=0;for(d=0;d<BMAX+1;d++)r[d]=0;for(d=0;d<3;d++)s[d]=0;a.set(r.subarray(0,BMAX),0),l.set(r.subarray(0,BMAX+1),0)}t.inflate_trees_bits=function(c,d,u,h,_){let E;return f(19),i[0]=0,E=o(c,0,19,19,null,null,u,d,h,i,n),E==Z_DATA_ERROR?_.msg="oversubscribed dynamic bit lengths tree":(E==Z_BUF_ERROR||d[0]===0)&&(_.msg="incomplete dynamic bit lengths tree",E=Z_DATA_ERROR),E},t.inflate_trees_dynamic=function(c,d,u,h,_,E,m,p,g){let b;return f(288),i[0]=0,b=o(u,0,c,257,cplens,cplext,E,h,p,i,n),b!=Z_OK||h[0]===0?(b==Z_DATA_ERROR?g.msg="oversubscribed literal/length tree":b!=Z_MEM_ERROR&&(g.msg="incomplete literal/length tree",b=Z_DATA_ERROR),b):(f(288),b=o(u,c,d,0,cpdist,cpdext,m,_,p,i,n),b!=Z_OK||_[0]===0&&c>257?(b==Z_DATA_ERROR?g.msg="oversubscribed distance tree":b==Z_BUF_ERROR?(g.msg="incomplete distance tree",b=Z_DATA_ERROR):b!=Z_MEM_ERROR&&(g.msg="empty distance tree with lengths",b=Z_DATA_ERROR),b):Z_OK)}}InfTree.inflate_trees_fixed=function(t,i,n,r){return t[0]=fixed_bl,i[0]=fixed_bd,n[0]=fixed_tl,r[0]=fixed_td,Z_OK};const START=0,LEN=1,LENEXT=2,DIST=3,DISTEXT=4,COPY=5,LIT=6,WASH=7,END=8,BADCODE=9;function InfCodes(){const t=this;let i,n=0,r,s=0,a=0,l=0,o=0,f=0,c=0,d=0,u,h=0,_,E=0;function m(p,g,b,w,x,y,S,v){let T,k,R,A,N,C,F,L,B,U,$,V,Z,G,H,K;F=v.next_in_index,L=v.avail_in,N=S.bitb,C=S.bitk,B=S.write,U=B<S.read?S.read-B-1:S.end-B,$=inflate_mask[p],V=inflate_mask[g];do{for(;C<20;)L--,N|=(v.read_byte(F++)&255)<<C,C+=8;if(T=N&$,k=b,R=w,K=(R+T)*3,(A=k[K])===0){N>>=k[K+1],C-=k[K+1],S.win[B++]=k[K+2],U--;continue}do{if(N>>=k[K+1],C-=k[K+1],A&16){for(A&=15,Z=k[K+2]+(N&inflate_mask[A]),N>>=A,C-=A;C<15;)L--,N|=(v.read_byte(F++)&255)<<C,C+=8;T=N&V,k=x,R=y,K=(R+T)*3,A=k[K];do if(N>>=k[K+1],C-=k[K+1],A&16){for(A&=15;C<A;)L--,N|=(v.read_byte(F++)&255)<<C,C+=8;if(G=k[K+2]+(N&inflate_mask[A]),N>>=A,C-=A,U-=Z,B>=G)H=B-G,B-H>0&&2>B-H?(S.win[B++]=S.win[H++],S.win[B++]=S.win[H++],Z-=2):(S.win.set(S.win.subarray(H,H+2),B),B+=2,H+=2,Z-=2);else{H=B-G;do H+=S.end;while(H<0);if(A=S.end-H,Z>A){if(Z-=A,B-H>0&&A>B-H)do S.win[B++]=S.win[H++];while(--A!==0);else S.win.set(S.win.subarray(H,H+A),B),B+=A,H+=A,A=0;H=0}}if(B-H>0&&Z>B-H)do S.win[B++]=S.win[H++];while(--Z!==0);else S.win.set(S.win.subarray(H,H+Z),B),B+=Z,H+=Z,Z=0;break}else if(!(A&64))T+=k[K+2],T+=N&inflate_mask[A],K=(R+T)*3,A=k[K];else return v.msg="invalid distance code",Z=v.avail_in-L,Z=C>>3<Z?C>>3:Z,L+=Z,F-=Z,C-=Z<<3,S.bitb=N,S.bitk=C,v.avail_in=L,v.total_in+=F-v.next_in_index,v.next_in_index=F,S.write=B,Z_DATA_ERROR;while(!0);break}if(A&64)return A&32?(Z=v.avail_in-L,Z=C>>3<Z?C>>3:Z,L+=Z,F-=Z,C-=Z<<3,S.bitb=N,S.bitk=C,v.avail_in=L,v.total_in+=F-v.next_in_index,v.next_in_index=F,S.write=B,Z_STREAM_END):(v.msg="invalid literal/length code",Z=v.avail_in-L,Z=C>>3<Z?C>>3:Z,L+=Z,F-=Z,C-=Z<<3,S.bitb=N,S.bitk=C,v.avail_in=L,v.total_in+=F-v.next_in_index,v.next_in_index=F,S.write=B,Z_DATA_ERROR);if(T+=k[K+2],T+=N&inflate_mask[A],K=(R+T)*3,(A=k[K])===0){N>>=k[K+1],C-=k[K+1],S.win[B++]=k[K+2],U--;break}}while(!0)}while(U>=258&&L>=10);return Z=v.avail_in-L,Z=C>>3<Z?C>>3:Z,L+=Z,F-=Z,C-=Z<<3,S.bitb=N,S.bitk=C,v.avail_in=L,v.total_in+=F-v.next_in_index,v.next_in_index=F,S.write=B,Z_OK}t.init=function(p,g,b,w,x,y){i=START,c=p,d=g,u=b,h=w,_=x,E=y,r=null},t.proc=function(p,g,b){let w,x,y,S=0,v=0,T=0,k,R,A,N;for(T=g.next_in_index,k=g.avail_in,S=p.bitb,v=p.bitk,R=p.write,A=R<p.read?p.read-R-1:p.end-R;;)switch(i){case START:if(A>=258&&k>=10&&(p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,b=m(c,d,u,h,_,E,p,g),T=g.next_in_index,k=g.avail_in,S=p.bitb,v=p.bitk,R=p.write,A=R<p.read?p.read-R-1:p.end-R,b!=Z_OK)){i=b==Z_STREAM_END?WASH:BADCODE;break}a=c,r=u,s=h,i=LEN;case LEN:for(w=a;v<w;){if(k!==0)b=Z_OK;else return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);k--,S|=(g.read_byte(T++)&255)<<v,v+=8}if(x=(s+(S&inflate_mask[w]))*3,S>>>=r[x+1],v-=r[x+1],y=r[x],y===0){l=r[x+2],i=LIT;break}if(y&16){o=y&15,n=r[x+2],i=LENEXT;break}if(!(y&64)){a=y,s=x/3+r[x+2];break}if(y&32){i=WASH;break}return i=BADCODE,g.msg="invalid literal/length code",b=Z_DATA_ERROR,p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);case LENEXT:for(w=o;v<w;){if(k!==0)b=Z_OK;else return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);k--,S|=(g.read_byte(T++)&255)<<v,v+=8}n+=S&inflate_mask[w],S>>=w,v-=w,a=d,r=_,s=E,i=DIST;case DIST:for(w=a;v<w;){if(k!==0)b=Z_OK;else return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);k--,S|=(g.read_byte(T++)&255)<<v,v+=8}if(x=(s+(S&inflate_mask[w]))*3,S>>=r[x+1],v-=r[x+1],y=r[x],y&16){o=y&15,f=r[x+2],i=DISTEXT;break}if(!(y&64)){a=y,s=x/3+r[x+2];break}return i=BADCODE,g.msg="invalid distance code",b=Z_DATA_ERROR,p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);case DISTEXT:for(w=o;v<w;){if(k!==0)b=Z_OK;else return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);k--,S|=(g.read_byte(T++)&255)<<v,v+=8}f+=S&inflate_mask[w],S>>=w,v-=w,i=COPY;case COPY:for(N=R-f;N<0;)N+=p.end;for(;n!==0;){if(A===0&&(R==p.end&&p.read!==0&&(R=0,A=R<p.read?p.read-R-1:p.end-R),A===0&&(p.write=R,b=p.inflate_flush(g,b),R=p.write,A=R<p.read?p.read-R-1:p.end-R,R==p.end&&p.read!==0&&(R=0,A=R<p.read?p.read-R-1:p.end-R),A===0)))return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);p.win[R++]=p.win[N++],A--,N==p.end&&(N=0),n--}i=START;break;case LIT:if(A===0&&(R==p.end&&p.read!==0&&(R=0,A=R<p.read?p.read-R-1:p.end-R),A===0&&(p.write=R,b=p.inflate_flush(g,b),R=p.write,A=R<p.read?p.read-R-1:p.end-R,R==p.end&&p.read!==0&&(R=0,A=R<p.read?p.read-R-1:p.end-R),A===0)))return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);b=Z_OK,p.win[R++]=l,A--,i=START;break;case WASH:if(v>7&&(v-=8,k++,T--),p.write=R,b=p.inflate_flush(g,b),R=p.write,A=R<p.read?p.read-R-1:p.end-R,p.read!=p.write)return p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);i=END;case END:return b=Z_STREAM_END,p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);case BADCODE:return b=Z_DATA_ERROR,p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b);default:return b=Z_STREAM_ERROR,p.bitb=S,p.bitk=v,g.avail_in=k,g.total_in+=T-g.next_in_index,g.next_in_index=T,p.write=R,p.inflate_flush(g,b)}},t.free=function(){}}const border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],TYPE=0,LENS=1,STORED=2,TABLE=3,BTREE=4,DTREE=5,CODES=6,DRY=7,DONELOCKS=8,BADBLOCKS=9;function InfBlocks(t,i){const n=this;let r=TYPE,s=0,a=0,l=0,o;const f=[0],c=[0],d=new InfCodes;let u=0,h=new Int32Array(MANY*3);const _=0,E=new InfTree;n.bitk=0,n.bitb=0,n.win=new Uint8Array(i),n.end=i,n.read=0,n.write=0,n.reset=function(m,p){p&&(p[0]=_),r==CODES&&d.free(m),r=TYPE,n.bitk=0,n.bitb=0,n.read=n.write=0},n.reset(t,null),n.inflate_flush=function(m,p){let g,b,w;return b=m.next_out_index,w=n.read,g=(w<=n.write?n.write:n.end)-w,g>m.avail_out&&(g=m.avail_out),g!==0&&p==Z_BUF_ERROR&&(p=Z_OK),m.avail_out-=g,m.total_out+=g,m.next_out.set(n.win.subarray(w,w+g),b),b+=g,w+=g,w==n.end&&(w=0,n.write==n.end&&(n.write=0),g=n.write-w,g>m.avail_out&&(g=m.avail_out),g!==0&&p==Z_BUF_ERROR&&(p=Z_OK),m.avail_out-=g,m.total_out+=g,m.next_out.set(n.win.subarray(w,w+g),b),b+=g,w+=g),m.next_out_index=b,n.read=w,p},n.proc=function(m,p){let g,b,w,x,y,S,v,T;for(x=m.next_in_index,y=m.avail_in,b=n.bitb,w=n.bitk,S=n.write,v=S<n.read?n.read-S-1:n.end-S;;){let k,R,A,N,C,F,L,B;switch(r){case TYPE:for(;w<3;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}switch(g=b&7,u=g&1,g>>>1){case 0:b>>>=3,w-=3,g=w&7,b>>>=g,w-=g,r=LENS;break;case 1:k=[],R=[],A=[[]],N=[[]],InfTree.inflate_trees_fixed(k,R,A,N),d.init(k[0],R[0],A[0],0,N[0],0),b>>>=3,w-=3,r=CODES;break;case 2:b>>>=3,w-=3,r=TABLE;break;case 3:return b>>>=3,w-=3,r=BADBLOCKS,m.msg="invalid block type",p=Z_DATA_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p)}break;case LENS:for(;w<32;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}if((~b>>>16&65535)!=(b&65535))return r=BADBLOCKS,m.msg="invalid stored block lengths",p=Z_DATA_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);s=b&65535,b=w=0,r=s!==0?STORED:u!==0?DRY:TYPE;break;case STORED:if(y===0||v===0&&(S==n.end&&n.read!==0&&(S=0,v=S<n.read?n.read-S-1:n.end-S),v===0&&(n.write=S,p=n.inflate_flush(m,p),S=n.write,v=S<n.read?n.read-S-1:n.end-S,S==n.end&&n.read!==0&&(S=0,v=S<n.read?n.read-S-1:n.end-S),v===0)))return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);if(p=Z_OK,g=s,g>y&&(g=y),g>v&&(g=v),n.win.set(m.read_buf(x,g),S),x+=g,y-=g,S+=g,v-=g,(s-=g)!==0)break;r=u!==0?DRY:TYPE;break;case TABLE:for(;w<14;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}if(a=g=b&16383,(g&31)>29||(g>>5&31)>29)return r=BADBLOCKS,m.msg="too many length or distance symbols",p=Z_DATA_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);if(g=258+(g&31)+(g>>5&31),!o||o.length<g)o=[];else for(T=0;T<g;T++)o[T]=0;b>>>=14,w-=14,l=0,r=BTREE;case BTREE:for(;l<4+(a>>>10);){for(;w<3;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}o[border[l++]]=b&7,b>>>=3,w-=3}for(;l<19;)o[border[l++]]=0;if(f[0]=7,g=E.inflate_trees_bits(o,f,c,h,m),g!=Z_OK)return p=g,p==Z_DATA_ERROR&&(o=null,r=BADBLOCKS),n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);l=0,r=DTREE;case DTREE:for(;g=a,!(l>=258+(g&31)+(g>>5&31));){let U,$;for(g=f[0];w<g;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}if(g=h[(c[0]+(b&inflate_mask[g]))*3+1],$=h[(c[0]+(b&inflate_mask[g]))*3+2],$<16)b>>>=g,w-=g,o[l++]=$;else{for(T=$==18?7:$-14,U=$==18?11:3;w<g+T;){if(y!==0)p=Z_OK;else return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);y--,b|=(m.read_byte(x++)&255)<<w,w+=8}if(b>>>=g,w-=g,U+=b&inflate_mask[T],b>>>=T,w-=T,T=l,g=a,T+U>258+(g&31)+(g>>5&31)||$==16&&T<1)return o=null,r=BADBLOCKS,m.msg="invalid bit length repeat",p=Z_DATA_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);$=$==16?o[T-1]:0;do o[T++]=$;while(--U!==0);l=T}}if(c[0]=-1,C=[],F=[],L=[],B=[],C[0]=9,F[0]=6,g=a,g=E.inflate_trees_dynamic(257+(g&31),1+(g>>5&31),o,C,F,L,B,h,m),g!=Z_OK)return g==Z_DATA_ERROR&&(o=null,r=BADBLOCKS),p=g,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);d.init(C[0],F[0],h,L[0],h,B[0]),r=CODES;case CODES:if(n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,(p=d.proc(n,m,p))!=Z_STREAM_END)return n.inflate_flush(m,p);if(p=Z_OK,d.free(m),x=m.next_in_index,y=m.avail_in,b=n.bitb,w=n.bitk,S=n.write,v=S<n.read?n.read-S-1:n.end-S,u===0){r=TYPE;break}r=DRY;case DRY:if(n.write=S,p=n.inflate_flush(m,p),S=n.write,v=S<n.read?n.read-S-1:n.end-S,n.read!=n.write)return n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);r=DONELOCKS;case DONELOCKS:return p=Z_STREAM_END,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);case BADBLOCKS:return p=Z_DATA_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p);default:return p=Z_STREAM_ERROR,n.bitb=b,n.bitk=w,m.avail_in=y,m.total_in+=x-m.next_in_index,m.next_in_index=x,n.write=S,n.inflate_flush(m,p)}}},n.free=function(m){n.reset(m,null),n.win=null,h=null},n.set_dictionary=function(m,p,g){n.win.set(m.subarray(p,p+g),0),n.read=n.write=g},n.sync_point=function(){return r==LENS?1:0}}const PRESET_DICT=32,Z_DEFLATED=8,METHOD=0,FLAG=1,DICT4=2,DICT3=3,DICT2=4,DICT1=5,DICT0=6,BLOCKS=7,DONE=12,BAD=13,mark=[0,0,255,255];function Inflate(){const t=this;t.mode=0,t.method=0,t.was=[0],t.need=0,t.marker=0,t.wbits=0;function i(n){return!n||!n.istate?Z_STREAM_ERROR:(n.total_in=n.total_out=0,n.msg=null,n.istate.mode=BLOCKS,n.istate.blocks.reset(n,null),Z_OK)}t.inflateEnd=function(n){return t.blocks&&t.blocks.free(n),t.blocks=null,Z_OK},t.inflateInit=function(n,r){return n.msg=null,t.blocks=null,r<8||r>15?(t.inflateEnd(n),Z_STREAM_ERROR):(t.wbits=r,n.istate.blocks=new InfBlocks(n,1<<r),i(n),Z_OK)},t.inflate=function(n,r){let s,a;if(!n||!n.istate||!n.next_in)return Z_STREAM_ERROR;const l=n.istate;for(r=r==Z_FINISH?Z_BUF_ERROR:Z_OK,s=Z_BUF_ERROR;;)switch(l.mode){case METHOD:if(n.avail_in===0)return s;if(s=r,n.avail_in--,n.total_in++,((l.method=n.read_byte(n.next_in_index++))&15)!=Z_DEFLATED){l.mode=BAD,n.msg="unknown compression method",l.marker=5;break}if((l.method>>4)+8>l.wbits){l.mode=BAD,n.msg="invalid win size",l.marker=5;break}l.mode=FLAG;case FLAG:if(n.avail_in===0)return s;if(s=r,n.avail_in--,n.total_in++,a=n.read_byte(n.next_in_index++)&255,((l.method<<8)+a)%31!==0){l.mode=BAD,n.msg="incorrect header check",l.marker=5;break}if(!(a&PRESET_DICT)){l.mode=BLOCKS;break}l.mode=DICT4;case DICT4:if(n.avail_in===0)return s;s=r,n.avail_in--,n.total_in++,l.need=(n.read_byte(n.next_in_index++)&255)<<24&4278190080,l.mode=DICT3;case DICT3:if(n.avail_in===0)return s;s=r,n.avail_in--,n.total_in++,l.need+=(n.read_byte(n.next_in_index++)&255)<<16&16711680,l.mode=DICT2;case DICT2:if(n.avail_in===0)return s;s=r,n.avail_in--,n.total_in++,l.need+=(n.read_byte(n.next_in_index++)&255)<<8&65280,l.mode=DICT1;case DICT1:return n.avail_in===0?s:(s=r,n.avail_in--,n.total_in++,l.need+=n.read_byte(n.next_in_index++)&255,l.mode=DICT0,Z_NEED_DICT);case DICT0:return l.mode=BAD,n.msg="need dictionary",l.marker=0,Z_STREAM_ERROR;case BLOCKS:if(s=l.blocks.proc(n,s),s==Z_DATA_ERROR){l.mode=BAD,l.marker=0;break}if(s==Z_OK&&(s=r),s!=Z_STREAM_END)return s;s=r,l.blocks.reset(n,l.was),l.mode=DONE;case DONE:return n.avail_in=0,Z_STREAM_END;case BAD:return Z_DATA_ERROR;default:return Z_STREAM_ERROR}},t.inflateSetDictionary=function(n,r,s){let a=0,l=s;if(!n||!n.istate||n.istate.mode!=DICT0)return Z_STREAM_ERROR;const o=n.istate;return l>=1<<o.wbits&&(l=(1<<o.wbits)-1,a=s-l),o.blocks.set_dictionary(r,a,l),o.mode=BLOCKS,Z_OK},t.inflateSync=function(n){let r,s,a,l,o;if(!n||!n.istate)return Z_STREAM_ERROR;const f=n.istate;if(f.mode!=BAD&&(f.mode=BAD,f.marker=0),(r=n.avail_in)===0)return Z_BUF_ERROR;for(s=n.next_in_index,a=f.marker;r!==0&&a<4;)n.read_byte(s)==mark[a]?a++:n.read_byte(s)!==0?a=0:a=4-a,s++,r--;return n.total_in+=s-n.next_in_index,n.next_in_index=s,n.avail_in=r,f.marker=a,a!=4?Z_DATA_ERROR:(l=n.total_in,o=n.total_out,i(n),n.total_in=l,n.total_out=o,f.mode=BLOCKS,Z_OK)},t.inflateSyncPoint=function(n){return!n||!n.istate||!n.istate.blocks?Z_STREAM_ERROR:n.istate.blocks.sync_point()}}function ZStream(){}ZStream.prototype={inflateInit(t){const i=this;return i.istate=new Inflate,t||(t=MAX_BITS),i.istate.inflateInit(i,t)},inflate(t){const i=this;return i.istate?i.istate.inflate(i,t):Z_STREAM_ERROR},inflateEnd(){const t=this;if(!t.istate)return Z_STREAM_ERROR;const i=t.istate.inflateEnd(t);return t.istate=null,i},inflateSync(){const t=this;return t.istate?t.istate.inflateSync(t):Z_STREAM_ERROR},inflateSetDictionary(t,i){const n=this;return n.istate?n.istate.inflateSetDictionary(n,t,i):Z_STREAM_ERROR},read_byte(t){return this.next_in[t]},read_buf(t,i){return this.next_in.subarray(t,t+i)}};function ZipInflate(t){const i=this,n=new ZStream,r=t&&t.chunkSize?Math.floor(t.chunkSize*2):128*1024,s=Z_NO_FLUSH,a=new Uint8Array(r);let l=!1;n.inflateInit(),n.next_out=a,i.append=function(o,f){const c=[];let d,u,h=0,_=0,E=0;if(o.length!==0){n.next_in_index=0,n.next_in=o,n.avail_in=o.length;do{if(n.next_out_index=0,n.avail_out=r,n.avail_in===0&&!l&&(n.next_in_index=0,l=!0),d=n.inflate(s),l&&d===Z_BUF_ERROR){if(n.avail_in!==0)throw new Error("inflating: bad input")}else if(d!==Z_OK&&d!==Z_STREAM_END)throw new Error("inflating: "+n.msg);if((l||d===Z_STREAM_END)&&n.avail_in===o.length)throw new Error("inflating: bad input");n.next_out_index&&(n.next_out_index===r?c.push(new Uint8Array(a)):c.push(a.subarray(0,n.next_out_index))),E+=n.next_out_index,f&&n.next_in_index>0&&n.next_in_index!=h&&(f(n.next_in_index),h=n.next_in_index)}while(n.avail_in>0||n.avail_out===0);return c.length>1?(u=new Uint8Array(E),c.forEach(function(m){u.set(m,_),_+=m.length})):u=c[0]?new Uint8Array(c[0]):new Uint8Array,u}},i.flush=function(){n.inflateEnd()}}const MAX_32_BITS=4294967295,MAX_16_BITS=65535,COMPRESSION_METHOD_DEFLATE=8,COMPRESSION_METHOD_STORE=0,COMPRESSION_METHOD_AES=99,LOCAL_FILE_HEADER_SIGNATURE=67324752,SPLIT_ZIP_FILE_SIGNATURE=134695760,DATA_DESCRIPTOR_RECORD_SIGNATURE=SPLIT_ZIP_FILE_SIGNATURE,CENTRAL_FILE_HEADER_SIGNATURE=33639248,END_OF_CENTRAL_DIR_SIGNATURE=101010256,ZIP64_END_OF_CENTRAL_DIR_SIGNATURE=101075792,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE=117853008,END_OF_CENTRAL_DIR_LENGTH=22,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH=20,ZIP64_END_OF_CENTRAL_DIR_LENGTH=56,ZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH=END_OF_CENTRAL_DIR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LENGTH,EXTRAFIELD_TYPE_ZIP64=1,EXTRAFIELD_TYPE_AES=39169,EXTRAFIELD_TYPE_NTFS=10,EXTRAFIELD_TYPE_NTFS_TAG1=1,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP=21589,EXTRAFIELD_TYPE_USDZ=6534,BITFLAG_ENCRYPTED=1,BITFLAG_DATA_DESCRIPTOR=8,BITFLAG_LANG_ENCODING_FLAG=2048,FILE_ATTR_MSDOS_DIR_MASK=16,VERSION_DEFLATE=20,VERSION_ZIP64=45,VERSION_AES=51,DIRECTORY_SIGNATURE="/",MAX_DATE=new Date(2107,11,31),MIN_DATE=new Date(1980,0,1),UNDEFINED_VALUE=void 0,UNDEFINED_TYPE$1="undefined",FUNCTION_TYPE$1="function";class StreamAdapter{constructor(i){return class extends TransformStream{constructor(n,r){const s=new i(r);super({transform(a,l){l.enqueue(s.append(a))},flush(a){const l=s.flush();l&&a.enqueue(l)}})}}}}const MINIMUM_CHUNK_SIZE=64;let maxWorkers=2;try{typeof navigator!=UNDEFINED_TYPE$1&&navigator.hardwareConcurrency&&(maxWorkers=navigator.hardwareConcurrency)}catch(t){}const DEFAULT_CONFIGURATION={chunkSize:512*1024,maxWorkers,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:UNDEFINED_VALUE,CompressionStreamNative:typeof CompressionStream!=UNDEFINED_TYPE$1&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=UNDEFINED_TYPE$1&&DecompressionStream},config=Object.assign({},DEFAULT_CONFIGURATION);function getConfiguration(){return config}function getChunkSize(t){return Math.max(t.chunkSize,MINIMUM_CHUNK_SIZE)}function configure(t){const{baseURL:i,chunkSize:n,maxWorkers:r,terminateWorkerTimeout:s,useCompressionStream:a,useWebWorkers:l,Deflate:o,Inflate:f,CompressionStream:c,DecompressionStream:d,workerScripts:u}=t;if(setIfDefined("baseURL",i),setIfDefined("chunkSize",n),setIfDefined("maxWorkers",r),setIfDefined("terminateWorkerTimeout",s),setIfDefined("useCompressionStream",a),setIfDefined("useWebWorkers",l),o&&(config.CompressionStream=new StreamAdapter(o)),f&&(config.DecompressionStream=new StreamAdapter(f)),setIfDefined("CompressionStream",c),setIfDefined("DecompressionStream",d),u!==UNDEFINED_VALUE){const{deflate:h,inflate:_}=u;if((h||_)&&(config.workerScripts||(config.workerScripts={})),h){if(!Array.isArray(h))throw new Error("workerScripts.deflate must be an array");config.workerScripts.deflate=h}if(_){if(!Array.isArray(_))throw new Error("workerScripts.inflate must be an array");config.workerScripts.inflate=_}}}function setIfDefined(t,i){i!==UNDEFINED_VALUE&&(config[t]=i)}const table$1={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const t={};for(const i of Object.keys(table$1))for(const n of Object.keys(table$1[i])){const r=table$1[i][n];if(typeof r=="string")t[r]=i+"/"+n;else for(let s=0;s<r.length;s++)t[r[s]]=i+"/"+n}return t})();const table=[];for(let t=0;t<256;t++){let i=t;for(let n=0;n<8;n++)i&1?i=i>>>1^3988292384:i=i>>>1;table[t]=i}class Crc32{constructor(i){this.crc=i||-1}append(i){let n=this.crc|0;for(let r=0,s=i.length|0;r<s;r++)n=n>>>8^table[(n^i[r])&255];this.crc=n}get(){return~this.crc}}class Crc32Stream extends TransformStream{constructor(){let i;const n=new Crc32;super({transform(r,s){n.append(r),s.enqueue(r)},flush(){const r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.get()),i.value=r}}),i=this}}function encodeText(t){if(typeof TextEncoder>"u"){t=unescape(encodeURIComponent(t));const i=new Uint8Array(t.length);for(let n=0;n<i.length;n++)i[n]=t.charCodeAt(n);return i}else return new TextEncoder().encode(t)}const bitArray={concat(t,i){if(t.length===0||i.length===0)return t.concat(i);const n=t[t.length-1],r=bitArray.getPartial(n);return r===32?t.concat(i):bitArray._shiftRight(i,r,n|0,t.slice(0,t.length-1))},bitLength(t){const i=t.length;if(i===0)return 0;const n=t[i-1];return(i-1)*32+bitArray.getPartial(n)},clamp(t,i){if(t.length*32<i)return t;t=t.slice(0,Math.ceil(i/32));const n=t.length;return i=i&31,n>0&&i&&(t[n-1]=bitArray.partial(i,t[n-1]&2147483648>>i-1,1)),t},partial(t,i,n){return t===32?i:(n?i|0:i<<32-t)+t*1099511627776},getPartial(t){return Math.round(t/1099511627776)||32},_shiftRight(t,i,n,r){for(r===void 0&&(r=[]);i>=32;i-=32)r.push(n),n=0;if(i===0)return r.concat(t);for(let l=0;l<t.length;l++)r.push(n|t[l]>>>i),n=t[l]<<32-i;const s=t.length?t[t.length-1]:0,a=bitArray.getPartial(s);return r.push(bitArray.partial(i+a&31,i+a>32?n:r.pop(),1)),r}},codec={bytes:{fromBits(t){const n=bitArray.bitLength(t)/8,r=new Uint8Array(n);let s;for(let a=0;a<n;a++)a&3||(s=t[a/4]),r[a]=s>>>24,s<<=8;return r},toBits(t){const i=[];let n,r=0;for(n=0;n<t.length;n++)r=r<<8|t[n],(n&3)===3&&(i.push(r),r=0);return n&3&&i.push(bitArray.partial(8*(n&3),r)),i}}},hash={};hash.sha1=class{constructor(t){const i=this;i.blockSize=512,i._init=[1732584193,4023233417,2562383102,271733878,3285377520],i._key=[1518500249,1859775393,2400959708,3395469782],t?(i._h=t._h.slice(0),i._buffer=t._buffer.slice(0),i._length=t._length):i.reset()}reset(){const t=this;return t._h=t._init.slice(0),t._buffer=[],t._length=0,t}update(t){const i=this;typeof t=="string"&&(t=codec.utf8String.toBits(t));const n=i._buffer=bitArray.concat(i._buffer,t),r=i._length,s=i._length=r+bitArray.bitLength(t);if(s>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const a=new Uint32Array(n);let l=0;for(let o=i.blockSize+r-(i.blockSize+r&i.blockSize-1);o<=s;o+=i.blockSize)i._block(a.subarray(16*l,16*(l+1))),l+=1;return n.splice(0,16*l),i}finalize(){const t=this;let i=t._buffer;const n=t._h;i=bitArray.concat(i,[bitArray.partial(1,1)]);for(let r=i.length+2;r&15;r++)i.push(0);for(i.push(Math.floor(t._length/4294967296)),i.push(t._length|0);i.length;)t._block(i.splice(0,16));return t.reset(),n}_f(t,i,n,r){if(t<=19)return i&n|~i&r;if(t<=39)return i^n^r;if(t<=59)return i&n|i&r|n&r;if(t<=79)return i^n^r}_S(t,i){return i<<t|i>>>32-t}_block(t){const i=this,n=i._h,r=Array(80);for(let c=0;c<16;c++)r[c]=t[c];let s=n[0],a=n[1],l=n[2],o=n[3],f=n[4];for(let c=0;c<=79;c++){c>=16&&(r[c]=i._S(1,r[c-3]^r[c-8]^r[c-14]^r[c-16]));const d=i._S(5,s)+i._f(c,a,l,o)+f+r[c]+i._key[Math.floor(c/20)]|0;f=o,o=l,l=i._S(30,a),a=s,s=d}n[0]=n[0]+s|0,n[1]=n[1]+a|0,n[2]=n[2]+l|0,n[3]=n[3]+o|0,n[4]=n[4]+f|0}};const cipher={};cipher.aes=class{constructor(t){const i=this;i._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],i._tables[0][0][0]||i._precompute();const n=i._tables[0][4],r=i._tables[1],s=t.length;let a,l,o,f=1;if(s!==4&&s!==6&&s!==8)throw new Error("invalid aes key size");for(i._key=[l=t.slice(0),o=[]],a=s;a<4*s+28;a++){let c=l[a-1];(a%s===0||s===8&&a%s===4)&&(c=n[c>>>24]<<24^n[c>>16&255]<<16^n[c>>8&255]<<8^n[c&255],a%s===0&&(c=c<<8^c>>>24^f<<24,f=f<<1^(f>>7)*283)),l[a]=l[a-s]^c}for(let c=0;a;c++,a--){const d=l[c&3?a:a-4];a<=4||c<4?o[c]=d:o[c]=r[0][n[d>>>24]]^r[1][n[d>>16&255]]^r[2][n[d>>8&255]]^r[3][n[d&255]]}}encrypt(t){return this._crypt(t,0)}decrypt(t){return this._crypt(t,1)}_precompute(){const t=this._tables[0],i=this._tables[1],n=t[4],r=i[4],s=[],a=[];let l,o,f,c;for(let d=0;d<256;d++)a[(s[d]=d<<1^(d>>7)*283)^d]=d;for(let d=l=0;!n[d];d^=o||1,l=a[l]||1){let u=l^l<<1^l<<2^l<<3^l<<4;u=u>>8^u&255^99,n[d]=u,r[u]=d,c=s[f=s[o=s[d]]];let h=c*16843009^f*65537^o*257^d*16843008,_=s[u]*257^u*16843008;for(let E=0;E<4;E++)t[E][d]=_=_<<24^_>>>8,i[E][u]=h=h<<24^h>>>8}for(let d=0;d<5;d++)t[d]=t[d].slice(0),i[d]=i[d].slice(0)}_crypt(t,i){if(t.length!==4)throw new Error("invalid aes block size");const n=this._key[i],r=n.length/4-2,s=[0,0,0,0],a=this._tables[i],l=a[0],o=a[1],f=a[2],c=a[3],d=a[4];let u=t[0]^n[0],h=t[i?3:1]^n[1],_=t[2]^n[2],E=t[i?1:3]^n[3],m=4,p,g,b;for(let w=0;w<r;w++)p=l[u>>>24]^o[h>>16&255]^f[_>>8&255]^c[E&255]^n[m],g=l[h>>>24]^o[_>>16&255]^f[E>>8&255]^c[u&255]^n[m+1],b=l[_>>>24]^o[E>>16&255]^f[u>>8&255]^c[h&255]^n[m+2],E=l[E>>>24]^o[u>>16&255]^f[h>>8&255]^c[_&255]^n[m+3],m+=4,u=p,h=g,_=b;for(let w=0;w<4;w++)s[i?3&-w:w]=d[u>>>24]<<24^d[h>>16&255]<<16^d[_>>8&255]<<8^d[E&255]^n[m++],p=u,u=h,h=_,_=E,E=p;return s}};const random={getRandomValues(t){const i=new Uint32Array(t.buffer),n=r=>{let s=987654321;const a=4294967295;return function(){return s=36969*(s&65535)+(s>>16)&a,r=18e3*(r&65535)+(r>>16)&a,(((s<<16)+r&a)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let r=0,s;r<t.length;r+=4){const a=n((s||Math.random())*4294967296);s=a()*987654071,i[r/4]=a()*4294967296|0}return t}},mode={};mode.ctrGladman=class{constructor(t,i){this._prf=t,this._initIv=i,this._iv=i}reset(){this._iv=this._initIv}update(t){return this.calculate(this._prf,t,this._iv)}incWord(t){if((t>>24&255)===255){let i=t>>16&255,n=t>>8&255,r=t&255;i===255?(i=0,n===255?(n=0,r===255?r=0:++r):++n):++i,t=0,t+=i<<16,t+=n<<8,t+=r}else t+=1<<24;return t}incCounter(t){(t[0]=this.incWord(t[0]))===0&&(t[1]=this.incWord(t[1]))}calculate(t,i,n){let r;if(!(r=i.length))return[];const s=bitArray.bitLength(i);for(let a=0;a<r;a+=4){this.incCounter(n);const l=t.encrypt(n);i[a]^=l[0],i[a+1]^=l[1],i[a+2]^=l[2],i[a+3]^=l[3]}return bitArray.clamp(i,s)}};const misc={importKey(t){return new misc.hmacSha1(codec.bytes.toBits(t))},pbkdf2(t,i,n,r){if(n=n||1e4,r<0||n<0)throw new Error("invalid params to pbkdf2");const s=(r>>5)+1<<2;let a,l,o,f,c;const d=new ArrayBuffer(s),u=new DataView(d);let h=0;const _=bitArray;for(i=codec.bytes.toBits(i),c=1;h<(s||1);c++){for(a=l=t.encrypt(_.concat(i,[c])),o=1;o<n;o++)for(l=t.encrypt(l),f=0;f<l.length;f++)a[f]^=l[f];for(o=0;h<(s||1)&&o<a.length;o++)u.setInt32(h,a[o]),h+=4}return d.slice(0,r/8)}};misc.hmacSha1=class{constructor(t){const i=this,n=i._hash=hash.sha1,r=[[],[]];i._baseHash=[new n,new n];const s=i._baseHash[0].blockSize/32;t.length>s&&(t=new n().update(t).finalize());for(let a=0;a<s;a++)r[0][a]=t[a]^909522486,r[1][a]=t[a]^1549556828;i._baseHash[0].update(r[0]),i._baseHash[1].update(r[1]),i._resultHash=new n(i._baseHash[0])}reset(){const t=this;t._resultHash=new t._hash(t._baseHash[0]),t._updated=!1}update(t){const i=this;i._updated=!0,i._resultHash.update(t)}digest(){const t=this,i=t._resultHash.finalize(),n=new t._hash(t._baseHash[1]).update(i).finalize();return t.reset(),n}encrypt(t){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(t),this.digest(t)}};const GET_RANDOM_VALUES_SUPPORTED=typeof crypto<"u"&&typeof crypto.getRandomValues=="function",ERR_INVALID_PASSWORD="Invalid password",ERR_INVALID_SIGNATURE="Invalid signature",ERR_ABORT_CHECK_PASSWORD="zipjs-abort-check-password";function getRandomValues(t){return GET_RANDOM_VALUES_SUPPORTED?crypto.getRandomValues(t):random.getRandomValues(t)}const BLOCK_LENGTH=16,RAW_FORMAT="raw",PBKDF2_ALGORITHM={name:"PBKDF2"},HASH_ALGORITHM={name:"HMAC"},HASH_FUNCTION="SHA-1",BASE_KEY_ALGORITHM=Object.assign({hash:HASH_ALGORITHM},PBKDF2_ALGORITHM),DERIVED_BITS_ALGORITHM=Object.assign({iterations:1e3,hash:{name:HASH_FUNCTION}},PBKDF2_ALGORITHM),DERIVED_BITS_USAGE=["deriveBits"],SALT_LENGTH=[8,12,16],KEY_LENGTH=[16,24,32],SIGNATURE_LENGTH=10,COUNTER_DEFAULT_VALUE=[0,0,0,0],UNDEFINED_TYPE="undefined",FUNCTION_TYPE="function",CRYPTO_API_SUPPORTED=typeof crypto!=UNDEFINED_TYPE,subtle=CRYPTO_API_SUPPORTED&&crypto.subtle,SUBTLE_API_SUPPORTED=CRYPTO_API_SUPPORTED&&typeof subtle!=UNDEFINED_TYPE,codecBytes=codec.bytes,Aes=cipher.aes,CtrGladman=mode.ctrGladman,HmacSha1=misc.hmacSha1;let IMPORT_KEY_SUPPORTED=CRYPTO_API_SUPPORTED&&SUBTLE_API_SUPPORTED&&typeof subtle.importKey==FUNCTION_TYPE,DERIVE_BITS_SUPPORTED=CRYPTO_API_SUPPORTED&&SUBTLE_API_SUPPORTED&&typeof subtle.deriveBits==FUNCTION_TYPE;class AESDecryptionStream extends TransformStream{constructor({password:i,signed:n,encryptionStrength:r,checkPasswordOnly:s}){super({start(){Object.assign(this,{ready:new Promise(a=>this.resolveReady=a),password:i,signed:n,strength:r-1,pending:new Uint8Array})},async transform(a,l){const o=this,{password:f,strength:c,resolveReady:d,ready:u}=o;f?(await createDecryptionKeys(o,c,f,subarray(a,0,SALT_LENGTH[c]+2)),a=subarray(a,SALT_LENGTH[c]+2),s?l.error(new Error(ERR_ABORT_CHECK_PASSWORD)):d()):await u;const h=new Uint8Array(a.length-SIGNATURE_LENGTH-(a.length-SIGNATURE_LENGTH)%BLOCK_LENGTH);l.enqueue(append(o,a,h,0,SIGNATURE_LENGTH,!0))},async flush(a){const{signed:l,ctr:o,hmac:f,pending:c,ready:d}=this;await d;const u=subarray(c,0,c.length-SIGNATURE_LENGTH),h=subarray(c,c.length-SIGNATURE_LENGTH);let _=new Uint8Array;if(u.length){const E=toBits(codecBytes,u);f.update(E);const m=o.update(E);_=fromBits(codecBytes,m)}if(l){const E=subarray(fromBits(codecBytes,f.digest()),0,SIGNATURE_LENGTH);for(let m=0;m<SIGNATURE_LENGTH;m++)if(E[m]!=h[m])throw new Error(ERR_INVALID_SIGNATURE)}a.enqueue(_)}})}}class AESEncryptionStream extends TransformStream{constructor({password:i,encryptionStrength:n}){let r;super({start(){Object.assign(this,{ready:new Promise(s=>this.resolveReady=s),password:i,strength:n-1,pending:new Uint8Array})},async transform(s,a){const l=this,{password:o,strength:f,resolveReady:c,ready:d}=l;let u=new Uint8Array;o?(u=await createEncryptionKeys(l,f,o),c()):await d;const h=new Uint8Array(u.length+s.length-s.length%BLOCK_LENGTH);h.set(u,0),a.enqueue(append(l,s,h,u.length,0))},async flush(s){const{ctr:a,hmac:l,pending:o,ready:f}=this;await f;let c=new Uint8Array;if(o.length){const d=a.update(toBits(codecBytes,o));l.update(d),c=fromBits(codecBytes,d)}r.signature=fromBits(codecBytes,l.digest()).slice(0,SIGNATURE_LENGTH),s.enqueue(concat(c,r.signature))}}),r=this}}function append(t,i,n,r,s,a){const{ctr:l,hmac:o,pending:f}=t,c=i.length-s;f.length&&(i=concat(f,i),n=expand(n,c-c%BLOCK_LENGTH));let d;for(d=0;d<=c-BLOCK_LENGTH;d+=BLOCK_LENGTH){const u=toBits(codecBytes,subarray(i,d,d+BLOCK_LENGTH));a&&o.update(u);const h=l.update(u);a||o.update(h),n.set(fromBits(codecBytes,h),d+r)}return t.pending=subarray(i,d),n}async function createDecryptionKeys(t,i,n,r){const s=await createKeys$1(t,i,n,subarray(r,0,SALT_LENGTH[i])),a=subarray(r,SALT_LENGTH[i]);if(s[0]!=a[0]||s[1]!=a[1])throw new Error(ERR_INVALID_PASSWORD)}async function createEncryptionKeys(t,i,n){const r=getRandomValues(new Uint8Array(SALT_LENGTH[i])),s=await createKeys$1(t,i,n,r);return concat(r,s)}async function createKeys$1(t,i,n,r){t.password=null;const s=encodeText(n),a=await importKey(RAW_FORMAT,s,BASE_KEY_ALGORITHM,!1,DERIVED_BITS_USAGE),l=await deriveBits(Object.assign({salt:r},DERIVED_BITS_ALGORITHM),a,8*(KEY_LENGTH[i]*2+2)),o=new Uint8Array(l),f=toBits(codecBytes,subarray(o,0,KEY_LENGTH[i])),c=toBits(codecBytes,subarray(o,KEY_LENGTH[i],KEY_LENGTH[i]*2)),d=subarray(o,KEY_LENGTH[i]*2);return Object.assign(t,{keys:{key:f,authentication:c,passwordVerification:d},ctr:new CtrGladman(new Aes(f),Array.from(COUNTER_DEFAULT_VALUE)),hmac:new HmacSha1(c)}),d}async function importKey(t,i,n,r,s){if(IMPORT_KEY_SUPPORTED)try{return await subtle.importKey(t,i,n,r,s)}catch{return IMPORT_KEY_SUPPORTED=!1,misc.importKey(i)}else return misc.importKey(i)}async function deriveBits(t,i,n){if(DERIVE_BITS_SUPPORTED)try{return await subtle.deriveBits(t,i,n)}catch{return DERIVE_BITS_SUPPORTED=!1,misc.pbkdf2(i,t.salt,DERIVED_BITS_ALGORITHM.iterations,n)}else return misc.pbkdf2(i,t.salt,DERIVED_BITS_ALGORITHM.iterations,n)}function concat(t,i){let n=t;return t.length+i.length&&(n=new Uint8Array(t.length+i.length),n.set(t,0),n.set(i,t.length)),n}function expand(t,i){if(i&&i>t.length){const n=t;t=new Uint8Array(i),t.set(n,0)}return t}function subarray(t,i,n){return t.subarray(i,n)}function fromBits(t,i){return t.fromBits(i)}function toBits(t,i){return t.toBits(i)}const HEADER_LENGTH=12;class ZipCryptoDecryptionStream extends TransformStream{constructor({password:i,passwordVerification:n,checkPasswordOnly:r}){super({start(){Object.assign(this,{password:i,passwordVerification:n}),createKeys(this,i)},transform(s,a){const l=this;if(l.password){const o=decrypt(l,s.subarray(0,HEADER_LENGTH));if(l.password=null,o[HEADER_LENGTH-1]!=l.passwordVerification)throw new Error(ERR_INVALID_PASSWORD);s=s.subarray(HEADER_LENGTH)}r?a.error(new Error(ERR_ABORT_CHECK_PASSWORD)):a.enqueue(decrypt(l,s))}})}}class ZipCryptoEncryptionStream extends TransformStream{constructor({password:i,passwordVerification:n}){super({start(){Object.assign(this,{password:i,passwordVerification:n}),createKeys(this,i)},transform(r,s){const a=this;let l,o;if(a.password){a.password=null;const f=getRandomValues(new Uint8Array(HEADER_LENGTH));f[HEADER_LENGTH-1]=a.passwordVerification,l=new Uint8Array(r.length+f.length),l.set(encrypt(a,f),0),o=HEADER_LENGTH}else l=new Uint8Array(r.length),o=0;l.set(encrypt(a,r),o),s.enqueue(l)}})}}function decrypt(t,i){const n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=getByte(t)^i[r],updateKeys(t,n[r]);return n}function encrypt(t,i){const n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=getByte(t)^i[r],updateKeys(t,i[r]);return n}function createKeys(t,i){const n=[305419896,591751049,878082192];Object.assign(t,{keys:n,crcKey0:new Crc32(n[0]),crcKey2:new Crc32(n[2])});for(let r=0;r<i.length;r++)updateKeys(t,i.charCodeAt(r))}function updateKeys(t,i){let[n,r,s]=t.keys;t.crcKey0.append([i]),n=~t.crcKey0.get(),r=getInt32(Math.imul(getInt32(r+getInt8(n)),134775813)+1),t.crcKey2.append([r>>>24]),s=~t.crcKey2.get(),t.keys=[n,r,s]}function getByte(t){const i=t.keys[2]|2;return getInt8(Math.imul(i,i^1)>>>8)}function getInt8(t){return t&255}function getInt32(t){return t&4294967295}const COMPRESSION_FORMAT="deflate-raw";class DeflateStream extends TransformStream{constructor(i,{chunkSize:n,CompressionStream:r,CompressionStreamNative:s}){super({});const{compressed:a,encrypted:l,useCompressionStream:o,zipCrypto:f,signed:c,level:d}=i,u=this;let h,_,E=filterEmptyChunks(super.readable);(!l||f)&&c&&(h=new Crc32Stream,E=pipeThrough(E,h)),a&&(E=pipeThroughCommpressionStream(E,o,{level:d,chunkSize:n},s,r)),l&&(f?E=pipeThrough(E,new ZipCryptoEncryptionStream(i)):(_=new AESEncryptionStream(i),E=pipeThrough(E,_))),setReadable(u,E,()=>{let m;l&&!f&&(m=_.signature),(!l||f)&&c&&(m=new DataView(h.value.buffer).getUint32(0)),u.signature=m})}}class InflateStream extends TransformStream{constructor(i,{chunkSize:n,DecompressionStream:r,DecompressionStreamNative:s}){super({});const{zipCrypto:a,encrypted:l,signed:o,signature:f,compressed:c,useCompressionStream:d}=i;let u,h,_=filterEmptyChunks(super.readable);l&&(a?_=pipeThrough(_,new ZipCryptoDecryptionStream(i)):(h=new AESDecryptionStream(i),_=pipeThrough(_,h))),c&&(_=pipeThroughCommpressionStream(_,d,{chunkSize:n},s,r)),(!l||a)&&o&&(u=new Crc32Stream,_=pipeThrough(_,u)),setReadable(this,_,()=>{if((!l||a)&&o){const E=new DataView(u.value.buffer);if(f!=E.getUint32(0,!1))throw new Error(ERR_INVALID_SIGNATURE)}})}}function filterEmptyChunks(t){return pipeThrough(t,new TransformStream({transform(i,n){i&&i.length&&n.enqueue(i)}}))}function setReadable(t,i,n){i=pipeThrough(i,new TransformStream({flush:n})),Object.defineProperty(t,"readable",{get(){return i}})}function pipeThroughCommpressionStream(t,i,n,r,s){try{const a=i&&r?r:s;t=pipeThrough(t,new a(COMPRESSION_FORMAT,n))}catch(a){if(i)t=pipeThrough(t,new s(COMPRESSION_FORMAT,n));else throw a}return t}function pipeThrough(t,i){return t.pipeThrough(i)}const MESSAGE_EVENT_TYPE="message",MESSAGE_START="start",MESSAGE_PULL="pull",MESSAGE_DATA="data",MESSAGE_ACK_DATA="ack",MESSAGE_CLOSE="close",CODEC_DEFLATE="deflate",CODEC_INFLATE="inflate";class CodecStream extends TransformStream{constructor(i,n){super({});const r=this,{codecType:s}=i;let a;s.startsWith(CODEC_DEFLATE)?a=DeflateStream:s.startsWith(CODEC_INFLATE)&&(a=InflateStream);let l=0;const o=new a(i,n),f=super.readable,c=new TransformStream({transform(d,u){d&&d.length&&(l+=d.length,u.enqueue(d))},flush(){const{signature:d}=o;Object.assign(r,{signature:d,size:l})}});Object.defineProperty(r,"readable",{get(){return f.pipeThrough(o).pipeThrough(c)}})}}const WEB_WORKERS_SUPPORTED=typeof Worker!=UNDEFINED_TYPE$1;class CodecWorker{constructor(i,{readable:n,writable:r},{options:s,config:a,streamOptions:l,useWebWorkers:o,transferStreams:f,scripts:c},d){const{signal:u}=l;return Object.assign(i,{busy:!0,readable:n.pipeThrough(new ProgressWatcherStream(n,l,a),{signal:u}),writable:r,options:Object.assign({},s),scripts:c,transferStreams:f,terminate(){const{worker:h,busy:_}=i;h&&!_&&(h.terminate(),i.interface=null)},onTaskFinished(){i.busy=!1,d(i)}}),(o&&WEB_WORKERS_SUPPORTED?createWebWorkerInterface:createWorkerInterface)(i,a)}}class ProgressWatcherStream extends TransformStream{constructor(i,{onstart:n,onprogress:r,size:s,onend:a},{chunkSize:l}){let o=0;super({start(){n&&callHandler(n,s)},async transform(f,c){o+=f.length,r&&await callHandler(r,o,s),c.enqueue(f)},flush(){i.size=o,a&&callHandler(a,o)}},{highWaterMark:1,size:()=>l})}}async function callHandler(t,...i){try{await t(...i)}catch{}}function createWorkerInterface(t,i){return{run:()=>runWorker$1(t,i)}}function createWebWorkerInterface(t,{baseURL:i,chunkSize:n}){return t.interface||Object.assign(t,{worker:getWebWorker(t.scripts[0],i,t),interface:{run:()=>runWebWorker(t,{chunkSize:n})}}),t.interface}async function runWorker$1({options:t,readable:i,writable:n,onTaskFinished:r},s){const a=new CodecStream(t,s);try{await i.pipeThrough(a).pipeTo(n,{preventClose:!0,preventAbort:!0});const{signature:l,size:o}=a;return{signature:l,size:o}}finally{r()}}async function runWebWorker(t,i){let n,r;const s=new Promise((h,_)=>{n=h,r=_});Object.assign(t,{reader:null,writer:null,resolveResult:n,rejectResult:r,result:s});const{readable:a,options:l,scripts:o}=t,{writable:f,closed:c}=watchClosedStream(t.writable);sendMessage({type:MESSAGE_START,scripts:o.slice(1),options:l,config:i,readable:a,writable:f},t)||Object.assign(t,{reader:a.getReader(),writer:f.getWriter()});const u=await s;try{await f.getWriter().close()}catch{}return await c,u}function watchClosedStream(t){const i=t.getWriter();let n;const r=new Promise(a=>n=a);return{writable:new WritableStream({async write(a){await i.ready,await i.write(a)},close(){i.releaseLock(),n()},abort(a){return i.abort(a)}}),closed:r}}let classicWorkersSupported=!0,transferStreamsSupported=!0;function getWebWorker(t,i,n){const r={type:"module"};let s,a;typeof t==FUNCTION_TYPE$1&&(t=t());try{s=new URL(t,i)}catch{s=t}if(classicWorkersSupported)try{a=new Worker(s)}catch{classicWorkersSupported=!1,a=new Worker(s,r)}else a=new Worker(s,r);return a.addEventListener(MESSAGE_EVENT_TYPE,l=>onMessage(l,n)),a}function sendMessage(t,{worker:i,writer:n,onTaskFinished:r,transferStreams:s}){try{let{value:a,readable:l,writable:o}=t;const f=[];if(a&&(t.value=a.buffer,f.push(t.value)),s&&transferStreamsSupported?(l&&f.push(l),o&&f.push(o)):t.readable=t.writable=null,f.length)try{return i.postMessage(t,f),!0}catch{transferStreamsSupported=!1,t.readable=t.writable=null,i.postMessage(t)}else i.postMessage(t)}catch(a){throw n&&n.releaseLock(),r(),a}}async function onMessage({data:t},i){const{type:n,value:r,messageId:s,result:a,error:l}=t,{reader:o,writer:f,resolveResult:c,rejectResult:d,onTaskFinished:u}=i;try{if(l){const{message:_,stack:E,code:m,name:p}=l,g=new Error(_);Object.assign(g,{stack:E,code:m,name:p}),h(g)}else{if(n==MESSAGE_PULL){const{value:_,done:E}=await o.read();sendMessage({type:MESSAGE_DATA,value:_,done:E,messageId:s},i)}n==MESSAGE_DATA&&(await f.ready,await f.write(new Uint8Array(r)),sendMessage({type:MESSAGE_ACK_DATA,messageId:s},i)),n==MESSAGE_CLOSE&&h(null,a)}}catch(_){h(_)}function h(_,E){_?d(_):c(E),f&&f.releaseLock(),u()}}let pool=[];const pendingRequests=[];let indexWorker=0;async function runWorker(t,i){const{options:n,config:r}=i,{transferStreams:s,useWebWorkers:a,useCompressionStream:l,codecType:o,compressed:f,signed:c,encrypted:d}=n,{workerScripts:u,maxWorkers:h,terminateWorkerTimeout:_}=r;i.transferStreams=s||s===UNDEFINED_VALUE;const E=!f&&!c&&!d&&!i.transferStreams;i.useWebWorkers=!E&&(a||a===UNDEFINED_VALUE&&r.useWebWorkers),i.scripts=i.useWebWorkers&&u?u[o]:[],n.useCompressionStream=l||l===UNDEFINED_VALUE&&r.useCompressionStream;let m;const p=pool.find(b=>!b.busy);if(p)clearTerminateTimeout(p),m=new CodecWorker(p,t,i,g);else if(pool.length<h){const b={indexWorker};indexWorker++,pool.push(b),m=new CodecWorker(b,t,i,g)}else m=await new Promise(b=>pendingRequests.push({resolve:b,stream:t,workerOptions:i}));return m.run();function g(b){if(pendingRequests.length){const[{resolve:w,stream:x,workerOptions:y}]=pendingRequests.splice(0,1);w(new CodecWorker(b,x,y,g))}else b.worker?(clearTerminateTimeout(b),Number.isFinite(_)&&_>=0&&(b.terminateTimeout=setTimeout(()=>{pool=pool.filter(w=>w!=b),b.terminate()},_))):pool=pool.filter(w=>w!=b)}}function clearTerminateTimeout(t){const{terminateTimeout:i}=t;i&&(clearTimeout(i),t.terminateTimeout=null)}function e(t){const i=()=>URL.createObjectURL(new Blob([`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self;class k{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const v=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;v[e]=t}class S{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^v[255&(t^e[n])];this.t=t}get(){return~this.t}}class z extends p{constructor(){let e;const t=new S;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const C={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=C.i(n);return 32===r?e.concat(t):C.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+C.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=C.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=C.i(s);return r.push(C.h(t+i&31,t+i>32?n:r.pop(),1)),r}},x={p:{m(e){const t=C.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},g(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(C.h(8*(3&n),r)),t}}},_=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t._=e._):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e._=0,e}update(e){const t=this;"string"==typeof e&&(e=x.A.g(e));const n=t.C=C.concat(t.C,e),r=t._,i=t._=r+C.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}D(){const e=this;let t=e.C;const n=e.S;t=C.concat(t,[C.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e._/4294967296)),t.push(0|e._);t.length;)e.I(t.splice(0,16));return e.reset(),n}V(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}P(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.P(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.P(5,o)+n.V(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.P(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},A={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},I={importKey:e=>new I.R(x.p.g(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=C;for(t=x.p.g(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=_,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).D());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.D(),n=new e.M(e.U[1]).update(t).D();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},D=void 0!==h&&"function"==typeof h.getRandomValues,V="Invalid password",P="Invalid signature",R="zipjs-abort-check-password";function B(e){return D?h.getRandomValues(e):A.getRandomValues(e)}const E=16,M={name:"PBKDF2"},U=t.assign({hash:{name:"HMAC"}},M),K=t.assign({iterations:1e3,hash:{name:"SHA-1"}},M),N=["deriveBits"],O=[8,12,16],T=[16,24,32],W=10,j=[0,0,0,0],H="undefined",L="function",F=typeof h!=H,q=F&&h.subtle,G=F&&typeof q!=H,J=x.p,Q=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},X=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=C.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return C.u(t,s)}},Y=I.R;let Z=F&&G&&typeof q.importKey==L,$=F&&G&&typeof q.deriveBits==L;class ee extends p{constructor({password:e,signed:n,encryptionStrength:r,checkPasswordOnly:o}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,signed:n,X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:c,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await re(e,t,n,ie(r,0,O[t])),o=ie(r,O[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(V)})(n,c,r,ie(e,0,O[c]+2)),e=ie(e,O[c]+2),o?t.error(new s(R)):f()):await a;const l=new i(e.length-W-(e.length-W)%E);t.enqueue(ne(n,e,l,0,W,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;await c;const f=ie(o,0,o.length-W),a=ie(o,o.length-W);let l=new i;if(f.length){const e=ce(J,f);r.update(e);const t=n.update(e);l=oe(J,t)}if(t){const e=ie(oe(J,r.digest()),0,W);for(let t=0;W>t;t++)if(e[t]!=a[t])throw new s(P)}e.enqueue(l)}})}}class te extends p{constructor({password:e,encryptionStrength:n}){let r;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:e,X:n-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=B(new i(O[t]));return se(r,await re(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%E);a.set(f,0),t.enqueue(ne(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:s,ready:o}=this;await o;let c=new i;if(s.length){const e=t.update(ce(J,s));n.update(e),c=oe(J,e)}r.signature=oe(J,n.digest()).slice(0,W),e.enqueue(se(c,r.signature))}}),r=this}}function ne(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=se(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%E)),u=0;l-E>=u;u+=E){const e=ce(J,ie(t,u,u+E));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(oe(J,s),u+r)}return e.pending=ie(t,u),n}async function re(n,r,s,o){n.password=null;const c=(e=>{if(void 0===w){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(s),f=await(async(e,t,n,r,s)=>{if(!Z)return I.importKey(t);try{return await q.importKey("raw",t,n,!1,s)}catch(e){return Z=!1,I.importKey(t)}})(0,c,U,0,N),a=await(async(e,t,n)=>{if(!$)return I.B(t,e.salt,K.iterations,n);try{return await q.deriveBits(e,t,n)}catch(r){return $=!1,I.B(t,e.salt,K.iterations,n)}})(t.assign({salt:o},K),f,8*(2*T[r]+2)),l=new i(a),u=ce(J,ie(l,0,T[r])),h=ce(J,ie(l,T[r],2*T[r])),d=ie(l,2*T[r]);return t.assign(n,{keys:{key:u,$:h,passwordVerification:d},Y:new X(new Q(u),e.from(j)),Z:new Y(h)}),d}function se(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ie(e,t,n){return e.subarray(t,n)}function oe(e,t){return e.m(t)}function ce(e,t){return e.g(t)}class fe extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;if(n.password){const t=le(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(V);e=e.subarray(12)}r?t.error(new s(R)):t.enqueue(le(n,e))}})}}class ae extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),we(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=B(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(ue(n,t),0),s=12}else r=new i(e.length),s=0;r.set(ue(n,e),s),t.enqueue(r)}})}}function le(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,n[r]);return n}function ue(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=de(e)^t[r],he(e,t[r]);return n}function we(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new S(r[0]),te:new S(r[2])});for(let t=0;t<n.length;t++)he(e,n.charCodeAt(t))}function he(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=ye(r.imul(ye(s+pe(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function de(e){const t=2|e.keys[2];return pe(r.imul(t,1^t)>>>8)}function pe(e){return 255&e}function ye(e){return 4294967295&e}const me="deflate-raw";class be extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=ke(super.readable);i&&!c||!f||(w=new z,d=ze(d,w)),s&&(d=Se(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=ze(d,new ae(e)):(h=new te(e),d=ze(d,h))),ve(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ge extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=ke(super.readable);o&&(i?d=ze(d,new fe(e)):(h=new ee(e),d=ze(d,h))),a&&(d=Se(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new z,d=ze(d,w)),ve(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(P)}}))}}function ke(e){return ze(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ve(e,n,r){n=ze(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Se(e,t,n,r,s){try{e=ze(e,new(t&&r?r:s)(me,n))}catch(r){if(!t)throw r;e=ze(e,new s(me,n))}return e}function ze(e,t){return e.pipeThrough(t)}const Ce="data";class xe extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=be:s.startsWith("inflate")&&(i=ge);let o=0;const c=new i(e,n),f=super.readable,a=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=c;t.assign(r,{signature:e,size:o})}});t.defineProperty(r,"readable",{get:()=>f.pipeThrough(c).pipeThrough(a)})}}const _e=new a,Ae=new a;let Ie=0;async function De(e){try{const{options:t,scripts:r,config:s}=e;r&&r.length&&importScripts.apply(void 0,r),self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new k(self.Deflate)),self.Inflate&&(s.DecompressionStream=new k(self.Inflate));const i={highWaterMark:1,size:()=>s.chunkSize},o=e.readable||new y({async pull(e){const t=new u((e=>_e.set(Ie,e)));Ve({type:"pull",messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ae.set(Ie,t),Ve({type:Ce,value:e,messageId:Ie}),Ie=(Ie+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new xe(t,s);await o.pipeThrough(f).pipeTo(c,{preventClose:!0,preventAbort:!0});try{await c.getWriter().close()}catch(e){}const{signature:a,size:l}=f;Ve({type:"close",result:{signature:a,size:l}})}catch(e){Pe(e)}}function Ve(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Pe(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&De(e),t==Ce){const e=_e.get(n);_e.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ae.get(n);Ae.delete(n),e()}}catch(e){Pe(e)}}));const Re=-2;function Be(t){return Ee(t.map((([t,n])=>new e(t).fill(n,0,t))))}function Ee(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?Ee(n):n)),[])}const Me=[0,1,2,3].concat(...Be([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Ue(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Ke(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}Ue.ge=[0,1,2,3,4,5,6,7].concat(...Be([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),Ue.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Ue.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Ue.Se=e=>256>e?Me[e]:Me[256+(e>>>7)],Ue.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ue.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ue.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ue._e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Ne=Be([[144,8],[112,9],[24,7],[8,8]]);Ke.Ae=Ee([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Ne[t]])));const Oe=Be([[30,5]]);function Te(e,t,n,r,s){const i=this;i.Ie=e,i.De=t,i.Ve=n,i.Pe=r,i.Re=s}Ke.Be=Ee([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,Oe[t]]))),Ke.Ee=new Ke(Ke.Ae,Ue.ze,257,286,15),Ke.Me=new Ke(Ke.Be,Ue.Ce,0,30,15),Ke.Ue=new Ke(null,Ue.xe,0,19,7);const We=[new Te(0,0,0,0,0),new Te(4,4,8,4,1),new Te(4,5,16,8,1),new Te(4,6,32,32,1),new Te(4,4,16,16,2),new Te(8,16,32,32,2),new Te(8,16,128,128,2),new Te(8,32,128,256,2),new Te(32,128,258,1024,2),new Te(32,258,258,4096,2)],je=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],He=113,Le=666,Fe=262;function qe(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function Ge(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,_,A,I,D,V,P,R,B,E,M,U;const K=new Ue,N=new Ue,O=new Ue;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(Ue.ge[n]+256+1)]++,M[2*Ue.Se(t)]++),0==(8191&W)&&V>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+Ue.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=Ue.ge[s],Y(i+256+1,t),o=Ue.ze[i],0!==o&&(s-=Ue.ke[i],X(s,o)),r--,i=Ue.Se(r),Y(i,n),o=Ue.Ce[i],0!==o&&(r-=Ue.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;V>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*Ue._e[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Ke.Ae,Ke.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*Ue._e[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-_-C,0===s&&0===C&&0===_)s=f;else if(-1==s)s--;else if(C>=f+f-Fe){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+_,s),_+=e,3>_||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Fe>_&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=A;const o=C>f-Fe?C-(f-Fe):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>A||(r>>=2),c>_&&(c=_);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>_?_:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&qe(t,r[i+1],r[i],e.le)&&i++,!qe(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Re:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),V=S,P=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=He,c=0,K.re=E,K.ie=Ke.Ee,N.re=M,N.ie=Ke.Me,O.re=U,O.ie=Ke.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe,C=0,k=0,_=0,v=A=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=He&&n!=Le?Re:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==He?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Re:(We[V].Re!=We[t].Re&&0!==e.qe&&(r=e.Ye(1)),V!=t&&(V=t,D=We[V].De,R=We[V].Ie,B=We[V].Ve,I=We[V].Pe),P=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Re;if(3>i)return 0;for(i>f-Fe&&(i=f-Fe,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Re;if(!r.$e||!r.et&&0!==r.We||n==Le&&4!=i)return r.Le=je[4],Re;if(0===r.tt)return r.Le=je[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(V-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=He,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=je[7],-5;if(n==Le&&0!==t.We)return r.Le=je[7],-5;if(0!==t.We||0!==_||0!=i&&n!=Le){switch(R=-1,We[V].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=_){if(ie(),0===_&&0==e)return 0;if(0===_)break}if(C+=_,_=0,n=k+r,(0===C||C>=n)&&(_=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Fe&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Fe||2!=P&&(v=oe(r)),3>v)n=ee(0,255&u[C]),_--,C++;else if(n=ee(C-x,v-3),_-=v,v>D||3>_)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Fe>_){if(ie(),Fe>_&&0==e)return 0;if(0===_)break}if(3>_||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),A=v,S=x,v=2,0!==s&&D>A&&f-Fe>=(C-s&65535)&&(2!=P&&(v=oe(s)),5>=v&&(1==P||3==v&&C-x>4096)&&(v=2)),3>A||v>A)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,_--,0===t.tt)return 0}else z=1,C++,_--;else{r=C+_-3,n=ee(C-1-S,A-3),_-=A-1,A-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--A);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Le),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Ke.Ae),$(),9>1+H+10-F&&(X(2,3),Y(256,Ke.Ae),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function Je(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function Qe(e){const t=new Je,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}Je.prototype={He(e,t){const n=this;return n.Fe=new Ge,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Re},Qe(){const e=this;if(!e.Fe)return Re;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Re},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Re},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const Xe=-2,Ye=-3,Ze=-5,$e=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],et=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],tt=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],nt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],rt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],it=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ot(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,_,A,I,D;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return Ye;if(0>(I-=n[g]))return Ye;for(n[g]+=I,i[1]=k=0,C=1,A=2;0!=--g;)i[A]=k+=n[C],A++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,_=-S,s[0]=0,x=0,D=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>_+S;){if(b++,_+=S,D=m-_,D=D>S?S:D,(y=1<<(k=v-_))>p+1&&(y-=p+1,A=v,D>k))for(;++k<D&&(y<<=1)>n[++A];)y-=n[A];if(D=1<<k,h[0]+D>1440)return Ye;s[b]=x=h[0],h[0]+=D,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>_-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-_,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-_,k=g>>>_;D>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;0!=(g&k);k>>>=1)g^=k;for(g^=k,z=(1<<_)-1;(g&z)!=i[b];)b--,_-=S,z=(1<<_)-1}return 0!==I&&1!=m?Ze:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==Ye?f.Le="oversubscribed dynamic bit lengths tree":a!=Ze&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=Ye),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,nt,rt,a,i,u,e,t),0!=h||0===i[0]?(h==Ye?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=Ye),h):(c(288),h=o(s,n,r,0,st,it,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==Ye?w.Le="oversubscribed distance tree":h==Ze?(w.Le="incomplete distance tree",h=Ye):-4!=h&&(w.Le="empty distance tree with lengths",h=Ye),h):0)}}function ct(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=$e[e],g=$e[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15,k=a[z+2]+(w&$e[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&$e[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(0!=(64&u))return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye;f+=a[z+2],f+=w&$e[u],z=3*(l+f),u=a[z]}break}if(0!=(64&u))return 0!=(32&u)?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,Ye);if(f+=a[z+2],f+=w&$e[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,_=0,A=0;for(A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,m=p(u,w,r,h,s,d,e,y),A=y.nt,v=y.We,x=e.ot,_=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>>=n[g+1],_-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(0!=(16&k)){a=15&k,i=n[g+2],t=2;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}if(0!=(32&k)){t=7;break}return t=9,y.Le="invalid literal/length code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 2:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}i+=x&$e[b],x>>=b,_-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}if(g=3*(o+(x&$e[b])),x>>=n[g+1],_-=n[g+1],k=n[g],0!=(16&k)){a=15&k,l=n[g+2],t=4;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 4:for(b=a;b>_;){if(0===v)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(A++))<<_,_+=8}l+=x&$e[b],x>>=b,_-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(_>7&&(_-=8,v++,A--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);case 9:return m=Ye,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m);default:return m=Xe,e.ot=x,e.ct=_,y.We=v,y.qe+=A-y.nt,y.nt=A,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ot.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=et,r[0]=tt,0);const ft=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function at(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new ct;let h=0,d=new f(4320);const p=new ot;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==Ze&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,_,A,I,D;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ot.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[ft[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[ft[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==Ye&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&$e[i]))+1],w=d[3*(u[0]+(f&$e[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&$e[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,_=[],A=[],I=[],D=[],_[0]=9,A[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,_,A,I,D,d,e),0!=i)return i==Ye&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(_[0],A[0],d,I[0],d,D[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=Ye,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=Xe,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const lt=13,ut=[0,0,255,255];function wt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):Xe}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),Xe):(e.zt=r,n.gt.kt=new at(n,1<<r),t(n),0)),e._t=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return Xe;const s=e.gt;for(t=4==t?Ze:0,n=Ze;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=lt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=lt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=lt,e.Le="incorrect header check",s.marker=5;break}if(0==(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=lt,e.Le="need dictionary",s.marker=0,Xe;case 7:if(n=s.kt.ut(e,n),n==Ye){s.mode=lt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case lt:return Ye;default:return Xe}},e.At=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return Xe;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return Xe;const c=e.gt;if(c.mode!=lt&&(c.mode=lt,c.marker=0),0===(n=e.We))return Ze;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==ut[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?Ye:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Dt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():Xe}function ht(){}function dt(e){const t=new ht,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t._t(0),c&&a===Ze){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}ht.prototype={xt(e){const t=this;return t.gt=new wt,e||(e=15),t.gt.xt(t,e)},_t(e){const t=this;return t.gt?t.gt._t(t,e):Xe},Ct(){const e=this;if(!e.gt)return Xe;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):Xe},At(e,t){const n=this;return n.gt?n.gt.At(n,e,t):Xe},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=Qe,self.Inflate=dt};
`],{type:"text/javascript"}));t({workerScripts:{inflate:[i],deflate:[i]}})}const ERR_ITERATOR_COMPLETED_TOO_SOON="Writer iterator completed too soon",HTTP_HEADER_CONTENT_TYPE="Content-Type",DEFAULT_CHUNK_SIZE=64*1024,PROPERTY_NAME_WRITABLE="writable";class Stream{constructor(){this.size=0}init(){this.initialized=!0}}class Reader extends Stream{get readable(){const i=this,{chunkSize:n=DEFAULT_CHUNK_SIZE}=i,r=new ReadableStream({start(){this.chunkOffset=0},async pull(s){const{offset:a=0,size:l,diskNumberStart:o}=r,{chunkOffset:f}=this;s.enqueue(await readUint8Array(i,a+f,Math.min(n,l-f),o)),f+n>l?s.close():this.chunkOffset+=n}});return r}}class BlobReader extends Reader{constructor(i){super(),Object.assign(this,{blob:i,size:i.size})}async readUint8Array(i,n){const r=this,s=i+n;let l=await(i||s<r.size?r.blob.slice(i,s):r.blob).arrayBuffer();return l.byteLength>n&&(l=l.slice(i,s)),new Uint8Array(l)}}class BlobWriter extends Stream{constructor(i){super();const n=this,r=new TransformStream,s=[];i&&s.push([HTTP_HEADER_CONTENT_TYPE,i]),Object.defineProperty(n,PROPERTY_NAME_WRITABLE,{get(){return r.writable}}),n.blob=new Response(r.readable,{headers:s}).blob()}getData(){return this.blob}}class SplitDataReader extends Reader{constructor(i){super(),this.readers=i}async init(){const i=this,{readers:n}=i;i.lastDiskNumber=0,i.lastDiskOffset=0,await Promise.all(n.map(async(r,s)=>{await r.init(),s!=n.length-1&&(i.lastDiskOffset+=r.size),i.size+=r.size})),super.init()}async readUint8Array(i,n,r=0){const s=this,{readers:a}=this;let l,o=r;o==-1&&(o=a.length-1);let f=i;for(;f>=a[o].size;)f-=a[o].size,o++;const c=a[o],d=c.size;if(f+n<=d)l=await readUint8Array(c,f,n);else{const u=d-f;l=new Uint8Array(n),l.set(await readUint8Array(c,f,u)),l.set(await s.readUint8Array(i+u,n-u,r),u)}return s.lastDiskNumber=Math.max(o,s.lastDiskNumber),l}}class SplitDataWriter extends Stream{constructor(i,n=4294967295){super();const r=this;Object.assign(r,{diskNumber:0,diskOffset:0,size:0,maxSize:n,availableSize:n});let s,a,l;const o=new WritableStream({async write(d){const{availableSize:u}=r;if(l)d.length>=u?(await f(d.slice(0,u)),await c(),r.diskOffset+=s.size,r.diskNumber++,l=null,await this.write(d.slice(u))):await f(d);else{const{value:h,done:_}=await i.next();if(_&&!h)throw new Error(ERR_ITERATOR_COMPLETED_TOO_SOON);s=h,s.size=0,s.maxSize&&(r.maxSize=s.maxSize),r.availableSize=r.maxSize,await initStream(s),a=h.writable,l=a.getWriter(),await this.write(d)}},async close(){await l.ready,await c()}});Object.defineProperty(r,PROPERTY_NAME_WRITABLE,{get(){return o}});async function f(d){const u=d.length;u&&(await l.ready,await l.write(d),s.size+=u,r.size+=u,r.availableSize-=u)}async function c(){a.size=s.size,await l.close()}}}async function initStream(t,i){t.init&&!t.initialized&&await t.init(i)}function initReader(t){return Array.isArray(t)&&(t=new SplitDataReader(t)),t instanceof ReadableStream&&(t={readable:t}),t}function initWriter(t){t.writable===UNDEFINED_VALUE&&typeof t.next==FUNCTION_TYPE$1&&(t=new SplitDataWriter(t)),t instanceof WritableStream&&(t={writable:t});const{writable:i}=t;return i.size===UNDEFINED_VALUE&&(i.size=0),t instanceof SplitDataWriter||Object.assign(t,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),t}function readUint8Array(t,i,n,r){return t.readUint8Array(i,n,r)}const CP437="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split("");CP437.length==256;const PROPERTY_NAME_FILENAME="filename",PROPERTY_NAME_RAW_FILENAME="rawFilename",PROPERTY_NAME_COMMENT="comment",PROPERTY_NAME_RAW_COMMENT="rawComment",PROPERTY_NAME_UNCOMPPRESSED_SIZE="uncompressedSize",PROPERTY_NAME_COMPPRESSED_SIZE="compressedSize",PROPERTY_NAME_OFFSET="offset",PROPERTY_NAME_DISK_NUMBER_START="diskNumberStart",PROPERTY_NAME_LAST_MODIFICATION_DATE="lastModDate",PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE="rawLastModDate",PROPERTY_NAME_LAST_ACCESS_DATE="lastAccessDate",PROPERTY_NAME_CREATION_DATE="creationDate",PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE="internalFileAttribute",PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE="externalFileAttribute",PROPERTY_NAME_MS_DOS_COMPATIBLE="msDosCompatible",PROPERTY_NAME_ZIP64="zip64",PROPERTY_NAMES=[PROPERTY_NAME_FILENAME,PROPERTY_NAME_RAW_FILENAME,PROPERTY_NAME_COMPPRESSED_SIZE,PROPERTY_NAME_UNCOMPPRESSED_SIZE,PROPERTY_NAME_LAST_MODIFICATION_DATE,PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE,PROPERTY_NAME_COMMENT,PROPERTY_NAME_RAW_COMMENT,PROPERTY_NAME_LAST_ACCESS_DATE,PROPERTY_NAME_CREATION_DATE,PROPERTY_NAME_OFFSET,PROPERTY_NAME_DISK_NUMBER_START,PROPERTY_NAME_DISK_NUMBER_START,PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE,PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,PROPERTY_NAME_MS_DOS_COMPATIBLE,PROPERTY_NAME_ZIP64,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Entry{constructor(i){PROPERTY_NAMES.forEach(n=>this[n]=i[n])}}const ERR_DUPLICATED_NAME="File already exists",ERR_INVALID_COMMENT="Zip file comment exceeds 64KB",ERR_INVALID_ENTRY_COMMENT="File entry comment exceeds 64KB",ERR_INVALID_ENTRY_NAME="File entry name exceeds 64KB",ERR_INVALID_VERSION="Version exceeds 65535",ERR_INVALID_ENCRYPTION_STRENGTH="The strength must equal 1, 2, or 3",ERR_INVALID_EXTRAFIELD_TYPE="Extra field type exceeds 65535",ERR_INVALID_EXTRAFIELD_DATA="Extra field data exceeds 64KB",ERR_UNSUPPORTED_FORMAT="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",EXTRAFIELD_DATA_AES=new Uint8Array([7,0,2,0,65,69,3,0,0]);let workers=0;const pendingEntries=[];class ZipWriter{constructor(i,n={}){i=initWriter(i),Object.assign(this,{writer:i,addSplitZipSignature:i instanceof SplitDataWriter,options:n,config:getConfiguration(),files:new Map,filenames:new Set,offset:i.writable.size,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(i="",n,r={}){const s=this,{pendingAddFileCalls:a,config:l}=s;workers<l.maxWorkers?workers++:await new Promise(f=>pendingEntries.push(f));let o;try{if(i=i.trim(),s.filenames.has(i))throw new Error(ERR_DUPLICATED_NAME);return s.filenames.add(i),o=addFile(s,i,n,r),a.add(o),await o}catch(f){throw s.filenames.delete(i),f}finally{a.delete(o);const f=pendingEntries.shift();f?f():workers--}}async close(i=new Uint8Array,n={}){const r=this,{pendingAddFileCalls:s,writer:a}=this,{writable:l}=a;for(;s.size;)await Promise.all(Array.from(s));return await closeFile(this,i,n),getOptionValue(r,n,"preventClose")||await l.getWriter().close(),a.getData?a.getData():l}}async function addFile(t,i,n,r){i=i.trim(),r.directory&&!i.endsWith(DIRECTORY_SIGNATURE)?i+=DIRECTORY_SIGNATURE:r.directory=i.endsWith(DIRECTORY_SIGNATURE);const s=encodeText(i);if(getLength(s)>MAX_16_BITS)throw new Error(ERR_INVALID_ENTRY_NAME);const a=r.comment||"",l=encodeText(a);if(getLength(l)>MAX_16_BITS)throw new Error(ERR_INVALID_ENTRY_COMMENT);const o=getOptionValue(t,r,"version",VERSION_DEFLATE);if(o>MAX_16_BITS)throw new Error(ERR_INVALID_VERSION);const f=getOptionValue(t,r,"versionMadeBy",20);if(f>MAX_16_BITS)throw new Error(ERR_INVALID_VERSION);const c=getOptionValue(t,r,PROPERTY_NAME_LAST_MODIFICATION_DATE,new Date),d=getOptionValue(t,r,PROPERTY_NAME_LAST_ACCESS_DATE),u=getOptionValue(t,r,PROPERTY_NAME_CREATION_DATE),h=getOptionValue(t,r,PROPERTY_NAME_MS_DOS_COMPATIBLE,!0),_=getOptionValue(t,r,PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE,0),E=getOptionValue(t,r,PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,0),m=getOptionValue(t,r,"password"),p=getOptionValue(t,r,"encryptionStrength",3),g=getOptionValue(t,r,"zipCrypto"),b=getOptionValue(t,r,"extendedTimestamp",!0),w=getOptionValue(t,r,"keepOrder",!0),x=getOptionValue(t,r,"level"),y=getOptionValue(t,r,"useWebWorkers"),S=getOptionValue(t,r,"bufferedWrite"),v=getOptionValue(t,r,"dataDescriptorSignature",!1),T=getOptionValue(t,r,"signal"),k=getOptionValue(t,r,"useCompressionStream");let R=getOptionValue(t,r,"dataDescriptor",!0),A=getOptionValue(t,r,PROPERTY_NAME_ZIP64);if(m!==UNDEFINED_VALUE&&p!==UNDEFINED_VALUE&&(p<1||p>3))throw new Error(ERR_INVALID_ENCRYPTION_STRENGTH);let N=new Uint8Array;const{extraField:C}=r;if(C){let ae=0,se=0;C.forEach(X=>ae+=4+getLength(X)),N=new Uint8Array(ae),C.forEach((X,oe)=>{if(oe>MAX_16_BITS)throw new Error(ERR_INVALID_EXTRAFIELD_TYPE);if(getLength(X)>MAX_16_BITS)throw new Error(ERR_INVALID_EXTRAFIELD_DATA);arraySet(N,new Uint16Array([oe]),se),arraySet(N,new Uint16Array([getLength(X)]),se+2),arraySet(N,X,se+4),se+=4+getLength(X)})}let F=0,L=0,B=0;const U=A===!0;n&&(n=initReader(n),await initStream(n),n.size===UNDEFINED_VALUE?(R=!0,(A||A===UNDEFINED_VALUE)&&(A=!0,B=F=MAX_32_BITS)):(B=n.size,F=getMaximumCompressedSize(B)));const{diskOffset:$,diskNumber:V,maxSize:Z}=t.writer,G=U||B>=MAX_32_BITS,H=U||F>=MAX_32_BITS,K=U||t.offset+t.pendingEntriesSize-$>=MAX_32_BITS,Y=getOptionValue(t,r,"supportZip64SplitFile",!0)&&U||V+Math.ceil(t.pendingEntriesSize/Z)>=MAX_16_BITS;if(K||G||H||Y){if(A===!1||!w)throw new Error(ERR_UNSUPPORTED_FORMAT);A=!0}A=A||!1,r=Object.assign({},r,{rawFilename:s,rawComment:l,version:o,versionMadeBy:f,lastModDate:c,lastAccessDate:d,creationDate:u,rawExtraField:N,zip64:A,zip64UncompressedSize:G,zip64CompressedSize:H,zip64Offset:K,zip64DiskNumberStart:Y,password:m,level:x,useWebWorkers:y,encryptionStrength:p,extendedTimestamp:b,zipCrypto:g,bufferedWrite:S,keepOrder:w,dataDescriptor:R,dataDescriptorSignature:v,signal:T,msDosCompatible:h,internalFileAttribute:_,externalFileAttribute:E,useCompressionStream:k});const q=getHeaderInfo(r),te=getDataDescriptorInfo(r),le=getLength(q.localHeaderArray,te.dataDescriptorArray);L=le+F,t.options.usdz&&(L+=L+64),t.pendingEntriesSize+=L;let ne;try{ne=await getFileEntry(t,i,n,{headerInfo:q,dataDescriptorInfo:te,metadataSize:le},r)}finally{t.pendingEntriesSize-=L}return Object.assign(ne,{name:i,comment:a,extraField:C}),new Entry(ne)}async function getFileEntry(t,i,n,r,s){const{files:a,writer:l}=t,{keepOrder:o,dataDescriptor:f,signal:c}=s,{headerInfo:d}=r,{usdz:u}=t.options,h=Array.from(a.values()).pop();let _={},E,m,p,g,b,w;a.set(i,_);try{let v;o&&(v=h&&h.lock,x()),(s.bufferedWrite||t.writerLocked||t.bufferedWrites&&o||!f)&&!u?(w=new BlobWriter,w.writable.size=0,E=!0,t.bufferedWrites++,await initStream(l)):(w=l,await y()),await initStream(w);const{writable:T}=l;let{diskOffset:k}=l;if(t.addSplitZipSignature){delete t.addSplitZipSignature;const A=new Uint8Array(4),N=getDataView(A);setUint32(N,0,SPLIT_ZIP_FILE_SIGNATURE),await writeData(T,A),t.offset+=4}E||(await v,await S(T));const{diskNumber:R}=l;if(b=!0,_.diskNumberStart=R,u&&appendExtraFieldUSDZ(r,t.offset-k),_=await createFileEntry(n,w,_,r,t.config,s),b=!1,a.set(i,_),_.filename=i,E){await w.writable.getWriter().close();let A=await w.getData();await v,await y(),g=!0,f||(A=await writeExtraHeaderInfo(_,A,T,s)),await S(T),_.diskNumberStart=l.diskNumber,k=l.diskOffset,await A.stream().pipeTo(T,{preventClose:!0,preventAbort:!0,signal:c}),T.size+=A.size,g=!1}if(_.offset=t.offset-k,_.zip64)setZip64ExtraInfo(_,s);else if(_.offset>=MAX_32_BITS)throw new Error(ERR_UNSUPPORTED_FORMAT);return t.offset+=_.length,_}catch(v){if(E&&g||!E&&b){if(t.hasCorruptedEntries=!0,v)try{v.corruptedEntry=!0}catch{}E?t.offset+=w.writable.size:t.offset=w.writable.size}throw a.delete(i),v}finally{E&&t.bufferedWrites--,p&&p(),m&&m()}function x(){_.lock=new Promise(v=>p=v)}async function y(){t.writerLocked=!0;const{lockWriter:v}=t;t.lockWriter=new Promise(T=>m=()=>{t.writerLocked=!1,T()}),await v}async function S(v){d.localHeaderArray.length>l.availableSize&&(l.availableSize=0,await writeData(v,new Uint8Array))}}async function createFileEntry(t,i,{diskNumberStart:n,lock:r},s,a,l){const{headerInfo:o,dataDescriptorInfo:f,metadataSize:c}=s,{localHeaderArray:d,headerArray:u,lastModDate:h,rawLastModDate:_,encrypted:E,compressed:m,version:p,compressionMethod:g,rawExtraFieldExtendedTimestamp:b,extraFieldExtendedTimestampFlag:w,rawExtraFieldNTFS:x,rawExtraFieldAES:y}=o,{dataDescriptorArray:S}=f,{rawFilename:v,lastAccessDate:T,creationDate:k,password:R,level:A,zip64:N,zip64UncompressedSize:C,zip64CompressedSize:F,zip64Offset:L,zip64DiskNumberStart:B,zipCrypto:U,dataDescriptor:$,directory:V,versionMadeBy:Z,rawComment:G,rawExtraField:H,useWebWorkers:K,onstart:J,onprogress:Y,onend:q,signal:te,encryptionStrength:le,extendedTimestamp:ne,msDosCompatible:ae,internalFileAttribute:se,externalFileAttribute:X,useCompressionStream:oe}=l,pe={lock:r,versionMadeBy:Z,zip64:N,directory:!!V,filenameUTF8:!0,rawFilename:v,commentUTF8:!0,rawComment:G,rawExtraFieldExtendedTimestamp:b,rawExtraFieldNTFS:x,rawExtraFieldAES:y,rawExtraField:H,extendedTimestamp:ne,msDosCompatible:ae,internalFileAttribute:se,externalFileAttribute:X,diskNumberStart:n};let j=0,Q=0,ue;const{writable:fe}=i;if(t){t.chunkSize=getChunkSize(a),await writeData(fe,d);const ie=t.readable,_e=ie.size=t.size,me={options:{codecType:CODEC_DEFLATE,level:A,password:R,encryptionStrength:le,zipCrypto:E&&U,passwordVerification:E&&U&&_>>8&255,signed:!0,compressed:m,encrypted:E,useWebWorkers:K,useCompressionStream:oe,transferStreams:!1},config:a,streamOptions:{signal:te,size:_e,onstart:J,onprogress:Y,onend:q}},he=await runWorker({readable:ie,writable:fe},me);fe.size+=he.size,ue=he.signature,Q=t.size=ie.size,j=he.size}else await writeData(fe,d);let de;if(N){let ie=4;C&&(ie+=8),F&&(ie+=8),L&&(ie+=8),B&&(ie+=4),de=new Uint8Array(ie)}else de=new Uint8Array;return setEntryInfo({signature:ue,rawExtraFieldZip64:de,compressedSize:j,uncompressedSize:Q,headerInfo:o,dataDescriptorInfo:f},l),$&&await writeData(fe,S),Object.assign(pe,{uncompressedSize:Q,compressedSize:j,lastModDate:h,rawLastModDate:_,creationDate:k,lastAccessDate:T,encrypted:E,length:c+j,compressionMethod:g,version:p,headerArray:u,signature:ue,rawExtraFieldZip64:de,extraFieldExtendedTimestampFlag:w,zip64UncompressedSize:C,zip64CompressedSize:F,zip64Offset:L,zip64DiskNumberStart:B}),pe}function getHeaderInfo(t){const{rawFilename:i,lastModDate:n,lastAccessDate:r,creationDate:s,password:a,level:l,zip64:o,zipCrypto:f,dataDescriptor:c,directory:d,rawExtraField:u,encryptionStrength:h,extendedTimestamp:_}=t,E=l!==0&&!d,m=!!(a&&getLength(a));let p=t.version,g;if(m&&!f){g=new Uint8Array(getLength(EXTRAFIELD_DATA_AES)+2);const B=getDataView(g);setUint16(B,0,EXTRAFIELD_TYPE_AES),arraySet(g,EXTRAFIELD_DATA_AES,2),setUint8(B,8,h)}else g=new Uint8Array;let b,w,x;if(_){w=new Uint8Array(9+(r?4:0)+(s?4:0));const B=getDataView(w);setUint16(B,0,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP),setUint16(B,2,getLength(w)-4),x=1+(r?2:0)+(s?4:0),setUint8(B,4,x);let U=5;setUint32(B,U,Math.floor(n.getTime()/1e3)),U+=4,r&&(setUint32(B,U,Math.floor(r.getTime()/1e3)),U+=4),s&&setUint32(B,U,Math.floor(s.getTime()/1e3));try{b=new Uint8Array(36);const $=getDataView(b),V=getTimeNTFS(n);setUint16($,0,EXTRAFIELD_TYPE_NTFS),setUint16($,2,32),setUint16($,8,EXTRAFIELD_TYPE_NTFS_TAG1),setUint16($,10,24),setBigUint64($,12,V),setBigUint64($,20,getTimeNTFS(r)||V),setBigUint64($,28,getTimeNTFS(s)||V)}catch{b=new Uint8Array}}else b=w=new Uint8Array;let y=BITFLAG_LANG_ENCODING_FLAG;c&&(y=y|BITFLAG_DATA_DESCRIPTOR);let S=COMPRESSION_METHOD_STORE;E&&(S=COMPRESSION_METHOD_DEFLATE),o&&(p=p>VERSION_ZIP64?p:VERSION_ZIP64),m&&(y=y|BITFLAG_ENCRYPTED,f||(p=p>VERSION_AES?p:VERSION_AES,S=COMPRESSION_METHOD_AES,E&&(g[9]=COMPRESSION_METHOD_DEFLATE)));const v=new Uint8Array(26),T=getDataView(v);setUint16(T,0,p),setUint16(T,2,y),setUint16(T,4,S);const k=new Uint32Array(1),R=getDataView(k);let A;n<MIN_DATE?A=MIN_DATE:n>MAX_DATE?A=MAX_DATE:A=n,setUint16(R,0,(A.getHours()<<6|A.getMinutes())<<5|A.getSeconds()/2),setUint16(R,2,(A.getFullYear()-1980<<4|A.getMonth()+1)<<5|A.getDate());const N=k[0];setUint32(T,6,N),setUint16(T,22,getLength(i));const C=getLength(g,w,b,u);setUint16(T,24,C);const F=new Uint8Array(30+getLength(i)+C),L=getDataView(F);return setUint32(L,0,LOCAL_FILE_HEADER_SIGNATURE),arraySet(F,v,4),arraySet(F,i,30),arraySet(F,g,30+getLength(i)),arraySet(F,w,30+getLength(i,g)),arraySet(F,b,30+getLength(i,g,w)),arraySet(F,u,30+getLength(i,g,w,b)),{localHeaderArray:F,headerArray:v,headerView:T,lastModDate:n,rawLastModDate:N,encrypted:m,compressed:E,version:p,compressionMethod:S,extraFieldExtendedTimestampFlag:x,rawExtraFieldExtendedTimestamp:w,rawExtraFieldNTFS:b,rawExtraFieldAES:g,extraFieldLength:C}}function appendExtraFieldUSDZ(t,i){const{headerInfo:n}=t;let{localHeaderArray:r,extraFieldLength:s}=n,a=getDataView(r),l=64-(i+r.length)%64;l<4&&(l+=64);const o=new Uint8Array(l),f=getDataView(o);setUint16(f,0,EXTRAFIELD_TYPE_USDZ),setUint16(f,2,l-2);const c=r;n.localHeaderArray=r=new Uint8Array(c.length+l),arraySet(r,c),arraySet(r,o,c.length),a=getDataView(r),setUint16(a,28,s+l),t.metadataSize+=l}function getDataDescriptorInfo(t){const{zip64:i,dataDescriptor:n,dataDescriptorSignature:r}=t;let s=new Uint8Array,a,l=0;return n&&(s=new Uint8Array(i?r?24:20:r?16:12),a=getDataView(s),r&&(l=4,setUint32(a,0,DATA_DESCRIPTOR_RECORD_SIGNATURE))),{dataDescriptorArray:s,dataDescriptorView:a,dataDescriptorOffset:l}}function setEntryInfo(t,i){const{signature:n,rawExtraFieldZip64:r,compressedSize:s,uncompressedSize:a,headerInfo:l,dataDescriptorInfo:o}=t,{headerView:f,encrypted:c}=l,{dataDescriptorView:d,dataDescriptorOffset:u}=o,{zip64:h,zip64UncompressedSize:_,zip64CompressedSize:E,zipCrypto:m,dataDescriptor:p}=i;if((!c||m)&&n!==UNDEFINED_VALUE&&(setUint32(f,10,n),p&&setUint32(d,u,n)),h){const g=getDataView(r);setUint16(g,0,EXTRAFIELD_TYPE_ZIP64),setUint16(g,2,r.length-4);let b=4;_&&(setUint32(f,18,MAX_32_BITS),setBigUint64(g,b,BigInt(a)),b+=8),E&&(setUint32(f,14,MAX_32_BITS),setBigUint64(g,b,BigInt(s))),p&&(setBigUint64(d,u+4,BigInt(s)),setBigUint64(d,u+12,BigInt(a)))}else setUint32(f,14,s),setUint32(f,18,a),p&&(setUint32(d,u+4,s),setUint32(d,u+8,a))}async function writeExtraHeaderInfo(t,i,n,{zipCrypto:r}){let s;s=await i.slice(0,26).arrayBuffer(),s.byteLength!=26&&(s=s.slice(0,26));const a=new DataView(s);return(!t.encrypted||r)&&setUint32(a,14,t.signature),t.zip64?(setUint32(a,18,MAX_32_BITS),setUint32(a,22,MAX_32_BITS)):(setUint32(a,18,t.compressedSize),setUint32(a,22,t.uncompressedSize)),await writeData(n,new Uint8Array(s)),i.slice(s.byteLength)}function setZip64ExtraInfo(t,i){const{rawExtraFieldZip64:n,offset:r,diskNumberStart:s}=t,{zip64UncompressedSize:a,zip64CompressedSize:l,zip64Offset:o,zip64DiskNumberStart:f}=i,c=getDataView(n);let d=4;a&&(d+=8),l&&(d+=8),o&&(setBigUint64(c,d,BigInt(r)),d+=8),f&&setUint32(c,d,s)}async function closeFile(t,i,n){const{files:r,writer:s}=t,{diskOffset:a,writable:l}=s;let{diskNumber:o}=s,f=0,c=0,d=t.offset-a,u=r.size;for(const[,y]of r){const{rawFilename:S,rawExtraFieldZip64:v,rawExtraFieldAES:T,rawComment:k,rawExtraFieldNTFS:R,rawExtraField:A,extendedTimestamp:N,extraFieldExtendedTimestampFlag:C,lastModDate:F}=y;let L;if(N){L=new Uint8Array(9);const B=getDataView(L);setUint16(B,0,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP),setUint16(B,2,5),setUint8(B,4,C),setUint32(B,5,Math.floor(F.getTime()/1e3))}else L=new Uint8Array;y.rawExtraFieldCDExtendedTimestamp=L,c+=46+getLength(S,k,v,T,R,L,A)}const h=new Uint8Array(c),_=getDataView(h);await initStream(s);let E=0;for(const[y,S]of Array.from(r.values()).entries()){const{offset:v,rawFilename:T,rawExtraFieldZip64:k,rawExtraFieldAES:R,rawExtraFieldCDExtendedTimestamp:A,rawExtraFieldNTFS:N,rawExtraField:C,rawComment:F,versionMadeBy:L,headerArray:B,directory:U,zip64:$,zip64UncompressedSize:V,zip64CompressedSize:Z,zip64DiskNumberStart:G,zip64Offset:H,msDosCompatible:K,internalFileAttribute:J,externalFileAttribute:Y,diskNumberStart:q,uncompressedSize:te,compressedSize:le}=S,ne=getLength(k,R,A,N,C);setUint32(_,f,CENTRAL_FILE_HEADER_SIGNATURE),setUint16(_,f+4,L);const ae=getDataView(B);V||setUint32(ae,18,te),Z||setUint32(ae,14,le),arraySet(h,B,f+6),setUint16(_,f+30,ne),setUint16(_,f+32,getLength(F)),setUint16(_,f+34,$&&G?MAX_16_BITS:q),setUint16(_,f+36,J),Y?setUint32(_,f+38,Y):U&&K&&setUint8(_,f+38,FILE_ATTR_MSDOS_DIR_MASK),setUint32(_,f+42,$&&H?MAX_32_BITS:v),arraySet(h,T,f+46),arraySet(h,k,f+46+getLength(T)),arraySet(h,R,f+46+getLength(T,k)),arraySet(h,A,f+46+getLength(T,k,R)),arraySet(h,N,f+46+getLength(T,k,R,A)),arraySet(h,C,f+46+getLength(T,k,R,A,N)),arraySet(h,F,f+46+getLength(T)+ne);const se=46+getLength(T,F)+ne;if(f-E>s.availableSize&&(s.availableSize=0,await writeData(l,h.slice(E,f)),E=f),f+=se,n.onprogress)try{await n.onprogress(y+1,r.size,new Entry(S))}catch{}}await writeData(l,E?h.slice(E):h);let m=s.diskNumber;const{availableSize:p}=s;p<END_OF_CENTRAL_DIR_LENGTH&&m++;let g=getOptionValue(t,n,"zip64");if(d>=MAX_32_BITS||c>=MAX_32_BITS||u>=MAX_16_BITS||m>=MAX_16_BITS){if(g===!1)throw new Error(ERR_UNSUPPORTED_FORMAT);g=!0}const b=new Uint8Array(g?ZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH:END_OF_CENTRAL_DIR_LENGTH),w=getDataView(b);f=0,g&&(setUint32(w,0,ZIP64_END_OF_CENTRAL_DIR_SIGNATURE),setBigUint64(w,4,BigInt(44)),setUint16(w,12,45),setUint16(w,14,45),setUint32(w,16,m),setUint32(w,20,o),setBigUint64(w,24,BigInt(u)),setBigUint64(w,32,BigInt(u)),setBigUint64(w,40,BigInt(c)),setBigUint64(w,48,BigInt(d)),setUint32(w,56,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE),setBigUint64(w,64,BigInt(d)+BigInt(c)),setUint32(w,72,m+1),getOptionValue(t,n,"supportZip64SplitFile",!0)&&(m=MAX_16_BITS,o=MAX_16_BITS),u=MAX_16_BITS,d=MAX_32_BITS,c=MAX_32_BITS,f+=ZIP64_END_OF_CENTRAL_DIR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH),setUint32(w,f,END_OF_CENTRAL_DIR_SIGNATURE),setUint16(w,f+4,m),setUint16(w,f+6,o),setUint16(w,f+8,u),setUint16(w,f+10,u),setUint32(w,f+12,c),setUint32(w,f+16,d);const x=getLength(i);if(x)if(x<=MAX_16_BITS)setUint16(w,f+20,x);else throw new Error(ERR_INVALID_COMMENT);await writeData(l,b),x&&await writeData(l,i)}async function writeData(t,i){const n=t.getWriter();await n.ready,t.size+=getLength(i),await n.write(i),n.releaseLock()}function getTimeNTFS(t){if(t)return(BigInt(t.getTime())+BigInt(116444736e5))*BigInt(1e4)}function getOptionValue(t,i,n,r){const s=i[n]===UNDEFINED_VALUE?t.options[n]:i[n];return s===UNDEFINED_VALUE?r:s}function getMaximumCompressedSize(t){return t+5*(Math.floor(t/16383)+1)}function setUint8(t,i,n){t.setUint8(i,n)}function setUint16(t,i,n){t.setUint16(i,n,!0)}function setUint32(t,i,n){t.setUint32(i,n,!0)}function setBigUint64(t,i,n){t.setBigUint64(i,n,!0)}function arraySet(t,i,n){t.set(i,n)}function getDataView(t){return new DataView(t.buffer)}function getLength(...t){let i=0;return t.forEach(n=>n&&(i+=n.length)),i}let baseURL;try{baseURL=import.meta.url}catch(t){}configure({baseURL});e(configure);configure({Deflate:ZipDeflate,Inflate:ZipInflate});function create_fragment$4(t){let i,n,r,s='<span class="text-sm">Auto accept</span> <p class="text-xs text-gray-500">The receiver will automatically accept receiving files.</p>',a,l,o,f="On",c,d="Off",u,h,_,E='<span class="text-sm">Max Size</span> <p class="text-xs text-gray-500">The max file size to allow to send.</p>',m,p,g,b="10 MB",w,x="100 MB",y,S="1 GB",v,T="10 GB",k,R="Unlimit",A,N;return{c(){i=element("div"),n=element("div"),r=element("div"),r.innerHTML=s,a=space(),l=element("select"),o=element("option"),o.textContent=f,c=element("option"),c.textContent=d,u=space(),h=element("div"),_=element("div"),_.innerHTML=E,m=space(),p=element("select"),g=element("option"),g.textContent=b,w=element("option"),w.textContent=x,y=element("option"),y.textContent=S,v=element("option"),v.textContent=T,k=element("option"),k.textContent=R,this.h()},l(C){i=claim_element(C,"DIV",{class:!0});var F=children(i);n=claim_element(F,"DIV",{class:!0});var L=children(n);r=claim_element(L,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-1x7q14x"&&(r.innerHTML=s),a=claim_space(L),l=claim_element(L,"SELECT",{class:!0});var B=children(l);o=claim_element(B,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-rbumll"&&(o.textContent=f),c=claim_element(B,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(c)!=="svelte-r40fva"&&(c.textContent=d),B.forEach(detach),L.forEach(detach),u=claim_space(F),h=claim_element(F,"DIV",{class:!0});var U=children(h);_=claim_element(U,"DIV",{"data-svelte-h":!0}),get_svelte_dataset(_)!=="svelte-1l7hibe"&&(_.innerHTML=E),m=claim_space(U),p=claim_element(U,"SELECT",{class:!0});var $=children(p);g=claim_element($,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(g)!=="svelte-1l5kvqa"&&(g.textContent=b),w=claim_element($,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(w)!=="svelte-n1flkg"&&(w.textContent=x),y=claim_element($,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(y)!=="svelte-8aqnyl"&&(y.textContent=S),v=claim_element($,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(v)!=="svelte-sd5fya"&&(v.textContent=T),k=claim_element($,"OPTION",{"data-svelte-h":!0}),get_svelte_dataset(k)!=="svelte-1fppai0"&&(k.textContent=R),$.forEach(detach),U.forEach(detach),F.forEach(detach),this.h()},h(){o.__value="true",set_input_value(o,o.__value),c.__value="false",set_input_value(c,c.__value),attr(l,"class","select select-bordered"),t[0]===void 0&&add_render_callback(()=>t[4].call(l)),attr(n,"class","flex flex-row justify-between items-center"),g.__value=10*1024,set_input_value(g,g.__value),w.__value=100*1024,set_input_value(w,w.__value),y.__value=1024*1024*1024,set_input_value(y,y.__value),v.__value=10*1024*1024*1024,set_input_value(v,v.__value),k.__value=1024*1024*1024*1024,set_input_value(k,k.__value),attr(p,"class","select select-bordered"),t[1]===void 0&&add_render_callback(()=>t[5].call(p)),attr(h,"class","flex flex-row justify-between items-center"),attr(i,"class","grid grid-cols-1 gap-4 md:grid-cols-2")},m(C,F){insert_hydration(C,i,F),append_hydration(i,n),append_hydration(n,r),append_hydration(n,a),append_hydration(n,l),append_hydration(l,o),append_hydration(l,c),select_option(l,t[0],!0),append_hydration(i,u),append_hydration(i,h),append_hydration(h,_),append_hydration(h,m),append_hydration(h,p),append_hydration(p,g),append_hydration(p,w),append_hydration(p,y),append_hydration(p,v),append_hydration(p,k),select_option(p,t[1],!0),A||(N=[listen(l,"change",t[4]),listen(l,"change",t[2]),listen(p,"change",t[5]),listen(p,"change",t[2])],A=!0)},p(C,[F]){F&1&&select_option(l,C[0]),F&2&&select_option(p,C[1])},i:noop$1,o:noop$1,d(C){C&&detach(i),A=!1,run_all(N)}}}function instance$2(t,i,n){let r=defaultReceiveOptions.autoAccept?"true":"false",s=defaultReceiveOptions.maxSize;function a(){return r==="true"}let{onUpdate:l}=i;function o(){l({autoAccept:a(),maxSize:s})}function f(){r=select_value(this),n(0,r)}function c(){s=select_value(this),n(1,s)}return t.$$set=d=>{"onUpdate"in d&&n(3,l=d.onUpdate)},[r,s,o,l,f,c]}class ReceiverOptions extends SvelteComponent{constructor(i){super(),init(this,i,instance$2,create_fragment$4,safe_not_equal,{onUpdate:3})}}function create_else_block(t){let i,n="Connected, Waiting for files...";return{c(){i=element("p"),i.textContent=n,this.h()},l(r){i=claim_element(r,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(i)!=="svelte-llnss9"&&(i.textContent=n),this.h()},h(){attr(i,"class","mt-4")},m(r,s){insert_hydration(r,i,s)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(i)}}}function create_if_block(t){let i,n,r,s="Download all files (zip)",a,l,o;return i=new ReceivingFileList({props:{receivingFiles:t[0],onRemove:t[1],onDownload:t[2],onAccept:t[3],onDeny:t[4]}}),{c(){create_component(i.$$.fragment),n=space(),r=element("button"),r.textContent=s,this.h()},l(f){claim_component(i.$$.fragment,f),n=claim_space(f),r=claim_element(f,"BUTTON",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(r)!=="svelte-1rrucm4"&&(r.textContent=s),this.h()},h(){attr(r,"class","btn btn-primary mt-2")},m(f,c){mount_component(i,f,c),insert_hydration(f,n,c),insert_hydration(f,r,c),a=!0,l||(o=listen(r,"click",t[5]),l=!0)},p(f,c){const d={};c&1&&(d.receivingFiles=f[0]),i.$set(d)},i(f){a||(transition_in(i.$$.fragment,f),a=!0)},o(f){transition_out(i.$$.fragment,f),a=!1},d(f){f&&(detach(n),detach(r)),destroy_component(i,f),l=!1,o()}}}function create_fragment$3(t){let i,n,r,s,a,l,o;n=new ReceiverOptions({props:{onUpdate:t[6]}});const f=[create_if_block,create_else_block],c=[];function d(u,h){return h&1&&(s=null),s==null&&(s=Object.keys(u[0]).length>0),s?0:1}return a=d(t,-1),l=c[a]=f[a](t),{c(){i=element("div"),create_component(n.$$.fragment),r=space(),l.c(),this.h()},l(u){i=claim_element(u,"DIV",{class:!0});var h=children(i);claim_component(n.$$.fragment,h),r=claim_space(h),l.l(h),h.forEach(detach),this.h()},h(){attr(i,"class","grid gap-4")},m(u,h){insert_hydration(u,i,h),mount_component(n,i,null),append_hydration(i,r),c[a].m(i,null),o=!0},p(u,[h]){let _=a;a=d(u,h),a===_?c[a].p(u,h):(group_outros(),transition_out(c[_],1,1,()=>{c[_]=null}),check_outros(),l=c[a],l?l.p(u,h):(l=c[a]=f[a](u),l.c()),transition_in(l,1),l.m(i,null))},i(u){o||(transition_in(n.$$.fragment,u),transition_in(l),o=!0)},o(u){transition_out(n.$$.fragment,u),transition_out(l),o=!1},d(u){u&&detach(i),destroy_component(n),c[a].d()}}}function instance$1(t,i,n){let{dataChannel:r}=i,{isEncrypt:s}=i,{rsa:a}=i,l=defaultReceiveOptions,o={};async function f(p,g){let b;s&&(b=await decryptAesKeyWithRsaPrivateKey(a.privateKey,g.key)),n(0,o[p]={metaData:g,progress:0,bitrate:0,receivedSize:0,receivedChunks:[],startTime:0,status:FileStatus.WaitingAccept,aesKey:b},o);const w=validateFileMetadata(g,l.maxSize);if(w){addToastMessage(`${g.name} ${w.message}`,"error"),r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_VALIDATE_ERROR}).finish()),n(0,o[p].error=w,o);return}l.autoAccept&&(r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_RECEIVER_ACCEPT}).finish()),n(0,o[p].status=FileStatus.Processing,o),n(0,o[p].startTime=Date.now(),o))}async function c(p,g){let b=g;r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_RECEIVED_CHUNK}).finish());const w=o[p];s&&w.aesKey&&(b=await decryptAesGcm(w.aesKey,b));const x=b.byteLength;o[p].receivedChunks.push(b),n(0,o[p].receivedSize+=x,o),n(0,o[p].progress=Math.round(o[p].receivedSize/w.metaData.size*100),o),n(0,o[p].bitrate=Math.round(o[p].receivedSize/((Date.now()-o[p].startTime)/1e3)),o),o[p].receivedSize>=w.metaData.size&&(n(0,o[p].status=FileStatus.Success,o),addToastMessage(`Received ${o[p].metaData.name}`,"success"))}function d(p){o[p].status!=FileStatus.Success&&r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_RECEIVER_REJECT}).finish()),delete o[p],n(0,o)}async function u(p){const g=o[p],b=new Blob(g.receivedChunks,{type:g.metaData.type}),w=URL.createObjectURL(b),x=document.createElement("a");x.href=w,x.download=g.metaData.name,x.click(),URL.revokeObjectURL(w)}function h(p){r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_RECEIVER_ACCEPT}).finish()),n(0,o[p].status=FileStatus.Processing,o),n(0,o[p].startTime=Date.now(),o)}function _(p){r.send(Message.encode({id:p,receiveEvent:ReceiveEvent.EVENT_RECEIVER_REJECT}).finish()),delete o[p],n(0,o)}async function E(){const p=new BlobWriter,g=new ZipWriter(p);let b=!1;for(const w of Object.keys(o)){if(o[w].status!=FileStatus.Success||o[w].error)continue;const x=o[w],y=new Blob(x.receivedChunks,{type:x.metaData.type}),S=x.metaData.name,v=new BlobReader(y);await g.add(S,v),b=!0}if(await g.close(),b){const w=await p.getData(),x=URL.createObjectURL(w),y=document.createElement("a");y.href=x,y.download="zero-share.zip",y.click(),URL.revokeObjectURL(x);return}addToastMessage("Not found files to download","error")}function m(p){l=p}return t.$$set=p=>{"dataChannel"in p&&n(7,r=p.dataChannel),"isEncrypt"in p&&n(8,s=p.isEncrypt),"rsa"in p&&n(9,a=p.rsa)},[o,d,u,h,_,E,m,r,s,a,f,c]}class Receiver extends SvelteComponent{constructor(i){super(),init(this,i,instance$1,create_fragment$3,safe_not_equal,{dataChannel:7,isEncrypt:8,rsa:9,onMetaData:10,onChunkData:11})}get onMetaData(){return this.$$.ctx[10]}get onChunkData(){return this.$$.ctx[11]}}function create_fragment$2(t){let i,n;return{c(){i=svg_element("svg"),n=svg_element("path"),this.h()},l(r){i=claim_svg_element(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=children(i);n=claim_svg_element(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(n).forEach(detach),s.forEach(detach),this.h()},h(){attr(n,"fill-rule","evenodd"),attr(n,"d","M13.887 3.182c.396.037.79.08 1.183.128C16.194 3.45 17 4.414 17 5.517V16.75A2.25 2.25 0 0114.75 19h-9.5A2.25 2.25 0 013 16.75V5.517c0-1.103.806-2.068 1.93-2.207.393-.048.787-.09 1.183-.128A3.001 3.001 0 019 1h2c1.373 0 2.531.923 2.887 2.182zM7.5 4A1.5 1.5 0 019 2.5h2A1.5 1.5 0 0112.5 4v.5h-5V4z"),attr(n,"clip-rule","evenodd"),attr(i,"xmlns","http://www.w3.org/2000/svg"),attr(i,"viewBox","0 0 20 20"),attr(i,"fill","currentColor"),attr(i,"class","w-4 h-4")},m(r,s){insert_hydration(r,i,s),append_hydration(i,n)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(i)}}}class ClipboardIcon extends SvelteComponent{constructor(i){super(),init(this,i,null,create_fragment$2,safe_not_equal,{})}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */var Mode;(function(t){t[t.Terminator=0]="Terminator",t[t.Numeric=1]="Numeric",t[t.Alphanumeric=2]="Alphanumeric",t[t.StructuredAppend=3]="StructuredAppend",t[t.Byte=4]="Byte",t[t.Kanji=8]="Kanji",t[t.ECI=7]="ECI"})(Mode||(Mode={}));/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class QRData{constructor(i,n){this.bytes=[],this.mode=i,this.data=n}getLength(){return this.bytes.length}getLengthInBits(i){const n=this.mode,r=new Error(`illegal mode: ${n}`);if(1<=i&&i<10)switch(n){case Mode.Numeric:return 10;case Mode.Alphanumeric:return 9;case Mode.Byte:return 8;case Mode.Kanji:return 8;default:throw r}else if(i<27)switch(n){case Mode.Numeric:return 12;case Mode.Alphanumeric:return 11;case Mode.Byte:return 16;case Mode.Kanji:return 10;default:throw r}else if(i<41)switch(n){case Mode.Numeric:return 14;case Mode.Alphanumeric:return 13;case Mode.Byte:return 16;case Mode.Kanji:return 12;default:throw r}else throw new Error(`illegal version: ${i}`)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function encode$1(t){let i=0;const{length:n}=t,r=[];for(let s=0;s<n;s++){let a=t.charCodeAt(s);a<128?r[i++]=a:a<2048?(r[i++]=a>>6|192,r[i++]=a&63|128):(a&64512)===55296&&s+1<n&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),r[i++]=a>>18|240,r[i++]=a>>12&63|128,r[i++]=a>>6&63|128,r[i++]=a&63|128):(r[i++]=a>>12|224,r[i++]=a>>6&63|128,r[i++]=a&63|128)}return r}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class QRByte extends QRData{constructor(i,n){if(super(Mode.Byte,i),this.encoding=-1,typeof n=="function"){const{encoding:r,bytes:s}=n(i);this.bytes=s,this.encoding=r}else this.bytes=encode$1(i),this.encoding=26}writeTo(i){const{bytes:n}=this;for(const r of n)i.put(r,8)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const EXP_TABLE=[],LOG_TABLE=[];for(let t=0;t<256;t++)LOG_TABLE[t]=0,EXP_TABLE[t]=t<8?1<<t:EXP_TABLE[t-4]^EXP_TABLE[t-5]^EXP_TABLE[t-6]^EXP_TABLE[t-8];for(let t=0;t<255;t++)LOG_TABLE[EXP_TABLE[t]]=t;function glog(t){if(t<1)throw new Error(`illegal log: ${t}`);return LOG_TABLE[t]}function gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return EXP_TABLE[t]}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class Polynomial{constructor(i,n=0){let r=0,{length:s}=i;for(;r<s&&i[r]===0;)r++;s-=r;const a=[];for(let l=0;l<s;l++)a.push(i[r+l]);for(let l=0;l<n;l++)a.push(0);this.num=a}getAt(i){return this.num[i]}getLength(){return this.num.length}multiply(i){const n=[],r=i.getLength(),s=this.getLength(),a=s+r-1;for(let l=0;l<a;l++)n.push(0);for(let l=0;l<s;l++)for(let o=0;o<r;o++)n[l+o]^=gexp(glog(this.getAt(l))+glog(i.getAt(o)));return new Polynomial(n)}mod(i){const n=i.getLength(),r=this.getLength();if(r-n<0)return this;const s=glog(this.getAt(0))-glog(i.getAt(0)),a=[];for(let l=0;l<r;l++)a.push(this.getAt(l));for(let l=0;l<n;l++)a[l]^=gexp(glog(i.getAt(l))+s);return new Polynomial(a).mod(i)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const N1=3,N2=3,N3=40,N4=10,ALIGNMENT_PATTERN_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15_MASK=21522,G15=1335,G18=7973;function getAlignmentPattern(t){return ALIGNMENT_PATTERN_TABLE[t-1]}function getErrorCorrectionPolynomial(t){let i=new Polynomial([1]);for(let n=0;n<t;n++)i=i.multiply(new Polynomial([1,gexp(n)]));return i}function getBCHDigit(t){let i=0;for(;t!==0;)i++,t>>>=1;return i}const G18_BCH=getBCHDigit(G18);function getBCHVersion(t){let i=t<<12;for(;getBCHDigit(i)-G18_BCH>=0;)i^=G18<<getBCHDigit(i)-G18_BCH;return t<<12|i}const G15_BCH=getBCHDigit(G15);function getBCHVersionInfo(t){let i=t<<10;for(;getBCHDigit(i)-G15_BCH>=0;)i^=G15<<getBCHDigit(i)-G15_BCH;return(t<<10|i)^G15_MASK}function applyMaskPenaltyRule1Internal(t,i){const n=t.getMatrixSize();let r=0;for(let s=0;s<n;s++){let a=!1,l=0;for(let o=0;o<n;o++){const f=i?t.isDark(s,o):t.isDark(o,s);f===a?(l++,l===5?r+=N1:l>5&&r++):(a=f,l=1)}}return r}function applyMaskPenaltyRule1(t){return applyMaskPenaltyRule1Internal(t,!0)+applyMaskPenaltyRule1Internal(t,!1)}function applyMaskPenaltyRule2(t){const i=t.getMatrixSize();let n=0;for(let r=0;r<i-1;r++)for(let s=0;s<i-1;s++){const a=t.isDark(r,s);a===t.isDark(r,s+1)&&a===t.isDark(r+1,s)&&a===t.isDark(r+1,s+1)&&(n+=N2)}return n}function isFourWhite(t,i,n,r,s){n=Math.max(n,0),r=Math.min(r,t.getMatrixSize());for(let a=n;a<r;a++)if(s?t.isDark(i,a):t.isDark(a,i))return!1;return!0}function applyMaskPenaltyRule3(t){const i=t.getMatrixSize();let n=0;for(let r=0;r<i;r++)for(let s=0;s<i;s++)s+6<i&&t.isDark(r,s)&&!t.isDark(r,s+1)&&t.isDark(r,s+2)&&t.isDark(r,s+3)&&t.isDark(r,s+4)&&!t.isDark(r,s+5)&&t.isDark(r,s+6)&&(isFourWhite(t,r,s-4,s,!0)||isFourWhite(t,r,s+7,s+11,!0))&&(n+=N3),r+6<i&&t.isDark(r,s)&&!t.isDark(r+1,s)&&t.isDark(r+2,s)&&t.isDark(r+3,s)&&t.isDark(r+4,s)&&!t.isDark(r+5,s)&&t.isDark(r+6,s)&&(isFourWhite(t,s,r-4,r,!1)||isFourWhite(t,s,r+7,r+11,!1))&&(n+=N3);return n}function applyMaskPenaltyRule4(t){const i=t.getMatrixSize();let n=0;for(let a=0;a<i;a++)for(let l=0;l<i;l++)t.isDark(a,l)&&n++;const r=i*i;return Math.floor(Math.abs(n*20-r*10)/r)*N4}function calculateMaskPenalty(t){return applyMaskPenaltyRule1(t)+applyMaskPenaltyRule2(t)+applyMaskPenaltyRule3(t)+applyMaskPenaltyRule4(t)}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */var ErrorCorrectionLevel;(function(t){t[t.L=1]="L",t[t.M=0]="M",t[t.Q=3]="Q",t[t.H=2]="H"})(ErrorCorrectionLevel||(ErrorCorrectionLevel={}));/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class RSBlock{constructor(i,n){this.dataCount=n,this.totalCount=i}getDataCount(){return this.dataCount}getTotalCount(){return this.totalCount}static getRSBlocks(i,n){const r=[],s=RSBlock.getRSBlockTable(i,n),a=s.length/3;for(let l=0;l<a;l++){const o=s[l*3+0],f=s[l*3+1],c=s[l*3+2];for(let d=0;d<o;d++)r.push(new RSBlock(f,c))}return r}static getRSBlockTable(i,n){switch(n){case ErrorCorrectionLevel.L:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+0];case ErrorCorrectionLevel.M:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+1];case ErrorCorrectionLevel.Q:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+2];case ErrorCorrectionLevel.H:return RSBlock.RS_BLOCK_TABLE[(i-1)*4+3];default:throw new Error(`illegal error correction level: ${n}`)}}}RSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class BitBuffer{constructor(){this.length=0,this.buffer=[]}getBuffer(){return this.buffer}getLengthInBits(){return this.length}getBit(i){return(this.buffer[i/8>>0]>>>7-i%8&1)===1}put(i,n){for(let r=0;r<n;r++)this.putBit((i>>>n-r-1&1)===1)}putBit(i){const{buffer:n}=this;this.length===n.length*8&&n.push(0),i&&(n[this.length/8>>0]|=128>>>this.length%8),this.length++}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const MAX_CODE=4096-1;class Dict{constructor(i){const n=1<<i,r=n+1;this.bof=n,this.eof=r,this.depth=i,this.reset()}reset(){const i=this.depth+1;this.bits=i,this.size=1<<i,this.codes=new Map,this.unused=this.eof+1}add(i,n){let{unused:r}=this;if(r>MAX_CODE)return!1;this.codes.set(i<<8|n,r++);let{bits:s,size:a}=this;return r>a&&(a=1<<++s),this.bits=s,this.size=a,this.unused=r,!0}get(i,n){return this.codes.get(i<<8|n)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class DictStream{constructor(i){this.bits=0,this.buffer=0,this.bytes=[],this.dict=i}write(i){let{bits:n}=this,r=this.buffer|i<<n;n+=this.dict.bits;const{bytes:s}=this;for(;n>=8;)s.push(r&255),r>>=8,n-=8;this.bits=n,this.buffer=r}pipe(i){const{bytes:n}=this;this.bits>0&&n.push(this.buffer),i.writeByte(this.dict.depth);const{length:r}=n;for(let s=0;s<r;){const a=r-s;a>=255?(i.writeByte(255),i.writeBytes(n,s,255),s+=255):(i.writeByte(a),i.writeBytes(n,s,a),s=r)}i.writeByte(0)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function compress(t,i,n){const r=new Dict(i),s=new DictStream(r);if(s.write(r.bof),t.length>0){let a=t[0];const{length:l}=t;for(let o=1;o<l;o++){const f=t[o],c=r.get(a,f);c!=null?a=c:(s.write(a),r.add(a,f)||(s.write(r.bof),r.reset()),a=f)}s.write(a)}s.write(r.eof),s.pipe(n)}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class ByteStream{constructor(){this.bytes=[]}writeByte(i){this.bytes.push(i&255)}writeInt16(i){this.bytes.push(i&255,i>>8&255)}writeBytes(i,n=0,r=i.length){const s=this.bytes;for(let a=0;a<r;a++)s.push(i[n+a]&255)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const{fromCharCode}=String;function encode(t){if(t&=63,t>=0){if(t<26)return 65+t;if(t<52)return 97+(t-26);if(t<62)return 48+(t-52);if(t===62)return 43;if(t===63)return 47}throw new Error(`illegal char: ${fromCharCode(t)}`)}class Base64Stream{constructor(){this.bits=0,this.buffer=0,this.length=0,this.stream=new ByteStream}get bytes(){return this.stream.bytes}write(i){let n=this.bits+8;const{stream:r}=this,s=this.buffer<<8|i&255;for(;n>=6;)r.writeByte(encode(s>>>n-6)),n-=6;this.length++,this.bits=n,this.buffer=s}close(){const{bits:i,stream:n,length:r}=this;if(i>0&&(n.writeByte(encode(this.buffer<<6-i)),this.bits=0,this.buffer=0),r%3!=0){const s=3-r%3;for(let a=0;a<s;a++)n.writeByte(61)}}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */class GIFImage{constructor(i,n,{foreground:r=[0,0,0],background:s=[255,255,255]}={}){this.pixels=[],this.width=i,this.height=n,this.foreground=r,this.background=s}encodeImpl(){const i=new ByteStream,{width:n,height:r,background:s,foreground:a}=this;return i.writeBytes([71,73,70,56,57,97]),i.writeInt16(n),i.writeInt16(r),i.writeBytes([128,0,0]),i.writeBytes([s[0],s[1],s[2]]),i.writeBytes([a[0],a[1],a[2]]),i.writeByte(44),i.writeInt16(0),i.writeInt16(0),i.writeInt16(n),i.writeInt16(r),i.writeByte(0),compress(this.pixels,2,i),i.writeByte(59),i.bytes}set(i,n,r){this.pixels[n*this.width+i]=r}toDataURL(){const i=this.encodeImpl(),n=new Base64Stream;for(const a of i)n.write(a);n.close();const r=n.bytes;let s="data:image/gif;base64,";for(const a of r)s+=fromCharCode(a);return s}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */function getMaskFunc(t){switch(t){case 0:return(i,n)=>(i+n&1)===0;case 1:return(i,n)=>(n&1)===0;case 2:return(i,n)=>i%3===0;case 3:return(i,n)=>(i+n)%3===0;case 4:return(i,n)=>((i/3>>0)+(n/2>>0)&1)===0;case 5:return(i,n)=>(i*n&1)+i*n%3===0;case 6:return(i,n)=>((i*n&1)+i*n%3&1)===0;case 7:return(i,n)=>(i*n%3+(i+n&1)&1)===0;default:throw new Error(`illegal mask: ${t}`)}}/**
 * @module QRCode
 * @package @nuintun/qrcode
 * @license MIT
 * @version 3.4.0
 * @author nuintun <nuintun@qq.com>
 * @description A pure JavaScript QRCode encode and decode library.
 * @see https://github.com/nuintun/qrcode#readme
 */const PAD0=236,PAD1=17,{toString}=Object.prototype;function appendECI(t,i){if(t<0||t>=1e6)throw new Error("byte mode encoding hint out of range");i.put(Mode.ECI,4),t<128?i.put(t,8):t<16384?(i.put(2,2),i.put(t,14)):(i.put(6,3),i.put(t,21))}function prepareData(t,i,n,r){const s=new BitBuffer,a=RSBlock.getRSBlocks(t,i);for(const o of r){const f=o.mode;n&&f===Mode.Byte&&appendECI(o.encoding,s),s.put(f,4),s.put(o.getLength(),o.getLengthInBits(t)),o.writeTo(s)}let l=0;for(const o of a)l+=o.getDataCount();return l*=8,[s,a,l]}function createBytes(t,i){let n=0,r=0,s=0;const a=[],l=[],o=i.length,f=t.getBuffer();for(let c=0;c<o;c++){const d=i[c],u=d.getDataCount(),h=d.getTotalCount()-u;r=Math.max(r,u),s=Math.max(s,h),a[c]=[];for(let b=0;b<u;b++)a[c][b]=255&f[b+n];n+=u;const _=getErrorCorrectionPolynomial(h),E=_.getLength()-1,p=new Polynomial(a[c],E).mod(_),g=p.getLength();l[c]=[];for(let b=0;b<E;b++){const w=b+g-E;l[c][b]=w>=0?p.getAt(w):0}}t=new BitBuffer;for(let c=0;c<r;c++)for(let d=0;d<o;d++)c<a[d].length&&t.put(a[d][c],8);for(let c=0;c<s;c++)for(let d=0;d<o;d++)c<l[d].length&&t.put(l[d][c],8);return t}function createData(t,i,n){for(t.getLengthInBits()+4<=n&&t.put(0,4);t.getLengthInBits()%8!==0;)t.putBit(!1);for(;!(t.getLengthInBits()>=n||(t.put(PAD0,8),t.getLengthInBits()>=n));)t.put(PAD1,8);return createBytes(t,i)}class Encoder{constructor(i={}){this.matrixSize=0,this.chunks=[],this.matrix=[];const{version:n=0,encodingHint:r=!1,errorCorrectionLevel:s=ErrorCorrectionLevel.L}=i;this.setVersion(n),this.setEncodingHint(r),this.setErrorCorrectionLevel(s)}getMatrix(){return this.matrix}getMatrixSize(){return this.matrixSize}getVersion(){return this.version}setVersion(i){return this.version=Math.min(40,Math.max(0,i>>0)),this.auto=this.version===0,this}getErrorCorrectionLevel(){return this.errorCorrectionLevel}setErrorCorrectionLevel(i){switch(i){case ErrorCorrectionLevel.L:case ErrorCorrectionLevel.M:case ErrorCorrectionLevel.Q:case ErrorCorrectionLevel.H:this.errorCorrectionLevel=i}return this}getEncodingHint(){return this.encodingHint}setEncodingHint(i){return this.encodingHint=i,this}write(i){const{chunks:n}=this;if(i instanceof QRData)n.push(i);else if(toString.call(i)==="[object String]")n.push(new QRByte(i));else throw new Error(`illegal data: ${i}`);return this}isDark(i,n){return this.matrix[i][n]===!0}setupFinderPattern(i,n){const{matrix:r}=this,s=this.matrixSize;for(let a=-1;a<=7;a++)for(let l=-1;l<=7;l++)i+a<=-1||s<=i+a||n+l<=-1||s<=n+l||(0<=a&&a<=6&&(l===0||l===6)||0<=l&&l<=6&&(a===0||a===6)||2<=a&&a<=4&&2<=l&&l<=4?r[i+a][n+l]=!0:r[i+a][n+l]=!1)}setupAlignmentPattern(){const{matrix:i}=this,n=getAlignmentPattern(this.version),{length:r}=n;for(let s=0;s<r;s++)for(let a=0;a<r;a++){const l=n[s],o=n[a];if(i[l][o]===null)for(let f=-2;f<=2;f++)for(let c=-2;c<=2;c++)f===-2||f===2||c===-2||c===2||f===0&&c===0?i[l+f][o+c]=!0:i[l+f][o+c]=!1}}setupTimingPattern(){const{matrix:i}=this,n=this.matrixSize-8;for(let r=8;r<n;r++){const s=r%2===0;i[r][6]===null&&(i[r][6]=s),i[6][r]===null&&(i[6][r]=s)}}setupFormatInfo(i){const{matrix:n}=this,r=this.errorCorrectionLevel<<3|i,s=getBCHVersionInfo(r),a=this.matrixSize;for(let l=0;l<15;l++){const o=(s>>l&1)===1;l<6?n[l][8]=o:l<8?n[l+1][8]=o:n[a-15+l][8]=o,l<8?n[8][a-l-1]=o:l<9?n[8][15-l-1+1]=o:n[8][15-l-1]=o}n[a-8][8]=!0}setupVersionInfo(){if(this.version>=7){const{matrix:i}=this,n=this.matrixSize,r=getBCHVersion(this.version);for(let s=0;s<18;s++){const a=(r>>s&1)===1;i[s/3>>0][s%3+n-8-3]=a,i[s%3+n-8-3][s/3>>0]=a}}}setupCodewords(i,n){const{matrix:r}=this,s=this.matrixSize,a=i.getLengthInBits(),l=getMaskFunc(n);let o=0;for(let f=s-1;f>=1;f-=2){f===6&&(f=5);for(let c=0;c<s;c++)for(let d=0;d<2;d++){const u=f-d,_=(f+1&2)===0?s-1-c:c;if(r[_][u]!==null)continue;let E=!1;o<a&&(E=i.getBit(o++)),l(u,_)&&(E=!E),r[_][u]=E}}}buildMatrix(i,n){const r=[],s=this.matrixSize;for(let a=0;a<s;a++){r[a]=[];for(let l=0;l<s;l++)r[a][l]=null}this.matrix=r,this.setupFinderPattern(0,0),this.setupFinderPattern(s-7,0),this.setupFinderPattern(0,s-7),this.setupAlignmentPattern(),this.setupTimingPattern(),this.setupFormatInfo(n),this.setupVersionInfo(),this.setupCodewords(i,n)}make(){let i,n,r;const{chunks:s,errorCorrectionLevel:a}=this;if(this.auto){let d=1;for(;d<=40&&([i,n,r]=prepareData(d,a,this.encodingHint,s),!(i.getLengthInBits()<=r));d++);const u=i.getLengthInBits();if(u>r)throw new Error(`data overflow: ${u} > ${r}`);this.version=d}else[i,n,r]=prepareData(this.version,a,this.encodingHint,s);this.matrixSize=this.version*4+17;const l=[],o=createData(i,n,r);let f=-1,c=Number.MAX_VALUE;for(let d=0;d<8;d++){this.buildMatrix(o,d),l.push(this.matrix);const u=calculateMaskPenalty(this);u<c&&(c=u,f=d)}return this.matrix=l[f],this}toDataURL(i=2,n=i*4,r){i=Math.max(1,i>>0),n=Math.max(0,n>>0);const s=this.matrixSize,a=i*s+n*2,l=n,o=a-n,f=new GIFImage(a,a,r);for(let c=0;c<a;c++)for(let d=0;d<a;d++)if(l<=d&&d<o&&l<=c&&c<o){const u=(c-l)/i>>0,h=(d-l)/i>>0;f.set(d,c,this.isDark(u,h)?1:0)}else f.set(d,c,0);return f.toDataURL()}clear(){this.chunks=[]}}function create_fragment$1(t){let i,n;return{c(){i=svg_element("svg"),n=svg_element("path"),this.h()},l(r){i=claim_svg_element(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var s=children(i);n=claim_svg_element(s,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),children(n).forEach(detach),s.forEach(detach),this.h()},h(){attr(n,"fill-rule","evenodd"),attr(n,"d","M3.75 2A1.75 1.75 0 002 3.75v3.5C2 8.216 2.784 9 3.75 9h3.5A1.75 1.75 0 009 7.25v-3.5A1.75 1.75 0 007.25 2h-3.5zM3.5 3.75a.25.25 0 01.25-.25h3.5a.25.25 0 01.25.25v3.5a.25.25 0 01-.25.25h-3.5a.25.25 0 01-.25-.25v-3.5zM3.75 11A1.75 1.75 0 002 12.75v3.5c0 .966.784 1.75 1.75 1.75h3.5A1.75 1.75 0 009 16.25v-3.5A1.75 1.75 0 007.25 11h-3.5zm-.25 1.75a.25.25 0 01.25-.25h3.5a.25.25 0 01.25.25v3.5a.25.25 0 01-.25.25h-3.5a.25.25 0 01-.25-.25v-3.5zm7.5-9c0-.966.784-1.75 1.75-1.75h3.5c.966 0 1.75.784 1.75 1.75v3.5A1.75 1.75 0 0116.25 9h-3.5A1.75 1.75 0 0111 7.25v-3.5zm1.75-.25a.25.25 0 00-.25.25v3.5c0 .138.112.25.25.25h3.5a.25.25 0 00.25-.25v-3.5a.25.25 0 00-.25-.25h-3.5zm-7.26 1a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V5.5a1 1 0 00-1-1h-.01zm9 0a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1V5.5a1 1 0 00-1-1h-.01zm-9 9a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1v-.01a1 1 0 00-1-1h-.01zm9 0a1 1 0 00-1 1v.01a1 1 0 001 1h.01a1 1 0 001-1v-.01a1 1 0 00-1-1h-.01zm-3.5-1.5a1 1 0 011-1H12a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1V12zm6-1a1 1 0 00-1 1v.01a1 1 0 001 1H17a1 1 0 001-1V12a1 1 0 00-1-1h-.01zm-1 6a1 1 0 011-1H17a1 1 0 011 1v.01a1 1 0 01-1 1h-.01a1 1 0 01-1-1V17zm-4-1a1 1 0 00-1 1v.01a1 1 0 001 1H12a1 1 0 001-1V17a1 1 0 00-1-1h-.01z"),attr(n,"clip-rule","evenodd"),attr(i,"xmlns","http://www.w3.org/2000/svg"),attr(i,"viewBox","0 0 20 20"),attr(i,"fill","currentColor"),attr(i,"class","w-4 h-4")},m(r,s){insert_hydration(r,i,s),append_hydration(i,n)},p:noop$1,i:noop$1,o:noop$1,d(r){r&&detach(i)}}}class QrIcon extends SvelteComponent{constructor(i){super(),init(this,i,null,create_fragment$1,safe_not_equal,{})}}function create_fragment(t){let i,n,r,s,a,l,o,f,c,d,u,h,_,E,m,p;return n=new QrIcon({}),{c(){i=element("label"),create_component(n.$$.fragment),r=text(`
  QR Code`),s=space(),a=element("input"),l=space(),o=element("label"),f=element("label"),c=element("h3"),d=text(t[0]),u=space(),h=element("img"),this.h()},l(g){i=claim_element(g,"LABEL",{for:!0,class:!0});var b=children(i);claim_component(n.$$.fragment,b),r=claim_text(b,`
  QR Code`),b.forEach(detach),s=claim_space(g),a=claim_element(g,"INPUT",{type:!0,id:!0,class:!0}),l=claim_space(g),o=claim_element(g,"LABEL",{for:!0,class:!0});var w=children(o);f=claim_element(w,"LABEL",{class:!0,for:!0});var x=children(f);c=claim_element(x,"H3",{class:!0});var y=children(c);d=claim_text(y,t[0]),y.forEach(detach),u=claim_space(x),h=claim_element(x,"IMG",{class:!0,src:!0,alt:!0}),x.forEach(detach),w.forEach(detach),this.h()},h(){attr(i,"for","qr-modal"),attr(i,"class","btn gap-2"),attr(a,"type","checkbox"),attr(a,"id","qr-modal"),attr(a,"class","modal-toggle"),attr(c,"class","text-lg font-bold"),attr(h,"class","w-screen"),src_url_equal(h.src,_=t[2].toDataURL())||attr(h,"src",_),attr(h,"alt","qr"),attr(f,"class","modal-box relative flex flex-col justify-center items-center w-auto"),attr(f,"for",""),attr(o,"for","qr-modal"),attr(o,"class","modal cursor-pointer")},m(g,b){insert_hydration(g,i,b),mount_component(n,i,null),append_hydration(i,r),insert_hydration(g,s,b),insert_hydration(g,a,b),a.checked=t[1],insert_hydration(g,l,b),insert_hydration(g,o,b),append_hydration(o,f),append_hydration(f,c),append_hydration(c,d),append_hydration(f,u),append_hydration(f,h),E=!0,m||(p=listen(a,"change",t[6]),m=!0)},p(g,[b]){b&2&&(a.checked=g[1]),(!E||b&1)&&set_data(d,g[0])},i(g){E||(transition_in(n.$$.fragment,g),E=!0)},o(g){transition_out(n.$$.fragment,g),E=!1},d(g){g&&(detach(i),detach(s),detach(a),detach(l),detach(o)),destroy_component(n),m=!1,p()}}}function instance(t,i,n){let{title:r}=i,{qrData:s}=i,{correctionLevel:a=ErrorCorrectionLevel.L}=i;function l(){n(1,o=!1)}let o=!1;const f=new Encoder({encodingHint:!0,errorCorrectionLevel:a,version:0}).write(new QRByte(s,d=>({bytes:d.split("").map(h=>h.charCodeAt(0)),encoding:27}))).make();function c(){o=this.checked,n(1,o)}return t.$$set=d=>{"title"in d&&n(0,r=d.title),"qrData"in d&&n(3,s=d.qrData),"correctionLevel"in d&&n(4,a=d.correctionLevel)},[r,o,f,s,a,l,c]}class QrModal extends SvelteComponent{constructor(i){super(),init(this,i,instance,create_fragment,safe_not_equal,{title:0,qrData:3,correctionLevel:4,close:5})}get close(){return this.$$.ctx[5]}}export{Collapse as C,Eye as E,Message as M,QrModal as Q,Receiver as R,Sender as S,sdpDecode as a,ClipboardIcon as b,commonjsGlobal as c,defaultSendOptions as d,ErrorCorrectionLevel as e,generateRsaKeyPair as f,getDefaultExportFromCjs as g,exportRsaPublicKeyToBase64 as h,importRsaPublicKeyFromBase64 as i,sdpEncode as j,githubLink as k,stunServers as s,waitIceCandidatesTimeout as w};
